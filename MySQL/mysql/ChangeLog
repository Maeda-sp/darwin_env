ChangeSet
  1.1527.1.3 03/07/18 12:35:29 monty@mashka.(none) +3 -0
  Portability fixes for Redhat 9

  BitKeeper/etc/logging_ok
    1.280 03/07/18 12:35:29 monty@mashka.(none) +1 -0
    Logging to logging@openlogging.org accepted

  vio/viosocket.c
    1.18 03/07/18 12:35:17 monty@mashka.(none) +1 -1
    Removed compiler warning

  acinclude.m4
    1.85 03/07/18 12:35:17 monty@mashka.(none) +12 -3
    Fixed problem with openssl on RedHat 9

ChangeSet
  1.1525.1.2 03/07/18 04:37:37 monty@narttu.mysql.fi +1 -0
  Removed wrong "Found lock of type # that is write and read locked" warnings.

  mysys/thr_lock.c
    1.36 03/07/18 04:37:35 monty@narttu.mysql.fi +14 -7
    Removed wrong "Found lock of type # that is write and read locked" warnings.

ChangeSet
  1.1525.1.1 03/07/18 04:04:24 monty@narttu.mysql.fi +6 -0
  Fixed memory overrun when doing REPAIR on table with multi-part auto_increment key where one part was a packed CHAR

  sql/sql_acl.cc
    1.106 03/07/18 04:04:22 monty@narttu.mysql.fi +5 -1
    Fixed core dump when running with --debug

  mysys/safemalloc.c
    1.23 03/07/18 04:04:22 monty@narttu.mysql.fi +3 -3
    Removed compiler warnings

  mysql-test/t/insert_select.test
    1.10 03/07/18 04:04:22 monty@narttu.mysql.fi +10 -0
    Added test case for memory corruption

  mysql-test/r/insert_select.result
    1.12 03/07/18 04:04:22 monty@narttu.mysql.fi +5 -0
    Added test case for memory corruption

  myisam/mi_key.c
    1.17 03/07/18 04:04:22 monty@narttu.mysql.fi +1 -1
    Fixed unnecessary memory allocation

  myisam/mi_check.c
    1.119 03/07/18 04:04:22 monty@narttu.mysql.fi +18 -4
    Fixed memory overrun in _mi_put_key_in_record

ChangeSet
  1.1527.2.1 03/07/17 20:17:46 serg@serg.mylan +3 -0
  my_strnncoll_latin1_de rewritten from scratch. Bug with overlapping combos went away.

  strings/ctype-latin1_de.c
    1.9 03/07/17 20:17:43 serg@serg.mylan +49 -108
    my_strnncoll_latin1_de rewritten from scratch. Bug with overlapping combos went away.

  mysql-test/t/ctype_latin1_de.test
    1.7 03/07/17 20:17:43 serg@serg.mylan +4 -0
    testing overlapping combos

  mysql-test/r/ctype_latin1_de.result
    1.8 03/07/17 20:17:43 serg@serg.mylan +3 -0
    testing overlapping combos

ChangeSet
  1.1526.1.1 03/07/16 18:15:35 vva@eagle.mysql.r18.ru +1 -0
  fixed bug Bug #683 (Prompt for password doesn't go to console for Windows)

  client/get_password.c
    1.9 03/07/16 18:15:14 vva@eagle.mysql.r18.ru +1 -1
    fixed bug Bug #683 (Prompt for password doesn't go to console for Windows)

ChangeSet
  1.1529 03/07/16 17:13:45 lenz@mysql.com +1 -0
   - heavily reworked the comments and layout of the new sample my.cnf file
     as requested by PeterZ

  support-files/my-innodb-heavy-4G.cnf.sh
    1.2 03/07/16 17:13:42 lenz@mysql.com +312 -272
     - heavily reworked the comments and layout as requested by PeterZ

ChangeSet
  1.1528 03/07/16 12:06:55 lenz@mysql.com +2 -0
   - fixed the automatic generation of support-files/MacOSX/ReadMe.txt - 
     a node name was changed in manual.texi which resulted in a very large
     ReadMe.txt file, as the generating script could not find the (renamed)
     ending node. Fixed the ending node name in Docs/Makefile.am and the 
     Docs/Support/generate-text-files.pl Perl script to make sure this does
     not happen again (I only discovered this because the Do-pkg script was
     not able to add the ReadMe.txt to the Apple Disk image because it ran out
     of disk space due to the size of the file)

  Docs/Support/generate-text-files.pl
    1.3 03/07/16 12:06:52 lenz@mysql.com +6 -3
     - added a safeguard: if the ending node was not found, abort with an error
       to indicate that the generated text file might be too large (as it would
       contain the whole manual, down from the starting node)
     - made some cosmetical changes

  Docs/Makefile.am
    1.39 03/07/16 12:06:52 lenz@mysql.com +1 -1
     - Fixed a node name that was changed in manual.texi and resulted in
       the generation of a _very_ large ReadMe.txt file (down to the very end
       of the manual, since the ending node was not found)

ChangeSet
  1.1527 03/07/15 20:44:29 serg@serg.mylan +1 -0
  Merge bk-internal:/home/bk/mysql-4.0/
  into serg.mylan:/usr/home/serg/Abk/mysql-4.0

  sql/handler.cc
    1.104 03/07/15 20:44:26 serg@serg.mylan +0 -0
    Auto merged

ChangeSet
  1.1505.1.1 03/07/15 20:43:57 serg@serg.mylan +2 -0
  bug #702 - ALTER TABLE tm UNION=(t1,t2) doesn't work if t1.MYD is compressed

  sql/handler.cc
    1.101.1.1 03/07/15 20:43:54 serg@serg.mylan +3 -0
    map EACCES to ER_OPEN_AS_READONLY.
    can only happen on modifying merge table that has (some) read-only myisam tables

  myisammrg/myrg_open.c
    1.22 03/07/15 20:43:54 serg@serg.mylan +3 -6
    never mark merge table as readonly even if all underlying myisam tables are readonly,
    otherwise ALTER TABLE merge UNION=(t1,t2,t3,...) will not work

ChangeSet
  1.1526 03/07/15 12:50:17 lenz@mysql.com +1 -0
   - removed options sort_buffer and key_buffer from calls to (my)isamchk
     in mysqld_safe (commented out by default), to not override any options
     defined in my.cnf (thanks to Axel Schwenke from Jobpilot.de for the
     suggestion)

  scripts/mysqld_safe.sh
    1.63 03/07/15 12:50:15 lenz@mysql.com +8 -4
     - removed options sort_buffer and key_buffer from calls to (my)isamchk
       in mysqld_safe (commented out by default), to not override any options
       defined in my.cnf (thanks to Axel Schwenke from Jobpilot.de for the
       suggestion)

ChangeSet
  1.1525 03/07/15 13:10:20 monty@narttu.mysql.fi +2 -0
  Portability fixes

  sql/item_strfunc.cc
    1.67 03/07/15 13:10:18 monty@narttu.mysql.fi +4 -0
    Portability fix (for Linux Alpha)

  acinclude.m4
    1.84 03/07/15 13:10:18 monty@narttu.mysql.fi +10 -3
    Made test for compress more reliable (for Solaris)

ChangeSet
  1.1524 03/07/14 23:52:17 monty@narttu.mysql.fi +2 -0
  merge

  mysql-test/t/rpl_max_relay_size.test
    1.3 03/07/14 23:52:15 monty@narttu.mysql.fi +0 -6
    merge

  mysql-test/r/rpl_max_relay_size.result
    1.3 03/07/14 23:50:11 monty@narttu.mysql.fi +0 -6
    Auto merged

ChangeSet
  1.1521.1.1 03/07/14 23:49:19 monty@narttu.mysql.fi +3 -0
  Fixed wrong test in LOG::close
  Fixed test for binary build

  sql/log.cc
    1.132 03/07/14 23:49:17 monty@narttu.mysql.fi +2 -2
    Fixed wrong test in close

  mysql-test/t/rpl_max_relay_size.test
    1.1.1.1 03/07/14 23:49:17 monty@narttu.mysql.fi +6 -0
    Fixed test for binary build

  mysql-test/r/rpl_max_relay_size.result
    1.1.1.1 03/07/14 23:49:17 monty@narttu.mysql.fi +6 -6
    Fixed test for binary build

ChangeSet
  1.1523 03/07/14 22:02:26 guilhem@mysql.com +2 -0
  Added missing --replace_result for ports in SHOW SLAVE STATUS.

  mysql-test/t/rpl_max_relay_size.test
    1.2 03/07/14 22:02:21 guilhem@mysql.com +6 -0
    port-independent test

  mysql-test/r/rpl_max_relay_size.result
    1.2 03/07/14 22:02:21 guilhem@mysql.com +6 -6
    result update

ChangeSet
  1.1522 03/07/14 16:04:20 heikki@hundin.mysql.fi +1 -0
  errmsg.txt:
    Correct a misleading error message about max row length

  sql/share/english/errmsg.txt
    1.67 03/07/14 16:04:12 heikki@hundin.mysql.fi +1 -1
    Correct a misleading error message about max row length

ChangeSet
  1.1521 03/07/14 15:53:50 heikki@hundin.mysql.fi +1 -0
  ha_innodb.h:
    Revert the previous patch: MySQL would not allow creation of VARCHAR columns whose total max length is > 8000 bytes, though InnoDB can easily store them as trailing spaces are removed

  sql/ha_innodb.h
    1.61 03/07/14 15:53:39 heikki@hundin.mysql.fi +1 -3
    Revert the previous patch: MySQL would not allow creation of VARCHAR columns whose total max length is > 8000 bytes, though InnoDB can easily store them as trailing spaces are removed

ChangeSet
  1.1520 03/07/14 15:38:20 heikki@hundin.mysql.fi +1 -0
  ha_innodb.h:
    Fix wrong error message: If one tried to create table with a very big row len, MySQL claimed the max len is 64 kB for InnoDB, while it normally is 8000 bytes

  sql/ha_innodb.h
    1.60 03/07/14 15:38:10 heikki@hundin.mysql.fi +3 -2
    Fix wrong error message: If one tried to create table with a very big row len, MySQL claimed the max len is 64 kB for InnoDB, while it normally is 8000 bytes

ChangeSet
  1.1519 03/07/14 14:59:26 monty@narttu.mysql.fi +5 -0
  Better fix for bug #791: At binlog rotation, INSERTs may not find their way into the binlog

  sql/sql_class.h
    1.156 03/07/14 14:59:24 monty@narttu.mysql.fi +8 -4
    Better handling of log.close()

  sql/slave.cc
    1.240 03/07/14 14:59:24 monty@narttu.mysql.fi +3 -3
    Fix argument to close()

  sql/mysqld.cc
    1.446 03/07/14 14:59:24 monty@narttu.mysql.fi +2 -2
    Better startup message

  sql/log.cc
    1.131 03/07/14 14:59:24 monty@narttu.mysql.fi +16 -14
    Better fix for bug #791:
    Mark log as LOG_TO_BE_OPENED instead of LOG_CLOSED when it's closed and opened.

  mysql-test/t/rpl_flush_log_loop.test
    1.3 03/07/14 14:59:24 monty@narttu.mysql.fi +1 -0
    Add timer to avoid problem when 'flush logs' is executed before we have read all data from master

ChangeSet
  1.1516.1.1 03/07/14 12:39:10 ram@mysql.r18.ru +2 -0
  backport fix for the bug #803: INTERVAL(NULL, ....)

  sql/item_cmpfunc.cc
    1.56 03/07/14 12:39:08 ram@mysql.r18.ru +2 -5
    backport fix for the bug #803: INTERVAL(NULL, ....)

  mysql-test/r/func_set.result
    1.6 03/07/14 12:39:08 ram@mysql.r18.ru +1 -1
    backport fix for the bug #803: INTERVAL(NULL, ....)

ChangeSet
  1.1512.1.13 03/07/14 10:12:05 monty@mashka.mysql.fi +17 -0
  Safety and speedup fixes:
  Changed is_open() to work as before.
  Added back inited argument to LOG

  sql/sql_update.cc
    1.90 03/07/14 10:12:03 monty@mashka.mysql.fi +2 -2
    Changed is_open() to work as before

  sql/sql_table.cc
    1.163 03/07/14 10:12:03 monty@mashka.mysql.fi +5 -5
    Changed is_open() to work as before

  sql/sql_repl.cc
    1.106 03/07/14 10:12:03 monty@mashka.mysql.fi +6 -6
    Changed is_open() to work as before

  sql/sql_rename.cc
    1.19 03/07/14 10:12:03 monty@mashka.mysql.fi +1 -1
    Changed is_open() to work as before

  sql/sql_parse.cc
    1.332 03/07/14 10:12:03 monty@mashka.mysql.fi +2 -2
    Changed is_open() to work as before

  sql/sql_load.cc
    1.48 03/07/14 10:12:03 monty@mashka.mysql.fi +4 -4
    Changed is_open() to work as before

  sql/sql_insert.cc
    1.102 03/07/14 10:12:03 monty@mashka.mysql.fi +4 -4
    Changed is_open() to work as before

  sql/sql_delete.cc
    1.98 03/07/14 10:12:03 monty@mashka.mysql.fi +3 -3
    Changed is_open() to work as before

  sql/sql_db.cc
    1.62 03/07/14 10:12:03 monty@mashka.mysql.fi +2 -2
    Changed is_open() to work as before

  sql/sql_class.h
    1.155 03/07/14 10:12:03 monty@mashka.mysql.fi +5 -9
    Changed is_open() to work as before. Added back 'inited' variable

  sql/sql_base.cc
    1.164 03/07/14 10:12:03 monty@mashka.mysql.fi +1 -1
    Changed is_open() to work as before

  sql/repl_failsafe.cc
    1.31 03/07/14 10:12:03 monty@mashka.mysql.fi +1 -1
    Changed is_open() to work as before

  sql/log_event.cc
    1.119 03/07/14 10:12:03 monty@mashka.mysql.fi +5 -5
    Changed is_open() to work as before

  sql/log.cc
    1.130 03/07/14 10:12:03 monty@mashka.mysql.fi +33 -40
    Part revert of previous patch.
    The reason for adding back 'inited' is that is that we can't be 100 % sure that init_pthread_objects() is called before mysqld dies (for example on windows)
    I removed mutex lock handling in is_open() as the new code didn't have ANY affect except beeing slower.
    Added back checking of is_open() to some functions as we don't want to do a mutex lock when we are not using logging.
    Indentation/comment fixes

  sql/item_func.cc
    1.97 03/07/14 10:12:03 monty@mashka.mysql.fi +1 -1
    Changed is_open() to work as before

  sql/handler.cc
    1.103 03/07/14 10:12:03 monty@mashka.mysql.fi +2 -2
    Changed is_open() to work as before

  mysql-test/r/rpl_flush_log_loop.result
    1.5 03/07/14 10:12:03 monty@mashka.mysql.fi +1 -1
    Fixed results (probably bug in previous rpatch)

ChangeSet
  1.1512.1.12 03/07/13 18:50:43 heikki@hundin.mysql.fi +1 -0
  srv0srv.c:
    Put back a 50 millisecond sleep in too high concurrency situations which I removed in the previous push; count also such sleeping threads to the InnoDB queue in SHOW INNODB STATUS

  innobase/srv/srv0srv.c
    1.55 03/07/13 18:50:33 heikki@hundin.mysql.fi +24 -1
    Put back a 50 millisecond sleep in too high concurrency situations which I removed in the previous push; count also such sleeping threads to the InnoDB queue in SHOW INNODB STATUS

ChangeSet
  1.1512.1.11 03/07/13 17:18:06 heikki@hundin.mysql.fi +1 -0
  srv0srv.c:
    Fix a benign bug introduced in 4.0.14: InnoDB could complain 'Error: trying to declare trx to enter InnoDB' if several threads tried to init the auto-inc counter for the same table at the same time; in theory, the bug could even lead to a hang of the server, but that shuld be extremely improbable

  innobase/srv/srv0srv.c
    1.54 03/07/13 17:17:45 heikki@hundin.mysql.fi +20 -25
    Fix a benign bug introduced in 4.0.14: InnoDB could complain 'Error: trying to declare trx to enter InnoDB' if several threads tried to init the auto-inc counter for the same table at the same time; in theory, the bug could even lead to a hang of the server, but that shuld be extremely improbable

ChangeSet
  1.1512.1.10 03/07/13 00:17:02 heikki@hundin.mysql.fi +4 -0
  srv0start.c, srv0srv.h, os0file.h, os0file.c:
    Allow also O_DIRECT as innodb_flush_method; it only affects writing to data files

  innobase/srv/srv0start.c
    1.48 03/07/13 00:16:42 heikki@hundin.mysql.fi +4 -0
    Allow also O_DIRECT as innodb_flush_method; it only affects writing to data files

  innobase/include/srv0srv.h
    1.25 03/07/13 00:16:25 heikki@hundin.mysql.fi +1 -0
    Allow also O_DIRECT as innodb_flush_method; it only affects writing to data files

  innobase/include/os0file.h
    1.19 03/07/13 00:16:24 heikki@hundin.mysql.fi +5 -1
    Allow also O_DIRECT as innodb_flush_method; it only affects writing to data files

  innobase/os/os0file.c
    1.57 03/07/13 00:16:07 heikki@hundin.mysql.fi +86 -31
    Allow also O_DIRECT as innodb_flush_method; it only affects writing to data files

ChangeSet
  1.1512.1.9 03/07/12 11:45:43 paul@ice.local +2 -0
  perror.c:
    fix typo.

  BitKeeper/etc/logging_ok
    1.279 03/07/12 11:45:41 paul@ice.local +1 -0
    Logging to logging@openlogging.org accepted

  extra/perror.c
    1.21 03/07/12 11:44:35 paul@ice.local +1 -1
    fix typo.

ChangeSet
  1.1512.1.8 03/07/12 16:04:42 guilhem@mysql.com +1 -0
  Cleaning after removing LOG_INFO_PURGE_NO_ROTATE.

  sql/sql_repl.cc
    1.105 03/07/12 16:04:37 guilhem@mysql.com +0 -2
    In my previous change I removed 'no_rotate' from MYSQL_LOG, so this made
    LOG_INFO_PURGE_NO_ROTATE useless (an error code which was never returned),
    so I remove it of the 'switch'.

ChangeSet
  1.1512.1.7 03/07/12 15:48:26 guilhem@mysql.com +2 -0
  Member no_rotate in MYSQL_LOG was always 0, I delete it.

  sql/sql_class.h
    1.154 03/07/12 15:48:19 guilhem@mysql.com +0 -2
    suppress no_rotate

  sql/log.cc
    1.129 03/07/12 15:48:19 guilhem@mysql.com +32 -43
    Member no_rotate of MYSQL_LOG is useless; this shows it for sure:
    [guilhem@gbichot2 mysql-4.0]$ bk -r grep no_rotate
    sql/log.cc      1.83       no_rotate(0), need_start_event(1)
    sql/log.cc      1.75      if (no_rotate)
    sql/log.cc      1.89      if (!no_rotate)
    sql/sql_class.h 1.119     bool no_rotate;
    i.e. no_rotate is 0 all the time. So we don't need it.
    Biggest part of the patch is indentation change.

ChangeSet
  1.1512.2.1 03/07/12 15:06:40 guilhem@mysql.com +3 -0
  removed 2 small useless if().

  sql/sql_class.h
    1.153 03/07/12 15:06:34 guilhem@mysql.com +0 -1
    remove set_no_rotate as we don't need it.

  sql/mysqld.cc
    1.445 03/07/12 15:06:34 guilhem@mysql.com +3 -8
    if (p) is not needed: fn_ext() always returns a valid pointed; the way
    to test if an extension was found is if (*p), not if (p).
    But here even if there's no extension, we still want to truncate opt_name
    to FN_REFLEN, so we always execute the code.
    By design, the test was always 'false' (because we strip the extension before
    testing if there's an extension) so log->set_no_rotate never executed.

  sql/log.cc
    1.128 03/07/12 15:06:33 guilhem@mysql.com +8 -1
    a comment for the future.

ChangeSet
  1.1512.1.5 03/07/11 22:18:53 lenz@mysql.com +2 -0
   - fixed an error in the rpl_error_ignored_table test suite: the master
     port number can be different from 3306 when doing the release builds
     with Do-compile, therefore it has to be replaced with the correct
     value during the test run using the "--replace_result" function.

  mysql-test/t/rpl_error_ignored_table.test
    1.2 03/07/11 22:18:50 lenz@mysql.com +3 -0
     - replaced hard-coded master port number with MASTER_PORT variable, since
       the port number is different when running the test suite during the 
       release builds with "Do-compile".

  mysql-test/r/rpl_error_ignored_table.result
    1.2 03/07/11 22:18:50 lenz@mysql.com +1 -1
     - replaced hard-coded master port number with MASTER_PORT variable, since
       the port number is different when running the test suite during the 
       release builds with "Do-compile".

ChangeSet
  1.1512.1.4 03/07/11 19:32:29 lenz@mysql.com +1 -0
   - fixed a typo in previous push

  Build-tools/Bootstrap
    1.6 03/07/11 19:32:27 lenz@mysql.com +2 -1
     - duh!

ChangeSet
  1.1512.1.3 03/07/11 18:24:13 lenz@mysql.com +1 -0
   - fixed a bug in Bootstrap script: simply searching for the last tagged 
     ChangeSet was not sufficient to get the full ChangeLog between two
     released versions (when using "--changelog=last") as merging between 
     trees also merges the BK tags. Now we explicitely search for the last
     tagged ChangeSet that matches our major+minor version number, which 
     should match the last ChangeSet used for the previous release.

  Build-tools/Bootstrap
    1.5 03/07/11 18:24:11 lenz@mysql.com +3 -1
     - fixed a bug: simply searching for the last tagged ChangeSet was not
       sufficient to get the full ChangeLog between two released versions
       (when using "--changelog=last") as merging between trees also merges
       the BK tags. Now we explicitely search for the last tagged ChangeSet
       that matches our major+minor version number, which should match the
       last ChangeSet used for the previous release.

ChangeSet
  1.1512.1.2 03/07/11 14:26:44 guilhem@mysql.com +18 -0
  Fix for BUG#791:
  a safer way of initing the mutexes in MYSQL_LOG.
  is_open() is now always thread-safe.
  See each file for details.

  sql/sql_update.cc
    1.89 03/07/11 14:25:46 guilhem@mysql.com +2 -2
    is_open() with locks

  sql/sql_table.cc
    1.162 03/07/11 14:25:45 guilhem@mysql.com +5 -5
    is_open() with locks

  sql/sql_repl.cc
    1.104 03/07/11 14:25:45 guilhem@mysql.com +7 -7
    is_open() with locks

  sql/sql_rename.cc
    1.18 03/07/11 14:25:42 guilhem@mysql.com +1 -1
    is_open() with locks

  sql/sql_parse.cc
    1.331 03/07/11 14:25:42 guilhem@mysql.com +2 -2
    is_open() with locks

  sql/sql_load.cc
    1.47 03/07/11 14:25:41 guilhem@mysql.com +4 -4
    is_open() with locks

  sql/sql_insert.cc
    1.101 03/07/11 14:25:41 guilhem@mysql.com +4 -4
    is_open() with locks

  sql/sql_delete.cc
    1.97 03/07/11 14:25:41 guilhem@mysql.com +3 -3
    is_open() with locks

  sql/sql_db.cc
    1.61 03/07/11 14:25:41 guilhem@mysql.com +2 -2
    is_open() with locks

  sql/sql_class.h
    1.152 03/07/11 14:25:40 guilhem@mysql.com +9 -2
    Before, we inited LOCK_log in MYSQL_LOG::open(), so in other places of the code
    when we were never 100% sure that it had been inited. For example, if the server
    was running without --log-bin, ::open() was not called so the mutex was not
    inited. We could detect it with !inited, but not safely as 'inited' was not
    protected by any mutex.
    So now:
    we *always* init the LOCK_log mutex, even if the log is not used. We can't init
    the mutex in MYSQL_LOG's constructor, because for global objects like
    mysql_bin_log, mysql_log etc, the constructor is called before MY_INIT(), but
    safe_mutex depends on MY_INIT(). So we have a new function MYSQL_LOG::init_pthread_objects
    which we call in main(), after MY_INIT().
    For the relay log, we call this function in the constructor of
    st_relay_log_info, which is called before any function tries to
    use the relay log (the relay log is always invoked as rli.relay_log).
    So now we should be safe in all cases and we don't need 'inited'.

  sql/sql_base.cc
    1.163 03/07/11 14:25:40 guilhem@mysql.com +1 -1
    is_open() with locks

  sql/slave.cc
    1.239 03/07/11 14:25:40 guilhem@mysql.com +10 -4
    init pthread objects (mutexes, conds) in the constructor of st_relay_log_info.
    Some better locking in rotate_relay_log().

  sql/repl_failsafe.cc
    1.30 03/07/11 14:25:39 guilhem@mysql.com +1 -1
    is_open() with locks

  sql/mysqld.cc
    1.444 03/07/11 14:25:39 guilhem@mysql.com +13 -0
    Init mutexes for the global MYSQL_LOG objects.
    We care about no_rotate, because we can't do it in open() anymore (because
    we don't have 'inited' anymore).

  sql/log_event.cc
    1.118 03/07/11 14:25:36 guilhem@mysql.com +5 -5
    is_open() with locks

  sql/log.cc
    1.127 03/07/11 14:25:35 guilhem@mysql.com +159 -151
    No more 'inited'.
    We now always use is_open() in a thread-safe manner.
    This simplifies some functions (no more need to test is_open() twice).

  sql/item_func.cc
    1.96 03/07/11 14:25:34 guilhem@mysql.com +1 -1
    is_open() with locks

  sql/handler.cc
    1.102 03/07/11 14:25:34 guilhem@mysql.com +2 -2
    is_open() with locks

ChangeSet
  1.1515 03/07/11 14:17:18 ram@mysql.r18.ru +3 -0
  Fix for the bug #801: create table t1 select x'41'; doesn't work

  sql/sql_select.cc
    1.245 03/07/11 14:17:16 ram@mysql.r18.ru +1 -0
    Fix for the bug #801: create table t1 select x'41'; doesn't work

  mysql-test/t/create.test
    1.17 03/07/11 14:17:16 ram@mysql.r18.ru +7 -0
    Fix for the bug #801: create table t1 select x'41'; doesn't work

  mysql-test/r/create.result
    1.19 03/07/11 14:17:16 ram@mysql.r18.ru +2 -0
    Fix for the bug #801: create table t1 select x'41'; doesn't work

ChangeSet
  1.1512.1.1 03/07/10 16:03:29 guilhem@mysql.com +2 -0
  Fix for BUG#812 
  "mysqlhotcopy fails to copy tables but does not indicate a failure"
  ("does not indicate a failure");
  this is about "mysqlhotcopy fails to copy tables".

  scripts/mysqlhotcopy.sh
    1.36 03/07/10 16:03:24 guilhem@mysql.com +49 -21
    Fix for BUG#812.
    The problem was that with many tables to copy (10000 in the bug's example),
    the generated 'cp' command line was 1MB long, whereas (at least on my Linux) it
    should not exceed 128 kB. Testing the 'cp' in a shell terminal gives
    "arguments list too long".
    So we issue several small (100 kB) 'cp' command lines instead of a big one.
    Of course, this will still fail on systems where the limit is below 100 kB.
    We now have safe_system() which cuts the command line in pieces,
    and calls safe_simple_system() (execution) for each piece. 

  mysql-test/t/rpl_error_ignored_table-slave.opt
    1.2 03/07/10 16:03:24 guilhem@mysql.com +1 -1
    added a missing newline

ChangeSet
  1.1513 03/07/10 15:27:02 ram@mysql.r18.ru +3 -0
  Fix for the bug #803.
  Now INTERVAL(NULL, N1, N2, ...) returns NULL.

  sql/item_cmpfunc.cc
    1.55 03/07/10 15:27:00 ram@mysql.r18.ru +12 -10
    Fix for the bug #803.
    Now INTERVAL(NULL, N1, N2, ...) returns NULL.

  mysql-test/t/func_set.test
    1.4 03/07/10 15:27:00 ram@mysql.r18.ru +1 -0
    Fix for the bug #803.
    Now INTERVAL(NULL, N1, N2, ...) returns NULL.

  mysql-test/r/func_set.result
    1.5 03/07/10 15:27:00 ram@mysql.r18.ru +3 -0
    Fix for the bug #803.
    Now INTERVAL(NULL, N1, N2, ...) returns NULL.

ChangeSet
  1.1508.1.2 03/07/09 15:51:31 lenz@mysql.com +2 -0
   - enhanced the RPM spec file (use more RPM macros, cleanups, allow to
     override CC/CXX when using a special compiler)
   - the RPM should now build on AMD64 and IA64, too

  support-files/mysql.spec.sh
    1.68 03/07/09 15:51:29 lenz@mysql.com +120 -101
     - removed the GIF Icon (file was not included in the sources anyway)
     - removed unused variable %shared_lib_version
     - do not run automake before building the standard binary
       (should not be necessary)
     - add server suffix '-standard' to standard binary (to be in line
       with the binary tarball distributions)
     - Use more RPM macros (_exec_prefix, _sbindir, _libdir, _sysconfdir,
       _datadir, _includedir) throughout the spec file (using _libdir was
       required to be used anyway to be able to build on AMD64).
     - allow overriding CC and CXX (required when building with other compilers)

  support-files/MySQL-shared-compat.spec.sh
    1.2 03/07/09 15:51:29 lenz@mysql.com +1 -1
     - use %_libdir macro instead of hardcoded value (required on AMD64,
       where %_libdir is /usr/lib64 instead)

ChangeSet
  1.1509.1.1 03/07/09 00:55:07 monty@mashka.mysql.fi +5 -0
  Cleanups

  sql/sql_parse.cc
    1.330 03/07/09 00:55:04 monty@mashka.mysql.fi +1 -1
    Simple optimization

  sql/sql_delete.cc
    1.96 03/07/09 00:55:04 monty@mashka.mysql.fi +9 -6
    Cleanup

  sql/slave.cc
    1.238 03/07/09 00:55:04 monty@mashka.mysql.fi +28 -25
    Cleanup

  sql/log.cc
    1.126 03/07/09 00:55:04 monty@mashka.mysql.fi +5 -5
    Cleanup

  mysql-test/t/distinct.test
    1.14 03/07/09 00:55:04 monty@mashka.mysql.fi +5 -2
    Cleanup

ChangeSet
  1.1508.1.1 03/07/08 23:29:55 lenz@mysql.com +1 -0
   - Fixed mysqlhotcopy to actually abort if copying the tables failed.
     (BUG#812)

  scripts/mysqlhotcopy.sh
    1.35 03/07/08 23:29:53 lenz@mysql.com +2 -2
     - Actually die if copying the tables fails instead of going on as if
       nothing was wrong (BUG#812)

ChangeSet
  1.1509 03/07/09 00:00:16 monty@mashka.mysql.fi +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into mashka.mysql.fi:/home/my/mysql-4.0

  sql/mysqld.cc
    1.443 03/07/09 00:00:12 monty@mashka.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1494.2.1 03/07/08 23:58:04 monty@mashka.mysql.fi +8 -0
  Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS
  Removed double my_thread_end() which caused fatal error on windows if mysqld died on startup

  sql/table.h
    1.44 03/07/08 23:58:00 monty@mashka.mysql.fi +1 -1
    Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS

  sql/table.cc
    1.65 03/07/08 23:58:00 monty@mashka.mysql.fi +3 -0
    Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS

  sql/sql_table.cc
    1.161 03/07/08 23:58:00 monty@mashka.mysql.fi +8 -6
    Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS

  sql/mysqld.cc
    1.440.1.1 03/07/08 23:58:00 monty@mashka.mysql.fi +0 -1
    Removed double my_thread_end() which caused fatal error on windows if mysqld died on startup

  sql/ha_myisam.cc
    1.125 03/07/08 23:58:00 monty@mashka.mysql.fi +5 -2
    Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS

  mysql-test/t/alter_table.test
    1.16 03/07/08 23:58:00 monty@mashka.mysql.fi +62 -0
    Test DISABLE/ENABLE KEY

  mysql-test/r/alter_table.result
    1.14 03/07/08 23:58:00 monty@mashka.mysql.fi +69 -0
    Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS

  myisam/mi_extra.c
    1.32 03/07/08 23:58:00 monty@mashka.mysql.fi +4 -0
    Fixed bug in ALTER TABLE ... DISABLE/ENABLE KEYS

ChangeSet
  1.1508 03/07/08 20:51:45 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Prevent the user from creating InnoDB tables with > 1000 columns

  sql/ha_innodb.cc
    1.183 03/07/08 20:51:29 heikki@hundin.mysql.fi +7 -0
    Prevent the user from creating InnoDB tables with > 1000 columns

ChangeSet
  1.1507 03/07/08 11:26:46 paul@teton.kitebird.com +0 -0

ChangeSet
  1.1506 03/07/08 11:25:46 paul@teton.kitebird.com +1 -0
  mysqlhotcopy.sh:
    Undo serg's patch that used my_print_defaults,
    and instead simply do not define $opt{user}.
    This allows the script to use option files properly.

  scripts/mysqlhotcopy.sh
    1.34 03/07/08 11:23:11 paul@teton.kitebird.com +6 -5
    Undo serg's patch that used my_print_defaults,
    and instead simply do not define $opt{user}.
    This allows the script to use option files properly.

ChangeSet
  1.1502.2.1 03/07/08 17:27:22 serg@serg.mylan +1 -0
  added missing ~/.my.cnf support to mysqlhotcopy (bug #808)

  scripts/mysqlhotcopy.sh
    1.33 03/07/08 17:27:20 serg@serg.mylan +5 -0
    added missing ~/.my.cnf support to mysqlhotcopy (bug #808)

ChangeSet
  1.1502.1.1 03/07/08 15:50:57 guilhem@mysql.com +29 -0
  Fix for
  BUG#797 "If query ignored on slave (replicate-ignore-table) the slave still checks if
  the returned error (0) is the same as the one on the master, whereas it shouldn't
  test this.
  Plus a new test for BUG#797.

  sql/sql_parse.cc
    1.329 03/07/08 15:50:40 guilhem@mysql.com +11 -7
    when in sql_parse in the slave thread we ignore the query because of replicate-do
    and replicate-ignore options, we return a specific error to the slave thread,
    so that it knows that the query has been ignored (which is different from a
    successful query).
    A small cleanup (test was done twice).

  sql/share/ukrainian/errmsg.txt
    1.21 03/07/08 15:50:40 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/swedish/errmsg.txt
    1.57 03/07/08 15:50:39 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/spanish/errmsg.txt
    1.58 03/07/08 15:50:39 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/slovak/errmsg.txt
    1.56 03/07/08 15:50:39 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/russian/errmsg.txt
    1.56 03/07/08 15:50:39 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/romanian/errmsg.txt
    1.54 03/07/08 15:50:38 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/portuguese/errmsg.txt
    1.58 03/07/08 15:50:38 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/polish/errmsg.txt
    1.55 03/07/08 15:50:38 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/norwegian/errmsg.txt
    1.55 03/07/08 15:50:38 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/norwegian-ny/errmsg.txt
    1.55 03/07/08 15:50:37 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/korean/errmsg.txt
    1.55 03/07/08 15:50:37 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/japanese/errmsg.txt
    1.55 03/07/08 15:50:37 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/italian/errmsg.txt
    1.63 03/07/08 15:50:37 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/hungarian/errmsg.txt
    1.57 03/07/08 15:50:36 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/greek/errmsg.txt
    1.56 03/07/08 15:50:36 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/german/errmsg.txt
    1.57 03/07/08 15:50:36 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/french/errmsg.txt
    1.56 03/07/08 15:50:36 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/estonian/errmsg.txt
    1.57 03/07/08 15:50:35 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/english/errmsg.txt
    1.66 03/07/08 15:50:35 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/dutch/errmsg.txt
    1.62 03/07/08 15:50:35 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/danish/errmsg.txt
    1.55 03/07/08 15:50:35 guilhem@mysql.com +1 -0
    for BUG#797

  sql/share/czech/errmsg.txt
    1.56 03/07/08 15:50:34 guilhem@mysql.com +1 -0
    for BUG#797

  sql/log_event.cc
    1.117 03/07/08 15:50:34 guilhem@mysql.com +2 -1
    ER_SLAVE_IGNORED_TABLE is an ignorable error.

  sql/log.cc
    1.125 03/07/08 15:50:33 guilhem@mysql.com +3 -8
    removed comment from a previous debugging.

  include/mysqld_error.h
    1.52 03/07/08 15:50:33 guilhem@mysql.com +2 -1
    New error code (can be sent only to the slave thread, not to normal clients).

ChangeSet
  1.1503 03/07/08 14:16:27 heikki@hundin.mysql.fi +1 -0
  trx0trx.c:
    A cosmetic change: set trx id to zero at creation so that SHOW INNODB STATUS does not print a random value for the id of a transaction object for which the transaction has never been started yet (for example, running SHOW INNODB STATUS as the first command from a mysql prompt printed a random id for the trx object associated with the session itself running the SHOW INNODB STATUS command)

  innobase/trx/trx0trx.c
    1.29 03/07/08 14:16:19 heikki@hundin.mysql.fi +4 -0
    A cosmetic change: set trx id to zero at creation so that SHOW INNODB STATUS does not print a random value for the id of a transaction object for which the transaction has never been started yet (for example, running SHOW INNODB STATUS as the first command from a mysql prompt printed a random id for the trx object associated with the session itself running the SHOW INNODB STATUS command)

  mysql-test/r/rpl_error_ignored_table.result
    1.1 03/07/08 11:59:45 guilhem@mysql.com +15 -0

  mysql-test/r/rpl_error_ignored_table.result
    1.0 03/07/08 11:59:45 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/r/rpl_error_ignored_table.result

  mysql-test/t/rpl_error_ignored_table.test
    1.1 03/07/08 11:59:33 guilhem@mysql.com +22 -0

  mysql-test/t/rpl_error_ignored_table.test
    1.0 03/07/08 11:59:33 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/t/rpl_error_ignored_table.test

  mysql-test/t/rpl_error_ignored_table-slave.opt
    1.1 03/07/08 11:59:27 guilhem@mysql.com +1 -0

  mysql-test/t/rpl_error_ignored_table-slave.opt
    1.0 03/07/08 11:59:27 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/t/rpl_error_ignored_table-slave.opt

ChangeSet
  1.1502 03/07/07 19:35:11 serg@serg.mylan +1 -0
  typos fixed

  sql/mysqld.cc
    1.442 03/07/07 19:35:08 serg@serg.mylan +6 -6
    typos fixed

ChangeSet
  1.1491.1.3 03/07/07 19:02:58 serg@serg.mylan +3 -0
  finally proper recursive descent for parsing expressions with MATCH ... AGAINST in add_ft_keys()

  sql/sql_select.cc
    1.244 03/07/07 19:02:55 serg@serg.mylan +3 -17
    finally proper recursive descent for parsing expressions with MATCH ... AGAINST in add_ft_keys()

  mysql-test/t/fulltext.test
    1.37 03/07/07 19:02:55 serg@serg.mylan +18 -4
    finally proper recursive descent for parsing expressions with MATCH ... AGAINST in add_ft_keys()

  mysql-test/r/fulltext.result
    1.38 03/07/07 19:02:55 serg@serg.mylan +35 -8
    finally proper recursive descent for parsing expressions with MATCH ... AGAINST in add_ft_keys()

ChangeSet
  1.1491.1.2 03/07/07 16:45:19 serg@serg.mylan +1 -0
  correct (finally) condition for MATCH >0, >=0 etc in add_ft_keys (SW#1647)
  still no rec. descent

  sql/sql_select.cc
    1.243 03/07/07 16:45:17 serg@serg.mylan +9 -9
    correct (finally) condition for MATCH >0, >=0 etc in add_ft_keys (SW#1647)
    still no rec. descent

ChangeSet
  1.1500 03/07/07 16:39:53 heikki@hundin.mysql.fi +1 -0
  sql_delete.cc:
    Fix bug: if a DELETE failed in a FOREIGN KEY error and it had already deleted some rows, then MySQL did not roll back the failed SQL statement, and also wrote it to the binlog

  sql/sql_delete.cc
    1.95 03/07/07 16:39:42 heikki@hundin.mysql.fi +6 -1
    Fix bug: if a DELETE failed in a FOREIGN KEY error and it had already deleted some rows, then MySQL did not roll back the failed SQL statement, and also wrote it to the binlog

ChangeSet
  1.1499 03/07/06 18:01:39 guilhem@mysql.com +3 -0
  Merge gbichot@bk-internal.mysql.com:/home/bk/mysql-4.0
  into mysql.com:/home/mysql_src/mysql-4.0

  sql/sql_parse.cc
    1.328 03/07/06 18:01:32 guilhem@mysql.com +0 -0
    Auto merged

  sql/slave.h
    1.60 03/07/06 18:01:31 guilhem@mysql.com +0 -0
    Auto merged

  sql/mysql_priv.h
    1.201 03/07/06 18:01:30 guilhem@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1474.5.1 03/07/06 17:59:54 guilhem@mysql.com +15 -0
  WL#912 (more user control on relay logs):
  FLUSH LOGS now rotates relay logs,
  and a new variable max_relay_log_size.
  Plus a very small bit of code cleaning.

  mysql-test/t/rpl_max_relay_size.test
    1.1 03/07/06 17:59:46 guilhem@mysql.com +81 -0

  mysql-test/r/rpl_max_relay_size.result
    1.1 03/07/06 17:59:46 guilhem@mysql.com +61 -0

  mysql-test/t/rpl_max_relay_size.test
    1.0 03/07/06 17:59:46 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/t/rpl_max_relay_size.test

  mysql-test/r/rpl_max_relay_size.result
    1.0 03/07/06 17:59:46 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/r/rpl_max_relay_size.result

  sql/sql_parse.cc
    1.322.1.3 03/07/06 17:59:45 guilhem@mysql.com +8 -0
    Flush the relay log in FLUSH LOGS.

  sql/sql_class.h
    1.151 03/07/06 17:59:45 guilhem@mysql.com +15 -3
    New member max_size of MYSQL_LOG (for automatic rotation).
    New method set_max_size() for setting on-the-fly.

  sql/slave.h
    1.58.1.1 03/07/06 17:59:45 guilhem@mysql.com +1 -0
    New function rotate_relay_log().

  sql/slave.cc
    1.237 03/07/06 17:59:45 guilhem@mysql.com +51 -1
    New function rotate_relay_log().

  sql/set_var.cc
    1.36 03/07/06 17:59:44 guilhem@mysql.com +29 -1
    New variable max_relay_log_size.
    If it is 0, then max_binlog_size will apply to relay logs.
    When one of these variables is changed, fix_max_%log_size is called
    to update max_size of the binary and/or relay logs.

  sql/mysqld.cc
    1.441 03/07/06 17:59:44 guilhem@mysql.com +19 -11
    New variable and option max_relay_log_size.
    max_binlog_size and max_relay_log_size are multiples of IO_SIZE.
    No more default arguments for log functions.

  sql/mysql_priv.h
    1.198.1.1 03/07/06 17:59:43 guilhem@mysql.com +4 -3
    no defaults in open_log().
    New variables max_relay_log_size.

  sql/log.cc
    1.124 03/07/06 17:59:43 guilhem@mysql.com +57 -15
    Got rid of default arguments of various MYSQL_LOG methods (the default arguments
    made code reading uneasy).
    Set max_size in ::init().
    New function set_max_size() to set max_size of a MYSQL_LOG on-the-fly.
    More DBUG info.

  mysql-test/t/rpl_rotate_logs-master.opt
    1.5 03/07/06 17:59:43 guilhem@mysql.com +1 -1
    now max_binlog_size must be a multiple of 4096 (see change in mysqld.cc)

  mysql-test/r/rpl_rotate_logs.result
    1.35 03/07/06 17:59:43 guilhem@mysql.com +2 -4
    result update now that max_binlog_size is 4096.

  mysql-test/r/rpl_log.result
    1.32 03/07/06 17:59:42 guilhem@mysql.com +1 -1
    result update now that FLUSH LOGS rotates relay logs.

  mysql-test/r/rpl_flush_log_loop.result
    1.4 03/07/06 17:59:42 guilhem@mysql.com +1 -1
    result update now that FLUSH LOGS rotates relay logs.

  libmysqld/lib_sql.cc
    1.41 03/07/06 17:59:42 guilhem@mysql.com +4 -4
    open_log has no default arguments anymore.

ChangeSet
  1.1498 03/07/06 18:01:51 heikki@hundin.mysql.fi +1 -0
  row0mysql.c:
    Fix performance bug: if there were thousands of tables, DROP TABLE could take as much as a second CPU time

  innobase/row/row0mysql.c
    1.48 03/07/06 18:01:32 heikki@hundin.mysql.fi +2 -1
    Fix performance bug: if there were thousands of tables, DROP TABLE could take as much as a second CPU time

ChangeSet
  1.1494.1.1 03/07/06 16:17:02 heikki@hundin.mysql.fi +2 -0
  srv0srv.c:
    In background loop run purge to completion before doing other background operations: it does not make sense to flush buffer pool pages if they are soon modified again by purge
  trx0purge.c:
    Increase purge_sys->n_pages_handled for every undo log we purge, even if that log would be only a hundred bytes: that way we get the purge batches of 20 pages to set a fresh purge view (limit) more often, and we can reduce the number of old row versions purge has to look at when it decides if it can remove some delete-marked index record

  innobase/srv/srv0srv.c
    1.53 03/07/06 16:15:19 heikki@hundin.mysql.fi +23 -4
    In background loop run purge to completion before doing other background operations: it does not make sense to flush buffer pool pages if they are soon modified again by purge

  innobase/trx/trx0purge.c
    1.9 03/07/06 16:13:59 heikki@hundin.mysql.fi +3 -10
    Increase purge_sys->n_pages_handled for every undo log we purge, even if that log would be only a hundred bytes: that way we get the purge batches of 20 pages to set a fresh purge view (limit) more often, and we can reduce the number of old row versions purge has to look at when it decides if it can remove some delete-marked index record

ChangeSet
  1.1496 03/07/05 16:29:11 Sinisa@sinisa.nasamreza.org +2 -0
  missing test case for DISTINCT .. LEFT ..

  mysql-test/t/distinct.test
    1.13 03/07/05 16:29:07 Sinisa@sinisa.nasamreza.org +7 -0
    missing test case for DISTINCT .. LEFT ..

  mysql-test/r/distinct.result
    1.22 03/07/05 16:29:07 Sinisa@sinisa.nasamreza.org +9 -0
    missing test case for DISTINCT .. LEFT ..

ChangeSet
  1.1495 03/07/04 21:17:46 Sinisa@sinisa.nasamreza.org +1 -0
  Merge sinisa@bk-internal.mysql.com:/home/bk/mysql-4.0
  into sinisa.nasamreza.org:/mnt/work/mysql-4.0

ChangeSet
  1.1494 03/07/04 18:20:26 jani@rhols221.adsl.netsonic.fi +1 -0
  Fixed a compatibility bug in mysqlhotcopy between different
  versions of DBD. New mysqlhotcopy version supports both old
  and new DBD versions while versions elder than 1.19 support
  only old DBD versions.

ChangeSet
  1.1492 03/07/04 16:36:22 monty@narttu.mysql.fi +5 -0
  Remove compiler warnings
  Simple cleanup of previous pull

ChangeSet
  1.1489.2.1 03/07/04 16:06:17 vva@eagle.mysql.r18.ru +3 -0
  fixed bug #670

  sql/log_event.h
    1.80 03/07/04 16:36:20 monty@narttu.mysql.fi +7 -2
    Indentation fix

  sql/log_event.h
    1.79 03/07/04 16:06:01 vva@eagle.mysql.r18.ru +8 -0
    fixed bug #670

  sql/log_event.cc
    1.116 03/07/04 16:06:01 vva@eagle.mysql.r18.ru +25 -4
    fixed bug #670

  client/mysqlbinlog.cc
    1.78 03/07/04 16:06:01 vva@eagle.mysql.r18.ru +266 -20
    fixed bug #670

  sql/sql_parse.cc
    1.327 03/07/04 21:14:33 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  scripts/mysqlhotcopy.sh
    1.32 03/07/04 18:20:24 jani@rhols221.adsl.netsonic.fi +5 -1
    Fixed a compatibility bug in mysqlhotcopy between different
    versions of DBD. New mysqlhotcopy version supports both old
    and new DBD versions while versions elder than 1.19 support
    only old DBD versions.

  sql/sql_parse.cc
    1.326 03/07/04 16:36:20 monty@narttu.mysql.fi +4 -1
    Removed compiler warning

  sql/sql_handler.cc
    1.34 03/07/04 16:36:20 monty@narttu.mysql.fi +1 -1
    Simple ptimization

  sql/sql_cache.cc
    1.55 03/07/04 16:36:20 monty@narttu.mysql.fi +1 -1
    Indentation fix

  sql/item_strfunc.cc
    1.66 03/07/04 16:36:20 monty@narttu.mysql.fi +1 -1
    Removed compiler warning

ChangeSet
  1.1489.1.1 03/07/04 14:42:57 serg@serg.mylan +3 -0
  merge + order by (bug #515) temporary fix
  properly fixed in 4.1

  sql/sql_select.cc
    1.242 03/07/04 14:42:54 serg@serg.mylan +2 -0
    merge + order by (bug #515) temporary fix
    properly fixed in 4.1

  sql/ha_myisammrg.h
    1.26 03/07/04 14:42:54 serg@serg.mylan +2 -1
    merge + order by (bug #515) temporary fix
    properly fixed in 4.1

  mysql-test/r/merge.result
    1.22 03/07/04 14:42:54 serg@serg.mylan +2 -0
    merge + order by (bug #515) temporary fix
    properly fixed in 4.1

ChangeSet
  1.1490 03/07/04 17:15:16 ram@mysql.r18.ru +3 -0
  fix and test case for the bug #787: HANDLER without INDEX doesn't work with deleted rows

  sql/sql_handler.cc
    1.33 03/07/04 17:15:14 ram@mysql.r18.ru +17 -22
    fix for the bug #787: HANDLER without INDEX doesn't work with deleted rows

  mysql-test/t/handler.test
    1.12 03/07/04 17:15:14 ram@mysql.r18.ru +15 -0
    test case for the bug #787: HANDLER without INDEX doesn't work with deleted rows

  mysql-test/r/handler.result
    1.12 03/07/04 17:15:09 ram@mysql.r18.ru +19 -0
    test case for the bug #787: HANDLER without INDEX doesn't work with deleted rows

ChangeSet
  1.1489 03/07/04 12:55:46 serg@serg.mylan +1 -0
  Merge bk-internal:/home/bk/mysql-4.0/
  into serg.mylan:/usr/home/serg/Abk/mysql-4.0

  sql/sql_handler.cc
    1.32 03/07/04 12:55:43 serg@serg.mylan +0 -1
    Auto merged

ChangeSet
  1.1486.1.1 03/07/04 12:55:25 serg@serg.mylan +3 -0
  handler should be used with constant expressions only (or rand)

  sql/sql_handler.cc
    1.30.1.1 03/07/04 12:55:23 serg@serg.mylan +6 -1
    handler should be used with constant expressions only (or rand)

  mysql-test/t/handler.test
    1.11 03/07/04 12:55:23 serg@serg.mylan +2 -0
    handler should be used with constant expressions only (or rand)

  mysql-test/r/handler.result
    1.11 03/07/04 12:55:23 serg@serg.mylan +2 -0
    handler should be used with constant expressions only (or rand)

ChangeSet
  1.1488 03/07/04 11:06:58 monty@narttu.mysql.fi +1 -0
  Fixed memory/lock leak from bug fix

  sql/sql_handler.cc
    1.31 03/07/04 11:06:57 monty@narttu.mysql.fi +1 -1
    Fixed memory/lock leak from bug fix

ChangeSet
  1.1484.1.1 03/07/04 03:18:15 monty@narttu.mysql.fi +8 -0
  Status query on killed mysql connection results in segmentation fault (Bug #738)
  Added MAX_PASSWORD_LENGTH. This increased master-slave passwords to 32 bytes (Bug #766)
  Fixed server crash on purge master logs or show master logs when binlog is off. (Bug #733)

  strings/strmake.c
    1.7 03/07/04 03:18:13 monty@narttu.mysql.fi +1 -1
    Fixed comment

  sql/sql_repl.h
    1.27 03/07/04 03:18:13 monty@narttu.mysql.fi +1 -1
    Fixed to use right define

  sql/sql_repl.cc
    1.103 03/07/04 03:18:13 monty@narttu.mysql.fi +13 -12
    Memory overrun safety fixes (not critical)
    Fixed server crash on purge master logs or show master logs when binlog is off. (Bug #733)

  sql/slave.h
    1.59 03/07/04 03:18:13 monty@narttu.mysql.fi +5 -6
    Optimized structure

  sql/mysql_priv.h
    1.200 03/07/04 03:18:13 monty@narttu.mysql.fi +1 -0
    Added MAX_PASSWORD_LENGTH. This increased master-slave passwords to 32 bytes

  include/my_global.h
    1.54 03/07/04 03:18:13 monty@narttu.mysql.fi +0 -4
    Removed wrong patch from previous changeset

  configure.in
    1.279 03/07/04 03:18:13 monty@narttu.mysql.fi +12 -10
    Portability fix for Unixware

  client/mysql.cc
    1.139 03/07/04 03:18:13 monty@narttu.mysql.fi +2 -1
    status query on killed mysql connection results in segmentation fault (Bug #738)

ChangeSet
  1.1474.4.1 03/07/03 23:41:07 Sinisa@sinisa.nasamreza.org +1 -0
  Fix for bug #676
  A security leak with SHOW TABLES/ TABLE STATUS FROM db ...

  sql/sql_parse.cc
    1.322.2.1 03/07/03 23:41:03 Sinisa@sinisa.nasamreza.org +8 -0
    Fix for bug #676
    A security leak with SHOW TABLES/ TABLE STATUS FROM db ...

ChangeSet
  1.1486 03/07/03 22:48:13 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Since the mysql interactive client or some other phase in communication cuts > 64 kB strings to very short, restrict the output of SHOW INNODB STATUS to at most 60 kB

  sql/ha_innodb.cc
    1.182 03/07/03 22:47:42 heikki@hundin.mysql.fi +4 -4
    Since the mysql interactive client or some other phase in communication cuts > 64 kB strings to very short, restrict the output of SHOW INNODB STATUS to at most 60 kB

ChangeSet
  1.1485 03/07/03 21:09:14 heikki@hundin.mysql.fi +9 -0
  Many files:
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush
  os0sync.h, os0sync.c:
    Fix a bug in os_event on Unix: even though we signaled the event, some threads could continue waiting if the event became nonsignaled quickly again; this made group commit less efficient than it should be

ChangeSet
  1.1477.2.1 03/07/03 23:24:23 hf@deer.(none) +3 -0
  Fix for #739
  check for negative count in RPAD added

  sql/item_strfunc.cc
    1.65 03/07/03 23:24:21 hf@deer.(none) +1 -1
    we return NULL if count < 0

  mysql-test/t/func_str.test
    1.19 03/07/03 23:24:21 hf@deer.(none) +14 -0
    testcase added

  mysql-test/r/func_str.result
    1.21 03/07/03 23:24:21 hf@deer.(none) +10 -0
    Appropriate result

  innobase/btr/btr0btr.c
    1.20 03/07/03 21:05:34 heikki@hundin.mysql.fi +29 -0
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  sql/ha_innodb.cc
    1.181 03/07/03 21:04:47 heikki@hundin.mysql.fi +5 -5
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  innobase/trx/trx0trx.c
    1.28 03/07/03 21:00:51 heikki@hundin.mysql.fi +4 -0
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  innobase/row/row0mysql.c
    1.47 03/07/03 21:00:44 heikki@hundin.mysql.fi +1 -1
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  innobase/srv/srv0srv.c
    1.52 03/07/03 21:00:16 heikki@hundin.mysql.fi +11 -9
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  innobase/include/log0log.h
    1.9 03/07/03 20:59:43 heikki@hundin.mysql.fi +6 -0
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  innobase/log/log0log.c
    1.25 03/07/03 20:59:30 heikki@hundin.mysql.fi +23 -2
    Remove potential starvation of a full log buffer flush: only flush up to the lsn which was the largest at the time when we requested the full log buffer flush

  innobase/include/os0sync.h
    1.13 03/07/03 20:54:51 heikki@hundin.mysql.fi +6 -2
    Fix a bug in os_event on Unix: even though we signaled the event, some threads could continue waiting if the event became nonsignaled quickly again; this made group commit less efficient than it should be

  innobase/os/os0sync.c
    1.21 03/07/03 20:54:36 heikki@hundin.mysql.fi +12 -3
    Fix a bug in os_event on Unix: even though we signaled the event, some threads could continue waiting if the event became nonsignaled quickly again; this made group commit less efficient than it should be

ChangeSet
  1.1481 03/07/03 19:23:06 monty@narttu.mysql.fi +4 -0
  Fix for UNIXWARE 7
  Remove unaligned warnings on Ia64 from client library when using --host
  Fix for replication when using many file descriptors 

  sql/mini_client.cc
    1.53 03/07/03 19:23:05 monty@narttu.mysql.fi +116 -57
    Ported connect timeout code from libmysql.c

  mysql-test/r/symlink.result
    1.5 03/07/03 19:23:05 monty@narttu.mysql.fi +5 -4
    Updated results

  libmysql/libmysql.c
    1.128 03/07/03 19:23:05 monty@narttu.mysql.fi +14 -2
    Portability fix (removes unaligned warnings on Ia64)

  include/my_global.h
    1.53 03/07/03 19:23:05 monty@narttu.mysql.fi +8 -0
    Fix for UNIXWARE 7

ChangeSet
  1.1477.1.7 03/07/03 20:57:51 hf@deer.(none) +5 -0
  Proposed fix for #751
  Fields in key_expr (mysql_ha_read) wasn't linked to tables.
  Hmm. How did it work at all?

  sql/sql_handler.cc
    1.30 03/07/03 20:57:31 hf@deer.(none) +2 -0
    fix_fields called

  mysql-test/t/handler.test
    1.10 03/07/03 20:57:31 hf@deer.(none) +10 -0
    test case for #751

  mysql-test/t/alias.test
    1.4 03/07/03 20:57:31 hf@deer.(none) +2 -0
    it's better to drop table after test

  mysql-test/r/handler.result
    1.10 03/07/03 20:57:31 hf@deer.(none) +6 -0
    appropriate result

  mysql-test/r/alias.result
    1.5 03/07/03 20:57:31 hf@deer.(none) +1 -0
    It's better to delete table after the test

ChangeSet
  1.1477.1.6 03/07/03 17:36:33 heikki@hundin.mysql.fi +1 -0
  trx0trx.c:
    Fix bug: group commit still did not work when we had MySQL binlogging on

  innobase/trx/trx0trx.c
    1.27 03/07/03 17:36:20 heikki@hundin.mysql.fi +67 -31
    Fix bug: group commit still did not work when we had MySQL binlogging on

ChangeSet
  1.1455.41.4 03/07/03 19:01:01 hf@deer.(none) +2 -0
  Test case for #570 added

  mysql-test/t/alias.test
    1.3 03/07/03 19:01:00 hf@deer.(none) +19 -0
    Testcase for #570

  mysql-test/r/alias.result
    1.4 03/07/03 19:01:00 hf@deer.(none) +11 -0
    Appropriate test result

ChangeSet
  1.1477.1.4 03/07/03 18:21:59 ram@mysql.r18.ru +3 -0
  Fix and test-case for the bug #775: SELECT misses rows in indexed HEAP table columns.

  mysql-test/t/heap.test
    1.9 03/07/03 18:21:46 ram@mysql.r18.ru +9 -0
    Test-case for the bug #775: SELECT misses rows in indexed HEAP table columns.

  mysql-test/r/heap.result
    1.14 03/07/03 18:21:46 ram@mysql.r18.ru +14 -0
    Test-case for the bug #775: SELECT misses rows in indexed HEAP table columns.

  heap/hp_open.c
    1.11 03/07/03 18:21:46 ram@mysql.r18.ru +6 -3
    Fix for the bug #775: SELECT misses rows in indexed HEAP table columns.

ChangeSet
  1.1474.3.1 03/07/03 16:41:46 peter@mysql.com +1 -0
  New Sample config file.
  The changes for actual loads and memory sizes are to be done after
  text and format are  improved.

  support-files/my-innodb-heavy-4G.cnf.sh
    1.1 03/07/03 16:41:43 peter@mysql.com +469 -0

  support-files/my-innodb-heavy-4G.cnf.sh
    1.0 03/07/03 16:41:43 peter@mysql.com +0 -0
    BitKeeper file /home/pz/mysql/mysql-4.0/support-files/my-innodb-heavy-4G.cnf.sh

ChangeSet
  1.1480 03/07/03 15:18:32 monty@narttu.mysql.fi +1 -0
  Merge with 3.23 (no files changed)

  sql/ha_innodb.cc
    1.180 03/07/03 15:18:31 monty@narttu.mysql.fi +5 -6
    Use local version

  sql/ha_innodb.cc
    1.45.26.2 03/07/03 15:14:36 monty@narttu.mysql.fi +0 -0
    Merge rename: sql/ha_innobase.cc -> sql/ha_innodb.cc

ChangeSet
  1.1477.1.1 03/07/03 16:50:17 hf@deer.(none) +1 -0
  Merge abotchkov@bk-internal.mysql.com:/home/bk/mysql-4.0
  into deer.(none):/home/hf/work/mysql-4.0.628

  sql/item_strfunc.cc
    1.64 03/07/03 16:50:15 hf@deer.(none) +0 -0
    Auto merged

ChangeSet
  1.1455.47.2 03/07/03 16:48:47 hf@deer.(none) +2 -0
  Testcase for #628

  mysql-test/t/func_misc.test
    1.7 03/07/03 16:48:46 hf@deer.(none) +5 -0
    Test case added

  mysql-test/r/func_misc.result
    1.9 03/07/03 16:48:46 hf@deer.(none) +3 -0
    Appropriate result

ChangeSet
  1.1478 03/07/03 12:30:52 monty@narttu.mysql.fi +1 -0
  Fixed wrong usage of libvio.a (Bug #556)

  vio/Makefile.am
    1.11 03/07/03 12:30:48 monty@narttu.mysql.fi +17 -14
    Fixed wrong usage of libvio.a (Bug #556)

ChangeSet
  1.1477 03/07/03 11:56:30 monty@narttu.mysql.fi +4 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/sql_yacc.yy
    1.217 03/07/03 11:56:28 monty@narttu.mysql.fi +0 -0
    Auto merged

  sql/sql_parse.cc
    1.325 03/07/03 11:56:28 monty@narttu.mysql.fi +0 -0
    Auto merged

  mysql-test/t/innodb.test
    1.48 03/07/03 11:56:28 monty@narttu.mysql.fi +0 -0
    Auto merged

  mysql-test/r/innodb.result
    1.71 03/07/03 11:56:28 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1476 03/07/03 11:55:36 monty@narttu.mysql.fi +26 -0
  Cleaner implementation if INSERT ... SELECT with same tables
  Tests cleanup (put drop database first in tests)

  mysql-test/t/ctype_cp1251.test
    1.1 03/07/03 11:55:34 monty@narttu.mysql.fi +17 -0

  mysql-test/t/ctype_cp1251-master.opt
    1.1 03/07/03 11:55:34 monty@narttu.mysql.fi +2 -0

  mysql-test/r/ctype_cp1251.result
    1.1 03/07/03 11:55:34 monty@narttu.mysql.fi +24 -0

  sql/sql_yacc.yy
    1.214.1.1 03/07/03 11:55:34 monty@narttu.mysql.fi +6 -4
    Cleaner implementation if INSERT ... SELECT with same tables

  sql/sql_parse.cc
    1.324 03/07/03 11:55:34 monty@narttu.mysql.fi +14 -22
    Cleaner implementation if INSERT ... SELECT with same tables

  sql/sql_list.h
    1.14 03/07/03 11:55:34 monty@narttu.mysql.fi +22 -15
    Indentation cleanup

  sql/sql_lex.h
    1.81 03/07/03 11:55:34 monty@narttu.mysql.fi +1 -1
    Cleaner implementation if INSERT ... SELECT with same tables

  sql/mysql_priv.h
    1.199 03/07/03 11:55:34 monty@narttu.mysql.fi +11 -0
    Cleaner implementation if INSERT ... SELECT with same tables

  mysql-test/t/symlink.test
    1.4 03/07/03 11:55:34 monty@narttu.mysql.fi +13 -12
    Clean up tests

  mysql-test/t/query_cache.test
    1.23 03/07/03 11:55:34 monty@narttu.mysql.fi +2 -1
    Clean up tests

  mysql-test/t/merge.test
    1.20 03/07/03 11:55:34 monty@narttu.mysql.fi +13 -0
    Test of bug 515

  mysql-test/t/insert_select.test
    1.9 03/07/03 11:55:34 monty@narttu.mysql.fi +22 -0
    Added more tests

  mysql-test/t/innodb.test
    1.45.1.1 03/07/03 11:55:34 monty@narttu.mysql.fi +2 -0
    Clean up tests

  mysql-test/t/grant_cache.test
    1.4 03/07/03 11:55:34 monty@narttu.mysql.fi +4 -1
    Clean up tests

  mysql-test/t/flush.test
    1.13 03/07/03 11:55:34 monty@narttu.mysql.fi +2 -2
    Clean up tests

  mysql-test/t/drop.test
    1.11 03/07/03 11:55:34 monty@narttu.mysql.fi +0 -2
    Clean up tests

  mysql-test/t/ctype_cp1251.test
    1.0 03/07/03 11:55:34 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/t/ctype_cp1251.test

  mysql-test/t/ctype_cp1251-master.opt
    1.0 03/07/03 11:55:34 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/t/ctype_cp1251-master.opt

  mysql-test/r/query_cache.result
    1.22 03/07/03 11:55:34 monty@narttu.mysql.fi +2 -1
    Clean up results

  mysql-test/r/merge.result
    1.21 03/07/03 11:55:34 monty@narttu.mysql.fi +12 -0
    Clean up results

  mysql-test/r/insert_select.result
    1.11 03/07/03 11:55:34 monty@narttu.mysql.fi +20 -0
    Clean up results

  mysql-test/r/innodb.result
    1.68.1.1 03/07/03 11:55:34 monty@narttu.mysql.fi +1 -0
    Clean up results

  mysql-test/r/grant_cache.result
    1.3 03/07/03 11:55:34 monty@narttu.mysql.fi +1 -0
    Clean up results

  mysql-test/r/flush.result
    1.9 03/07/03 11:55:34 monty@narttu.mysql.fi +1 -1
    Clean up results

  mysql-test/r/drop.result
    1.11 03/07/03 11:55:34 monty@narttu.mysql.fi +0 -2
    Clean up results

  mysql-test/r/ctype_cp1251.result
    1.0 03/07/03 11:55:34 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/r/ctype_cp1251.result

  include/my_global.h
    1.52 03/07/03 11:55:34 monty@narttu.mysql.fi +5 -2
    Portability fix

  include/config-win.h
    1.28 03/07/03 11:55:34 monty@narttu.mysql.fi +0 -1
    Remove HAVE_CHSIZE on windows as it's not 64 bit clean

  client/mysql.cc
    1.138 03/07/03 11:55:34 monty@narttu.mysql.fi +5 -9
    Cleanup of code in last pull

ChangeSet
  1.1474.1.12 03/07/03 10:42:13 hf@deer.(none) +3 -0
  Proposed bugfix for #717
  Current table is placed into read_tables set of the current join_tab->select
  so get_mm_parts function thinks that current table's record is read and
  tries to calculate WHERE condition with the fields of the record.
  Result of these calculations is unpredictable.
  Looks funny - outcome of the SELECT depends on the queries executed before.
  
  Anyway i think we should have testcase on this part of the code.

  sql/sql_select.cc
    1.241 03/07/03 10:42:01 hf@deer.(none) +1 -1
    I think we should count current table out of read_tables set

  mysql-test/t/sel000001.test
    1.10 03/07/03 10:42:01 hf@deer.(none) +13 -0
    testcase added

  mysql-test/r/sel000001.result
    1.8 03/07/03 10:42:01 hf@deer.(none) +14 -0
    appropriate result added

ChangeSet
  1.1474.1.11 03/07/03 03:21:11 heikki@hundin.mysql.fi +1 -0
  lock0lock.c:
    Remove outdated comment and the corresponding assertion in debug version code

ChangeSet
  1.1474.1.10 03/07/02 20:34:19 miguel@hegel.(none) +1 -0
  Fix VC++ compiler error on Windows

  mysys/thr_alarm.c
    1.37 03/07/02 20:34:15 miguel@hegel.(none) +1 -1
    Fix VC++ compiler error on Windows

  innobase/lock/lock0lock.c
    1.24 03/07/03 03:20:34 heikki@hundin.mysql.fi +0 -10
    Remove outdated comment and the corresponding assertion in debug version code

ChangeSet
  1.1474.1.9 03/07/02 21:15:06 guilhem@mysql.com +6 -0
  I committed the same changeset in my tree yesterday, but broke the tree since,
  so I commit again in a fresh tree.
  Fix for bug#763 (Relay_log_space too big by 4 bytes),
  plus comments and DBUG_PRINT, and we don't start replication
  if --bootstrap.

ChangeSet
  1.1474.1.8 03/07/02 17:55:11 pem@mysql.com +5 -0
  Added missing (char*) casts in bzero calls.
  (Needed for platforms with the traditional bzero prototype.)
  Fixes BUG#460.

ChangeSet
  1.1474.1.7 03/07/02 18:31:05 heikki@hundin.mysql.fi +2 -0
  innodb.result, innodb.test:
    Remove all nondeterministic tests from innodb.test; but I have to study why on 64 bits we get different estimates

  sql/sql_repl.cc
    1.102 03/07/02 21:14:02 guilhem@mysql.com +19 -0
    A comment.

ChangeSet
  1.1474.2.1 03/07/02 19:08:31 vva@eagle.mysql.r18.ru +2 -0
  add comment for BUG 672

  sql/sql_repl.cc
    1.101 03/07/02 19:08:30 vva@eagle.mysql.r18.ru +1 -1
    add comment for BUG 672

  sql/sql_parse.cc
    1.322.1.2 03/07/02 19:08:30 vva@eagle.mysql.r18.ru +1 -1
    add comment for BUG 672

ChangeSet
  1.1474.1.4 03/07/02 17:37:23 vva@eagle.mysql.r18.ru +3 -0
  Merge eagle.mysql.r18.ru:/home/vva/work/mysql.orig/clear/mysql-4.0
  into eagle.mysql.r18.ru:/home/vva/work/BUG_672/mysql-4.0

  sql/sql_repl.cc
    1.100 03/07/02 17:37:20 vva@eagle.mysql.r18.ru +0 -0
    Auto merged

  sql/sql_parse.cc
    1.322.1.1 03/07/02 17:37:20 vva@eagle.mysql.r18.ru +0 -0
    Auto merged

  client/mysqlbinlog.cc
    1.77 03/07/02 17:37:20 vva@eagle.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.1455.61.1 03/07/02 16:56:27 vva@eagle.mysql.r18.ru +3 -0
  fixed bug #672

  sql/sql_repl.cc
    1.93.1.1 03/07/02 16:56:11 vva@eagle.mysql.r18.ru +7 -1
    fixed bug #672

  sql/sql_parse.cc
    1.316.3.1 03/07/02 16:56:11 vva@eagle.mysql.r18.ru +2 -1
    fixed bug #672

  client/mysqlbinlog.cc
    1.73.2.1 03/07/02 16:56:11 vva@eagle.mysql.r18.ru +1 -1
    changed format of eof-packet for protocol 4.1

  sql/sql_acl.cc
    1.105 03/07/02 21:14:02 guilhem@mysql.com +1 -1
    Replaced a return by DBUG_RETURN (happened to find this reading a debug log).

  sql/slave.cc
    1.236 03/07/02 21:14:01 guilhem@mysql.com +25 -2
    Fix for bug 763 (Relay_log_space too big by 4 bytes).
    A DBUG_PRINT.

  sql/mysqld.cc
    1.440 03/07/02 21:14:01 guilhem@mysql.com +2 -0
    Don't start replication if in bootstrap mode (bootstrap isn't supposed to have
    several threads).

  mysql-test/r/rpl_log_pos.result
    1.25 03/07/02 21:14:01 guilhem@mysql.com +1 -1
    Result update

  mysql-test/r/rpl_log.result
    1.31 03/07/02 21:14:00 guilhem@mysql.com +1 -1
    Result update

  sql/sql_yacc.yy
    1.216 03/07/02 17:55:09 pem@mysql.com +1 -1
    Added missing (char*) casts in bzero calls.
    (Needed for platforms with the traditional bzero prototype.)
    Fixes BUG#460.

  sql/sql_lex.cc
    1.40 03/07/02 17:55:09 pem@mysql.com +1 -1
    Added missing (char*) casts in bzero calls.
    (Needed for platforms with the traditional bzero prototype.)
    Fixes BUG#460.

  sql/sql_acl.cc
    1.104 03/07/02 17:55:09 pem@mysql.com +2 -2
    Added missing (char*) casts in bzero calls.
    (Needed for platforms with the traditional bzero prototype.)
    Fixes BUG#460.

  sql/slave.h
    1.58 03/07/02 17:55:09 pem@mysql.com +1 -1
    Added missing (char*) casts in bzero calls.
    (Needed for platforms with the traditional bzero prototype.)
    Fixes BUG#460.

  sql/slave.cc
    1.235 03/07/02 17:55:09 pem@mysql.com +2 -2
    Added missing (char*) casts in bzero calls.
    (Needed for platforms with the traditional bzero prototype.)
    Fixes BUG#460.

  mysql-test/r/innodb.result
    1.70 03/07/02 18:30:51 heikki@hundin.mysql.fi +0 -51
    Remove all nondeterministic tests from innodb.test; but I have to study why on 64 bits we get different estimates

  mysql-test/t/innodb.test
    1.47 03/07/02 18:30:43 heikki@hundin.mysql.fi +0 -16
    Remove all nondeterministic tests from innodb.test; but I have to study why on 64 bits we get different estimates

ChangeSet
  1.1455.60.1 03/07/02 17:12:50 serg@serg.mylan +3 -0
  bug #504: in "datetime op int" comparison int wasn't converted to datetime

  sql/item_cmpfunc.cc
    1.54 03/07/02 17:12:47 serg@serg.mylan +1 -1
    bug #504: in "datetime op int" comparison int wasn't converted to datetime

  mysql-test/t/type_datetime.test
    1.9 03/07/02 17:12:47 serg@serg.mylan +4 -1
    bug #504: in "datetime op int" comparison int wasn't converted to datetime

  mysql-test/r/type_datetime.result
    1.13 03/07/02 17:12:47 serg@serg.mylan +8 -1
    bug #504: in "datetime op int" comparison int wasn't converted to datetime

ChangeSet
  1.1471.1.1 03/07/02 14:57:40 Sinisa@sinisa.nasamreza.org +3 -0
  Fix for a problem with :
  
  CREATE / INSERT ... (SELECT ...) UNION (SELECT ...) LIMIT;

  sql/sql_yacc.yy
    1.215 03/07/02 14:57:36 Sinisa@sinisa.nasamreza.org +3 -1
    Fix for a problem with :
    
    CREATE / INSERT ... (SELECT ...) UNION (SELECT ...) LIMIT;

  mysql-test/t/union.test
    1.28 03/07/02 14:57:36 Sinisa@sinisa.nasamreza.org +2 -2
    Fix for a problem with :
    
    CREATE / INSERT ... (SELECT ...) UNION (SELECT ...) LIMIT;

  mysql-test/r/union.result
    1.24 03/07/02 14:57:36 Sinisa@sinisa.nasamreza.org +2 -10
    Fix for a problem with :
    
    CREATE / INSERT ... (SELECT ...) UNION (SELECT ...) LIMIT;

ChangeSet
  1.1474.1.2 03/07/02 13:15:45 heikki@hundin.mysql.fi +2 -0
  innodb.test, innodb.result:
    Remove nondeterministic EXPLAIN SELECT which gives on 64-bit platforms a slightly different estimate (sometimes we should study why we get different results on 64-bit and 32-bit)

  mysql-test/t/innodb.test
    1.46 03/07/02 13:15:11 heikki@hundin.mysql.fi +0 -1
    Remove nondeterministic EXPLAIN SELECT which gives on 64-bit platforms a slightly different estimate (sometimes we should study why we get different results on 64-bit and 32-bit)

  mysql-test/r/innodb.result
    1.69 03/07/02 13:15:01 heikki@hundin.mysql.fi +0 -3
    Remove nondeterministic EXPLAIN SELECT which gives on 64-bit platforms a slightly different estimate (sometimes we should study why we get different results on 64-bit and 32-bit)

ChangeSet
  1.1474.1.1 03/07/02 13:03:59 heikki@hundin.mysql.fi +1 -0
  sync0sync.c:
    Make execution with UNIV_SYNC_DEBUG faster

  innobase/sync/sync0sync.c
    1.16 03/07/02 13:03:50 heikki@hundin.mysql.fi +1 -1
    Make execution with UNIV_SYNC_DEBUG faster

ChangeSet
  1.1475 03/07/02 10:57:03 monty@narttu.mysql.fi +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/sql_parse.cc
    1.323 03/07/02 10:57:01 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.59.1 03/07/02 10:56:39 monty@narttu.mysql.fi +1 -0
  Fixed password check problem on windows (Bug #464)

  sql/sql_parse.cc
    1.316.1.7 03/07/02 10:56:38 monty@narttu.mysql.fi +1 -1
    Fixed password check problem on windows (Bug #464)

ChangeSet
  1.1474 03/07/02 04:57:31 heikki@hundin.mysql.fi +1 -0
  lock0lock.c:
    Fix a latching order violation in the previous (2003-06-15) push: could lead to a hang on the btr0sea.c semaphore

  innobase/lock/lock0lock.c
    1.23 03/07/02 04:57:20 heikki@hundin.mysql.fi +8 -19
    Fix a latching order violation in the previous (2003-06-15) push: could lead to a hang on the btr0sea.c semaphore

ChangeSet
  1.1473 03/07/02 02:01:11 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Cleanup

  sql/ha_innodb.cc
    1.179 03/07/02 02:01:03 heikki@hundin.mysql.fi +0 -2
    Cleanup

ChangeSet
  1.1472 03/07/02 01:57:40 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Remove still some potential hangs over the btr0sea.c semaphore

  sql/ha_innodb.cc
    1.178 03/07/02 01:57:22 heikki@hundin.mysql.fi +25 -13
    Remove still some potential hangs over the btr0sea.c semaphore

ChangeSet
  1.1470 03/07/02 01:24:05 Sinisa@sinisa.nasamreza.org +4 -0
  Some fixes for CREATE / INSERT FROM UNIO >..

  sql/sql_yacc.yy
    1.214 03/07/02 01:24:02 Sinisa@sinisa.nasamreza.org +3 -6
    Some fixes for CREATE / INSERT FROM UNIO >..

  mysql-test/t/union.test
    1.27 03/07/02 01:24:02 Sinisa@sinisa.nasamreza.org +2 -2
    Some fixes for CREATE / INSERT FROM UNIO >..

  mysql-test/t/grant.test
    1.7 03/07/02 01:24:02 Sinisa@sinisa.nasamreza.org +1 -1
    Some fixes for CREATE / INSERT FROM UNIO >..

  mysql-test/r/union.result
    1.23 03/07/02 01:24:02 Sinisa@sinisa.nasamreza.org +28 -2
    Some fixes for CREATE / INSERT FROM UNIO >..

ChangeSet
  1.1469 03/07/02 00:26:23 Sinisa@sinisa.nasamreza.org +4 -0
  merge changes

  sql/sql_yacc.yy
    1.213 03/07/02 00:26:20 Sinisa@sinisa.nasamreza.org +1 -29
    merge changes

  sql/sql_select.cc
    1.240 03/07/02 00:12:17 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  mysql-test/t/insert_select.test
    1.8 03/07/02 00:12:17 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  mysql-test/r/insert_select.result
    1.10 03/07/02 00:12:17 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

ChangeSet
  1.1468 03/07/02 00:10:47 Sinisa@sinisa.nasamreza.org +11 -0
  Lot's of clean-ups and fixes for 4.0.14.

  sql/sql_union.cc
    1.44 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +1 -2
    P

  sql/sql_select.cc
    1.239 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +1 -5
    removing a fix

  sql/sql_parse.cc
    1.322 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +7 -3
    Fix for INSERT... SELECT

  sql/sql_acl.cc
    1.103 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +1 -1
    Fix for granting global privileges on db level

  mysql-test/t/union.test
    1.26 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +13 -0
    Test cases for bug fixes

  mysql-test/t/insert_select.test
    1.6.1.1 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +16 -0
    Test cases for bug fixes

  mysql-test/t/grant.test
    1.6 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +2 -0
    Test cases for bug fixes

  mysql-test/r/union.result
    1.22 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +18 -0
    Test cases for bug fixes

  mysql-test/r/insert_select.result
    1.8.1.1 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +490 -0
    Test cases for bug fixes

  mysql-test/r/grant.result
    1.7 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +2 -0
    Test cases for bug fixes

  include/my_global.h
    1.51 03/07/02 00:10:44 Sinisa@sinisa.nasamreza.org +1 -1
    CONFIG_SMP

ChangeSet
  1.676.1.721 03/07/02 00:08:29 heikki@hundin.mysql.fi +1 -0
  ha_innobase.cc:
    Backport from 4.0 of the btr0sea.c latch hang fix

  sql/ha_innobase.cc
    1.45.26.1 03/07/02 00:08:17 heikki@hundin.mysql.fi +6 -14
    Backport from 4.0 of the btr0sea.c latch hang fix

ChangeSet
  1.1455.56.6 03/07/01 23:52:59 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Fix a possible hang over the btr0sea.c latch

  sql/ha_innodb.cc
    1.177 03/07/01 23:52:32 heikki@hundin.mysql.fi +34 -27
    Fix a possible hang over the btr0sea.c latch

ChangeSet
  1.1455.58.2 03/07/01 14:00:57 vva@eagle.mysql.r18.ru +1 -0
  made error output more detailed

  client/mysqlbinlog.cc
    1.76 03/07/01 14:00:56 vva@eagle.mysql.r18.ru +4 -4
    made error output more detailed

ChangeSet
  1.1455.58.1 03/07/01 13:21:35 vva@eagle.mysql.r18.ru +1 -0
  Merge eagle.mysql.r18.ru:/home/vva/work/mysql.orig/clear/mysql-4.0
  into eagle.mysql.r18.ru:/home/vva/work/BUG_671/mysql-4.0

  client/mysqlbinlog.cc
    1.75 03/07/01 13:21:33 vva@eagle.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.1455.57.1 03/07/01 13:17:03 vva@eagle.mysql.r18.ru +1 -0
  removed --table option (fixed Bug #671)

  client/mysqlbinlog.cc
    1.73.1.1 03/07/01 13:16:48 vva@eagle.mysql.r18.ru +4 -50
    removed --table option

ChangeSet
  1.1455.56.4 03/07/01 15:38:11 monty@mashka.mysql.fi +1 -0
  Updated results after merge

  mysql-test/r/user_var.result
    1.9 03/07/01 15:38:09 monty@mashka.mysql.fi +4 -0
    Updated results after merge

ChangeSet
  1.1455.56.3 03/07/01 15:02:16 monty@mashka.mysql.fi +19 -0
  Merge with 3.23 tree to get latest bug fixes

  sql/sql_select.cc
    1.237.1.2 03/07/01 15:02:13 monty@mashka.mysql.fi +3 -13
    Use patch in 4.0 for range with NULL problem

  sql/sql_class.h
    1.150 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -1
    Use local version

  sql/slave.cc
    1.234 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -22
    Use local version

  sql/share/spanish/errmsg.txt
    1.57 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -2
    merge

  sql/log.cc
    1.123 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -13
    Use local version

  mysql-test/t/order_by.test
    1.13 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -23
    Use local version (test is already in range.test)

  mysql-test/r/user_var.result
    1.8 03/07/01 15:02:13 monty@mashka.mysql.fi +2 -2
    merge with 3.23

  mysql-test/r/order_by.result
    1.19 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -4
    Use local version

  innobase/row/row0vers.c
    1.10 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -0
    Use local version

  innobase/row/row0sel.c
    1.39 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -21
    Use local version

  innobase/page/page0page.c
    1.12 03/07/01 15:02:13 monty@mashka.mysql.fi +6 -0
    Use local version

  innobase/os/os0file.c
    1.56 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -11
    Use local version

  configure.in
    1.278 03/07/01 15:02:13 monty@mashka.mysql.fi +0 -1
    Use local version

  sql/nt_servc.cc
    1.13 03/07/01 14:40:13 monty@mashka.mysql.fi +0 -1
    Auto merged

  sql/log_event.h
    1.78 03/07/01 14:40:13 monty@mashka.mysql.fi +0 -0
    Auto merged

  sql/log_event.cc
    1.115 03/07/01 14:40:13 monty@mashka.mysql.fi +0 -0
    Auto merged

  mysql-test/t/user_var.test
    1.6 03/07/01 14:40:12 monty@mashka.mysql.fi +0 -0
    Auto merged

  sql/item_func.cc
    1.95 03/07/01 14:40:12 monty@mashka.mysql.fi +0 -0
    Auto merged

  mysql-test/t/user_var.test
    1.3.1.2 03/07/01 14:40:12 monty@mashka.mysql.fi +0 -0
    Turn off SCCS flag

  mysql-test/r/user_var.result
    1.3.1.2 03/07/01 14:40:12 monty@mashka.mysql.fi +0 -0
    Turn off SCCS flag

  BitKeeper/etc/logging_ok
    1.278 03/07/01 14:40:07 monty@mashka.mysql.fi +2 -4
    auto-union

ChangeSet
  1.1455.56.2 03/07/01 14:38:38 monty@mashka.mysql.fi +4 -0
  Optimized old patches
  Don't set field to DEFAULT value when set to NULL

  sql/opt_range.cc
    1.80 03/07/01 14:38:36 monty@mashka.mysql.fi +5 -1
    Safety fix for range with null patch

  sql/item_strfunc.cc
    1.63 03/07/01 14:38:36 monty@mashka.mysql.fi +5 -12
    Optimized patch for null handling with elt

  sql/field_conv.cc
    1.12 03/07/01 14:38:36 monty@mashka.mysql.fi +3 -3
    Revert patch: Don't set field to DEFAULT value when set to NULL

  mysql-test/r/insert.result
    1.11 03/07/01 14:38:36 monty@mashka.mysql.fi +1 -1
    Updated results after patch

ChangeSet
  1.1455.56.1 03/07/01 13:30:55 monty@mashka.mysql.fi +2 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into mashka.mysql.fi:/home/my/mysql-4.0

  sql/sql_select.cc
    1.237.1.1 03/07/01 13:30:53 monty@mashka.mysql.fi +0 -0
    Auto merged

  sql/item_strfunc.cc
    1.62 03/07/01 13:30:53 monty@mashka.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.52.6 03/07/01 13:29:55 monty@mashka.mysql.fi +5 -0
  Code/testcase cleanups

  sql/slave.cc
    1.233 03/07/01 13:29:52 monty@mashka.mysql.fi +1 -2
    Simple optimizations

  mysql-test/t/join_outer.test
    1.10 03/07/01 13:29:52 monty@mashka.mysql.fi +12 -0
    New test case for inner join table dependency

  mysql-test/t/insert_select.test
    1.7 03/07/01 13:29:52 monty@mashka.mysql.fi +10 -13
    Remove not used drop tables.
    Fixed table names

  mysql-test/r/join_outer.result
    1.16 03/07/01 13:29:52 monty@mashka.mysql.fi +8 -0
    New test case for inner join table dependency

  mysql-test/r/insert_select.result
    1.9 03/07/01 13:29:52 monty@mashka.mysql.fi +8 -11
    Fixed results

ChangeSet
  1.1455.1.97 03/06/30 22:24:03 serg@serg.mylan +1 -0
  new syntax:
    CREATE TABLE ...(SELECT ...) UNION ...
    INSERT ...      (SELECT ...) UNION ...

  sql/sql_yacc.yy
    1.210.1.2 03/06/30 22:23:58 serg@serg.mylan +30 -18
    new syntax:
      CREATE TABLE ...(SELECT ...) UNION ...
      INSERT ...      (SELECT ...) UNION ...

ChangeSet
  1.1455.55.1 03/06/30 17:00:11 serg@serg.mylan +1 -0
  REPAIR/OPTIMIZE/CHECK/RESTORE/etc commands close relevant open HANDLERs

  sql/sql_table.cc
    1.160 03/06/30 17:00:08 serg@serg.mylan +1 -0
    REPAIR/OPTIMIZE/CHECK/RESTORE/etc commands close relevant open HANDLERs

ChangeSet
  1.1455.1.95 03/06/30 15:00:28 lenz@mysql.com +1 -0
   - make sure to compile with the correct --localstatedir and --libexedir 
     paths for the binary distributions (this will hopefully resolve the
     "file /usr/local/mysql/libexec/mysqld doesn't exist" error that many
     people are facing)

  Build-tools/Do-compile
    1.76 03/06/30 15:00:26 lenz@mysql.com +2 -1
     - make sure to compile with the correct --localstatedir and --libexedir 
       paths for the binary distributions (this will hopefully resolve the
       "file /usr/local/mysql/libexec/mysqld doesn't exist" error that many
       people are facing)

ChangeSet
  1.1467 03/06/30 12:33:35 Sinisa@sinisa.nasamreza.org +1 -0
  Merge sinisa@bk-internal.mysql.com:/home/bk/mysql-4.0
  into sinisa.nasamreza.org:/mnt/work/mysql-4.0

  sql/sql_acl.cc
    1.102 03/06/30 12:32:47 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

ChangeSet
  1.676.305.1 03/06/29 21:15:51 monty@mashka.mysql.fi +3 -0
  Fixed 'Unknown error' when doing ORDER BY on reference table which
  was used with NULL value on NOT NULL column. (Bug #479)

  sql/sql_select.cc
    1.91.1.42 03/06/29 21:15:49 monty@mashka.mysql.fi +13 -1
    Fixed problem with lookup on NULL

  mysql-test/t/order_by.test
    1.4.1.2 03/06/29 21:15:49 monty@mashka.mysql.fi +23 -0
    Test of new code

  mysql-test/r/order_by.result
    1.3.1.2 03/06/29 21:15:49 monty@mashka.mysql.fi +4 -0
    Update of results

ChangeSet
  1.1455.52.5 03/06/29 12:58:43 monty@mashka.mysql.fi +5 -0
  SET CHARACTER SET DEFAULT didn't work (Bug #462)

  mysql-test/t/convert.test
    1.1 03/06/29 12:58:41 monty@mashka.mysql.fi +11 -0

  mysql-test/r/convert.result
    1.1 03/06/29 12:58:41 monty@mashka.mysql.fi +17 -0

  sql/set_var.h
    1.9 03/06/29 12:58:41 monty@mashka.mysql.fi +1 -0
    SET CHARACTER SET DEFAULT didn't work

  sql/set_var.cc
    1.35 03/06/29 12:58:41 monty@mashka.mysql.fi +5 -0
    SET CHARACTER SET DEFAULT didn't work

  mysql-test/t/convert.test
    1.0 03/06/29 12:58:41 monty@mashka.mysql.fi +0 -0
    BitKeeper file /home/my/mysql-4.0/mysql-test/t/convert.test

  mysql-test/r/convert.result
    1.0 03/06/29 12:58:41 monty@mashka.mysql.fi +0 -0
    BitKeeper file /home/my/mysql-4.0/mysql-test/r/convert.result

  BUILD/compile-pentium-debug-max
    1.10 03/06/29 12:58:41 monty@mashka.mysql.fi +1 -1
    Removed -DBIG_TABLES because of problems with gdb 5.3

ChangeSet
  1.1455.52.4 03/06/27 06:40:24 monty@mashka.mysql.fi +2 -0
  Fixed testcase after last changes

  mysql-test/t/select_safe.test
    1.6 03/06/27 06:40:17 monty@mashka.mysql.fi +4 -3
    Fixed testcase after last changes

  mysql-test/r/select_safe.result
    1.8 03/06/27 06:40:17 monty@mashka.mysql.fi +8 -5
    Fixed testcase after last changes

ChangeSet
  1.1455.52.3 03/06/27 03:04:54 monty@mashka.mysql.fi +17 -0
  Added thread variable max_seeks_for_key
  Change optimizer to prefer key lookups before table scan
  Change table scans to be done after tables with constrains on scanned table 

  sql/sql_select.cc
    1.235.1.2 03/06/27 03:04:51 monty@mashka.mysql.fi +29 -12
    Added max_seeks_for_key
    Change optimizer to prefer key lookups before table scan.
    Change table scans to be done after tables with constrains on scanned table 

  sql/sql_class.h
    1.149 03/06/27 03:04:51 monty@mashka.mysql.fi +1 -0
    Added max_seeks_for_key

  sql/set_var.cc
    1.34 03/06/27 03:04:51 monty@mashka.mysql.fi +4 -0
    Added max_seeks_for_key

  sql/mysqld.cc
    1.439 03/06/27 03:04:51 monty@mashka.mysql.fi +6 -1
    Added max_seeks_for_key

  sql/item_cmpfunc.cc
    1.53 03/06/27 03:04:51 monty@mashka.mysql.fi +2 -2
    Initialize not_null_tables_cache properly

  sql/handler.h
    1.87 03/06/27 03:04:51 monty@mashka.mysql.fi +19 -18
    Optimize structure for 64 bit machines (and to avoid problems with gdb)

  mysql-test/t/select_safe.test
    1.5 03/06/27 03:04:51 monty@mashka.mysql.fi +13 -2
    Add tests for MAX_SEEKS_FOR_KEY

  mysql-test/t/join.test
    1.19 03/06/27 03:04:51 monty@mashka.mysql.fi +1 -4
    Change test to be repeatable

  mysql-test/t/distinct.test
    1.12 03/06/27 03:04:51 monty@mashka.mysql.fi +1 -1
    Change test to be repeatable

  mysql-test/r/select_safe.result
    1.7 03/06/27 03:04:51 monty@mashka.mysql.fi +19 -4
    Update results

  mysql-test/r/order_by.result
    1.18 03/06/27 03:04:51 monty@mashka.mysql.fi +3 -3
    Update results

  mysql-test/r/myisam.result
    1.21 03/06/27 03:04:51 monty@mashka.mysql.fi +5 -5
    Update results

  mysql-test/r/key_diff.result
    1.9 03/06/27 03:04:51 monty@mashka.mysql.fi +1 -1
    Update results

  mysql-test/r/join.result
    1.24 03/06/27 03:04:51 monty@mashka.mysql.fi +1 -3
    Update results

  mysql-test/r/heap.result
    1.13 03/06/27 03:04:51 monty@mashka.mysql.fi +1 -1
    Update results

  mysql-test/r/group_by.result
    1.32 03/06/27 03:04:51 monty@mashka.mysql.fi +2 -2
    Update results

  mysql-test/r/distinct.result
    1.21 03/06/27 03:04:50 monty@mashka.mysql.fi +6 -6
    Update results

ChangeSet
  1.1455.54.1 03/06/26 21:30:53 serg@serg.mylan +3 -0
  bug with ranges and not_null_col=can_be_null_expr fixed

  sql/opt_range.cc
    1.79 03/06/26 21:30:50 serg@serg.mylan +5 -1
    bug with ranges and not_null_col=can_be_null_expr fixed

  mysql-test/t/range.test
    1.5 03/06/26 21:30:50 serg@serg.mylan +52 -32
    new test added
    long lines reformatted

  mysql-test/r/range.result
    1.7 03/06/26 21:30:50 serg@serg.mylan +50 -31
    new test added
    long lines reformatted

ChangeSet
  1.676.1.719 03/06/26 10:31:35 vva@eagle.mysql.r18.ru +1 -0
  Merge eagle.mysql.r18.ru:/home/vva/work/mysql.orig/clear/mysql-3.23
  into eagle.mysql.r18.ru:/home/vva/work/BUG_479_/mysql-3.23

  BitKeeper/etc/logging_ok
    1.153.1.96 03/06/26 10:31:31 vva@eagle.mysql.r18.ru +0 -1
    auto-union

ChangeSet
  1.1455.1.93 03/06/26 12:49:03 gluh@gluh.mysql.r18.ru +1 -0
  Merge sgluhov@bk-internal.mysql.com:/home/bk/mysql-4.0
  into gluh.mysql.r18.ru:/home/gluh/mysql-4.0.for_fix

  sql/sql_acl.cc
    1.97.1.2 03/06/26 12:49:00 gluh@gluh.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.1455.53.1 03/06/26 12:47:36 gluh@gluh.mysql.r18.ru +3 -0
  Fix bug #673: MySQL 4.0.13 no SSL connection with mysql client possible

  vio/viosslfactories.c
    1.13 03/06/26 12:47:35 gluh@gluh.mysql.r18.ru +10 -3
    Fix bug #673 MySQL 4.0.13 no SSL connection with mysql client possible

  vio/viossl.c
    1.20 03/06/26 12:47:35 gluh@gluh.mysql.r18.ru +2 -4
    Fix bug #673 MySQL 4.0.13 no SSL connection with mysql client possible

  sql/sql_acl.cc
    1.97.2.1 03/06/26 12:47:34 gluh@gluh.mysql.r18.ru +5 -2
    Fix bug #673 MySQL 4.0.13 no SSL connection with mysql client possible

ChangeSet
  1.1455.52.2 03/06/26 07:56:55 monty@mashka.mysql.fi +5 -0
  Fixed memory allocation in Unique to not allocate too much memory

  sql/uniques.cc
    1.13 03/06/26 07:56:53 monty@mashka.mysql.fi +3 -3
    Fixed memory allocation in Unique to not allocate too much memory

  sql/sql_class.h
    1.148 03/06/26 07:56:53 monty@mashka.mysql.fi +22 -20
    Fixed memory allocation in Unique to not allocate too much memory

  sql/net_serv.cc
    1.58 03/06/26 07:56:53 monty@mashka.mysql.fi +3 -0
    Added comment

  mysys/tree.c
    1.16 03/06/26 07:56:53 monty@mashka.mysql.fi +5 -0
    Added comment

  myisam/mi_info.c
    1.13 03/06/26 07:56:53 monty@mashka.mysql.fi +7 -5
    Updated comments

ChangeSet
  1.1455.52.1 03/06/26 05:38:19 monty@mashka.mysql.fi +9 -0
  LEFT JOIN optimization: Change LEFT JOIN to normal join if possible

  sql/sql_base.cc
    1.162 03/06/26 05:38:16 monty@mashka.mysql.fi +12 -4
    Heart of LEFT JOIN optimization

  sql/item_strfunc.cc
    1.60.2.1 03/06/26 05:38:16 monty@mashka.mysql.fi +10 -7
    LEFT JOIN optimization

  sql/item_func.h
    1.59 03/06/26 05:38:16 monty@mashka.mysql.fi +7 -2
    LEFT JOIN optimization

  sql/item_func.cc
    1.94 03/06/26 05:38:16 monty@mashka.mysql.fi +11 -3
    LEFT JOIN optimization

  sql/item_cmpfunc.h
    1.28 03/06/26 05:38:16 monty@mashka.mysql.fi +13 -5
    LEFT JOIN optimization

  sql/item_cmpfunc.cc
    1.52 03/06/26 05:38:16 monty@mashka.mysql.fi +31 -10
    LEFT JOIN optimization

  sql/item.h
    1.39 03/06/26 05:38:16 monty@mashka.mysql.fi +17 -0
    LEFT JOIN optimization

  mysql-test/t/select.test
    1.19 03/06/26 05:38:16 monty@mashka.mysql.fi +14 -0
    Added test for LEFT JOIN optimization

  mysql-test/r/select.result
    1.27 03/06/26 05:38:16 monty@mashka.mysql.fi +32 -2
    Added test for LEFT JOIN optimization

ChangeSet
  1.676.304.1 03/06/25 21:11:23 vva@eagle.mysql.r18.ru +4 -0
  fixed bug with type of user variables (bug #551)

  BitKeeper/etc/logging_ok
    1.153.31.1 03/06/25 21:11:23 vva@eagle.mysql.r18.ru +1 -0
    Logging to logging@openlogging.org accepted

  sql/item_func.cc
    1.36.1.18 03/06/25 21:11:08 vva@eagle.mysql.r18.ru +1 -0
    fixed bug with type of user variables (bug #551)

  mysql-test/t/user_var.test
    1.3.1.1 03/06/25 21:11:08 vva@eagle.mysql.r18.ru +6 -0
    added tests for user variables comparing (bug #551)

  mysql-test/r/user_var.result
    1.3.1.1 03/06/25 21:11:08 vva@eagle.mysql.r18.ru +8 -0
    added tests for user variables comparing (bug #551)

ChangeSet
  1.1466 03/06/25 18:40:31 Sinisa@sinisa.nasamreza.org +4 -0
  Merge sinisa@bk-internal.mysql.com:/home/bk/mysql-4.0
  into sinisa.nasamreza.org:/mnt/work/mysql-4.0

  sql/sql_yacc.yy
    1.212 03/06/25 18:40:24 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  sql/sql_select.cc
    1.238 03/06/25 18:40:23 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  sql/sql_parse.cc
    1.321 03/06/25 18:40:23 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  sql/sql_acl.cc
    1.101 03/06/25 18:40:23 Sinisa@sinisa.nasamreza.org +0 -1
    Auto merged

ChangeSet
  1.1465 03/06/25 18:36:52 Sinisa@sinisa.nasamreza.org +1 -0
  Fix for a bug which results in "Unknown Error".
  
  Query should actually return empty result set, but currently can't, as
  it attempts to store NULL in NOT NULL field, because that is a match
  made by self join conditions.

  sql/sql_select.cc
    1.235.2.1 03/06/25 18:36:47 Sinisa@sinisa.nasamreza.org +8 -1
    Fix for a bug which results in "Unknown Error".
    
    Query should actually return empty result set, but currently can't, as
    it attempts to store NULL in NOT NULL field, because that is a match
    made by self join conditions.

ChangeSet
  1.1455.1.91 03/06/25 17:16:53 hf@deer.(none) +1 -0
  Merge abotchkov@bk-internal.mysql.com:/home/bk/mysql-4.0
  into deer.(none):/home/hf/work/mysql-4.0.674

  sql/sql_select.cc
    1.237 03/06/25 17:16:51 hf@deer.(none) +0 -0
    Auto merged

ChangeSet
  1.1455.42.5 03/06/25 17:15:33 hf@deer.(none) +2 -0
  Testcase for #674 added

  mysql-test/t/sel000100.test
    1.10 03/06/25 17:15:31 hf@deer.(none) +15 -0
    checking for bug #674 added

  mysql-test/r/sel000100.result
    1.9 03/06/25 17:15:31 hf@deer.(none) +10 -0
    Result of the testcase added

ChangeSet
  1.1455.1.90 03/06/25 11:16:06 lenz@mysql.com +1 -0
   - reverted change from AC_CONFIG_HEADERS to AM_CONFIG_HEADER in configure.in
     again - even though the automake docs consider AM_CONFIG_HEADER obsolete, 
     it currently still breaks for too many people to justify this change
     at the moment.

  configure.in
    1.277 03/06/25 11:16:03 lenz@mysql.com +1 -1
     - reverted change from AC_CONFIG_HEADERS to AM_CONFIG_HEADER again - even
       though the automake docs consider AM_CONFIG_HEADER obsolete, it currently
       still breaks for too many people to justify this change at the moment.

ChangeSet
  1.1455.46.2 03/06/24 17:07:43 hf@deer.(none) +2 -0
  Test case for bug #666

  mysql-test/t/func_str.test
    1.18 03/06/24 17:07:42 hf@deer.(none) +12 -0
    test for bug #666

  mysql-test/r/func_str.result
    1.20 03/06/24 17:07:42 hf@deer.(none) +13 -0
    test for bug #666 result 

ChangeSet
  1.1455.45.2 03/06/24 10:53:21 hf@deer.(none) +4 -0
  Another bugfix for #615
  Looks a bit nicer than previous one

  sql/field_conv.cc
    1.11 03/06/24 10:53:19 hf@deer.(none) +2 -4
    Now we can just replace field->reset() with field->set_default() here

  sql/field.h
    1.51 03/06/24 10:53:19 hf@deer.(none) +4 -2
    Field::set_default fixed

  mysql-test/t/insert.test
    1.9 03/06/24 10:53:19 hf@deer.(none) +12 -0
    testcase for the bug added

  mysql-test/r/insert.result
    1.10 03/06/24 10:53:19 hf@deer.(none) +10 -0
    Test results added

ChangeSet
  1.1455.1.88 03/06/23 23:32:07 monty@narttu.mysql.fi +1 -0
  Changed connect with timeout to use poll() instead if socket() to avoid problems with many open files

  libmysql/libmysql.c
    1.127 03/06/23 23:32:03 monty@narttu.mysql.fi +67 -27
    Changed connect with timeout to use poll() instead if socket() to avoid problems with many open files

ChangeSet
  1.1455.1.87 03/06/23 20:05:54 monty@narttu.mysql.fi +6 -0
  Simple code cleanup

  sql/sql_select.cc
    1.235.1.1 03/06/23 20:05:53 monty@narttu.mysql.fi +7 -7
    Simple code cleanup

  sql/sql_repl.cc
    1.99 03/06/23 20:05:53 monty@narttu.mysql.fi +0 -5
    Comment cleanup

  sql/slave.cc
    1.232 03/06/23 20:05:53 monty@narttu.mysql.fi +13 -19
    Indentation fixes and comments cleanup

  sql/log_event.cc
    1.114 03/06/23 20:05:53 monty@narttu.mysql.fi +3 -3
    Fixed usage of fn_format()

  mysys/mf_pack.c
    1.14 03/06/23 20:05:53 monty@narttu.mysql.fi +19 -7
    Added comments

  mysql-test/r/innodb.result
    1.68 03/06/23 20:05:53 monty@narttu.mysql.fi +4 -4
    Fixed test case after innodb optimize->analyze fix

ChangeSet
  1.1455.1.86 03/06/23 20:03:59 monty@narttu.mysql.fi +4 -0
   SHOW GRANTS hided real grants when grants on both column and table (Bug 654)

  sql/sql_acl.h
    1.18 03/06/23 20:03:57 monty@narttu.mysql.fi +2 -2
    Fixed grant bug

  sql/sql_acl.cc
    1.97.1.1 03/06/23 20:03:57 monty@narttu.mysql.fi +203 -158
    SHOW GRANTS hided real grants when grants on both column and table (Bug 654)
    Code cleanup (Bigger than intended because of editor problem)

  mysql-test/t/grant.test
    1.5 03/06/23 20:03:57 monty@narttu.mysql.fi +32 -2
    Test of grant BUG

  mysql-test/r/grant.result
    1.6 03/06/23 20:03:57 monty@narttu.mysql.fi +42 -5
    Test of grant BUG

ChangeSet
  1.1464 03/06/23 16:05:22 Sinisa@sinisa.nasamreza.org +1 -0
  Removing one fix.

  sql/sql_acl.cc
    1.100 03/06/23 16:05:18 Sinisa@sinisa.nasamreza.org +4 -9
    Removing one fix.

ChangeSet
  1.1455.51.1 03/06/23 12:49:38 serg@sergbook.mylan +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into sergbook.mylan:/usr/home/serg/Abk/mysql-4.0

  BitKeeper/etc/logging_ok
    1.277 03/06/23 12:49:21 serg@sergbook.mylan +0 -0
    auto-union

ChangeSet
  1.1455.50.1 03/06/23 12:48:55 serg@sergbook.mylan +2 -0
  fixed bug in references column grants

  BitKeeper/etc/logging_ok
    1.275.1.1 03/06/23 12:48:55 serg@sergbook.mylan +1 -0
    Logging to logging@openlogging.org accepted

  sql/sql_acl.h
    1.17 03/06/23 12:48:48 serg@sergbook.mylan +2 -2
    fixed bug in references column grants

ChangeSet
  1.1455.1.84 03/06/23 13:04:21 monty@narttu.mysql.fi +2 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/ha_innodb.h
    1.59 03/06/23 13:04:19 monty@narttu.mysql.fi +0 -0
    Auto merged

  sql/ha_innodb.cc
    1.176 03/06/23 13:04:19 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.49.1 03/06/23 13:03:04 monty@narttu.mysql.fi +2 -0
  Added analyze as alias for optimize

  sql/ha_innodb.h
    1.56.1.1 03/06/23 13:03:03 monty@narttu.mysql.fi +1 -0
    Added analyze as alias for optimize

  sql/ha_innodb.cc
    1.171.1.1 03/06/23 13:03:03 monty@narttu.mysql.fi +6 -0
    Added analyze as alias for optimize

ChangeSet
  1.1455.1.83 03/06/23 12:03:50 gluh@gluh.mysql.r18.ru +1 -0
  Merge sgluhov@bk-internal.mysql.com:/home/bk/mysql-4.0
  into gluh.mysql.r18.ru:/home/gluh/mysql-4.0.defweek

  sql/mysqld.cc
    1.438 03/06/23 12:03:48 gluh@gluh.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.1455.48.3 03/06/22 16:20:06 heikki@hundin.mysql.fi +3 -0
  dict0dict.h, dict0dict.c, ha_innodb.cc:
    In ORDER BY MySQL seems to set the key read flag also in the case where the primary key contains only a prefix of a column - not the whole column; to prevent potential bugs retrieve the whole column if the index contains a prefix of it

  innobase/include/dict0dict.h
    1.17 03/06/22 16:19:52 heikki@hundin.mysql.fi +10 -0
    In ORDER BY MySQL seems to set the key read flag also in the case where the primary key contains only a prefix of a column - not the whole column; to prevent potential bugs retrieve the whole column if the index contains a prefix of it

  innobase/dict/dict0dict.c
    1.30 03/06/22 16:19:45 heikki@hundin.mysql.fi +40 -0
    In ORDER BY MySQL seems to set the key read flag also in the case where the primary key contains only a prefix of a column - not the whole column; to prevent potential bugs retrieve the whole column if the index contains a prefix of it

  sql/ha_innodb.cc
    1.175 03/06/22 16:19:34 heikki@hundin.mysql.fi +7 -4
    In ORDER BY MySQL seems to set the key read flag also in the case where the primary key contains only a prefix of a column - not the whole column; to prevent potential bugs retrieve the whole column if the index contains a prefix of it

ChangeSet
  1.1455.48.2 03/06/22 14:10:46 guilhem@mysql.com +2 -0
  Fixed cleanup_load_tmpdir() which deleted nothing.

  sql/sql_repl.cc
    1.98 03/06/22 14:10:39 guilhem@mysql.com +6 -3
    - fix fake_rotate_event() for pos>4G (correction of a change I pushed yesterday).

  sql/log_event.cc
    1.113 03/06/22 14:10:39 guilhem@mysql.com +6 -3
    - cleanup_load_tmpdir() did not work at all because it forgot to indicate
    the directory part of the path when calling my_delete().
    - A misplaced R_POS_OFFSET (fortunately this was no bug as this constant is 0).

ChangeSet
  1.1455.48.1 03/06/21 18:10:59 guilhem@mysql.com +3 -0
  Always send a fake Rotate event (this is roughly 70 bytes) when starting binlog_dump.
  This way 3.23.58 slaves will always detect a 4.0.14 master (and stop)
  immediately. BUG#198.

  sql/sql_repl.cc
    1.97 03/06/21 18:10:54 guilhem@mysql.com +29 -14
    Always send a fake Rotate event (this is roughly 70 bytes) when starting binlog_dump.
    This way 3.23.58 slaves will always detect a 4.0.14 master (and stop)
    immediately. BUG#198.

  mysql-test/r/rpl_log_pos.result
    1.24 03/06/21 18:10:54 guilhem@mysql.com +1 -1
    result update (the relay log now contains a fake Rotate_log_event).

  mysql-test/r/rpl_log.result
    1.30 03/06/21 18:10:53 guilhem@mysql.com +1 -1
    result update (the relay log now contains a fake Rotate_log_event).

ChangeSet
  1.1455.47.1 03/06/21 20:17:50 hf@deer.(none) +1 -0
  Fix for bug #628

  sql/item_strfunc.cc
    1.60.1.1 03/06/21 20:17:41 hf@deer.(none) +1 -1
    just silly mistake
    pos was set outside alloced space

ChangeSet
  1.676.1.718 03/06/21 16:32:27 guilhem@mysql.com +1 -0
  Can't believe it: one more cset (04-27) which never found his way to the central
  repository (incredible that I forgot to push, but why not).
  So unfortunately the bugfix missed 3.23.57 and will be in .58 :(
  Instead of looking like working (bug #198), replication between
  a 3.23 slave and 4.0 master should frankly stop. Here we detect
  4.0 masters in the 3.23 slave code when we see a strange Rotate
  event, and in that case we print an error and stop.
  4.0.13 and older masters will be "often" caught (see the patch); 4.0.14
  and newer masters will always be immediately caught.

  sql/slave.cc
    1.100.1.39 03/06/21 16:32:23 guilhem@mysql.com +22 -0
    Instead of looking like working (bug #198), replication between
    a 3.23 slave and 4.0 master should frankly stop. Here we detect
    4.0 masters in the 3.23 slave code when we see a strange Rotate
    event, and in that case we print an error and stop.
    4.0.13 and older masters will be "often" caught (see the patch); 4.0.14
    and newer masters will always be immediately caught.

ChangeSet
  1.1455.42.4 03/06/21 16:59:40 hf@deer.(none) +1 -0
  Proposed fix for #674
  
  This crash happens in rather exotic case when we try to run 
  SELECT DISTINCT some_func(SUM(some_field)) GROUP BY another_field;
  on a table with single row.
  Optimizer marks this table as const, sets group=NULL (with remove_const)
  thus, create_tmp_table makes mistake collecting columns for temporary table
  and then crashes because the field_count gets less than hidden_columns_count.

  sql/sql_select.cc
    1.236 03/06/21 16:59:29 hf@deer.(none) +3 -0
    There's several ways to fix this bug.
    This one looks easy and correct to me

ChangeSet
  1.1455.46.1 03/06/20 20:04:52 hf@deer.(none) +1 -0
  Fix for bug #666 (Nice number, yeah?)

  sql/item_strfunc.cc
    1.61 03/06/20 20:04:38 hf@deer.(none) +21 -12
    Item_func_elt::valXXX() functions don't expect NULL argument if it is 
    not the first one.

ChangeSet
  1.1455.45.1 03/06/20 18:52:40 hf@deer.(none) +1 -0
  Proposed fix for #615
  So now for the CREATE TABLE foo (id integer NOT NULL default 9)
  INSERT INTO foo VALUES (NULL); we get an error
  INSERT INTO foo VALUES (1), (NULL), (2); we get one warning
            and second record is set to 9
  
  Is that what we want?

  sql/field_conv.cc
    1.10 03/06/20 18:52:30 hf@deer.(none) +2 -0
    field->set_default() calls added

ChangeSet
  1.1455.44.1 03/06/20 15:48:52 guilhem@mysql.com +1 -0
  fix for BUG#691 (4.0 mysqlbinlog couldn't read 3.23 binlog).
  Safe parenthesis.

  client/mysqlbinlog.cc
    1.74 03/06/20 15:48:42 guilhem@mysql.com +2 -2
    fix for BUG#691 (4.0 mysqlbinlog couldn't read 3.23 binlog).
    Safe parenthesis.

ChangeSet
  1.1455.43.1 03/06/20 15:19:51 lenz@mysql.com +1 -0
   - added $(EXEEXT) to gen_lex_hash generation/execution to fix a build
     problem on Windows/cygwin (BUG#668)

  sql/Makefile.am
    1.74 03/06/20 15:19:47 lenz@mysql.com +2 -2
     - added $(EXEEXT) to gen_lex_hash generation/execution to fix a build
       problem on Windows/cygwin (BUG#668)

ChangeSet
  1.1455.42.1 03/06/20 13:54:22 guilhem@mysql.com +1 -0
  Warn that --log-slave-updates is used without --log-bin and disabled (WL#998)

  sql/mysqld.cc
    1.436.1.1 03/06/20 13:54:12 guilhem@mysql.com +6 -0
    Warn that --log-slave-updates is used without --log-bin and disabled.

ChangeSet
  1.1455.41.3 03/06/19 22:06:51 hf@deer.(none) +1 -0
  Bug #570 fixed

  sql/sql_update.cc
    1.88 03/06/19 22:06:50 hf@deer.(none) +2 -1
    field_list_in_tables needs TABLE_LIST::alias to be initialized

ChangeSet
  1.1455.41.2 03/06/19 12:38:14 miguel@hegel.(none) +2 -0
  Fix error msg. Bug #681

  BitKeeper/etc/logging_ok
    1.276 03/06/19 12:38:13 miguel@hegel.(none) +1 -0
    Logging to logging@openlogging.org accepted

  sql/nt_servc.cc
    1.12 03/06/19 12:37:44 miguel@hegel.(none) +1 -1
    Fix error msg. Bug #681

ChangeSet
  1.676.1.717 03/06/19 12:09:32 miguel@hegel.(none) +1 -0
  Fix error msg. Bug #681

  sql/nt_servc.cc
    1.7.1.2 03/06/19 12:09:30 miguel@hegel.(none) +1 -1
    Fix error msg. Bug #681

ChangeSet
  1.1455.41.1 03/06/19 15:38:52 gluh@gluh.mysql.r18.ru +1 -0
  Fix for bug #616 mysqld crash / SSL with SQLyog

  sql/sql_parse.cc
    1.316.1.6 03/06/19 15:38:50 gluh@gluh.mysql.r18.ru +5 -0
    Fix for bug #616 mysqld crash / SSL with SQLyog

ChangeSet
  1.1455.1.82 03/06/19 14:02:19 gluh@gluh.mysql.r18.ru +6 -0
  SCRUM
  
  Task ID 894:
  Backport default_week_format variable to 4.0

  sql/sql_yacc.yy
    1.210.1.1 03/06/19 14:02:17 gluh@gluh.mysql.r18.ru +5 -1
    Backport default_week_format variable to 4.0

  sql/sql_class.h
    1.147 03/06/19 14:02:17 gluh@gluh.mysql.r18.ru +1 -0
    Backport default_week_format variable to 4.0

  sql/set_var.cc
    1.33 03/06/19 14:02:17 gluh@gluh.mysql.r18.ru +4 -0
    Backport default_week_format variable to 4.0

  sql/mysqld.cc
    1.437 03/06/19 14:02:17 gluh@gluh.mysql.r18.ru +7 -1
    Backport default_week_format variable to 4.0

  mysql-test/t/func_time.test
    1.16 03/06/19 14:02:17 gluh@gluh.mysql.r18.ru +4 -0
    Backport default_week_format variable to 4.0

  mysql-test/r/func_time.result
    1.19 03/06/19 14:02:17 gluh@gluh.mysql.r18.ru +5 -0
    Backport default_week_format variable to 4.0

ChangeSet
  1.676.1.716 03/06/19 04:02:29 greg@gcw.ath.cx +2 -0
  Tagged ChangeSet 1.1385 as mysql-3.23.57

  BitKeeper/etc/logging_ok
    1.153.1.95 03/06/19 04:02:28 greg@gcw.ath.cx +1 -0
    Logging to logging@openlogging.org accepted

  configure.in
    1.124.1.86 03/06/19 04:02:12 greg@gcw.ath.cx +1 -1
    Updated AM_INIT_AUTOMAKE to following version

ChangeSet
  1.1455.1.81 03/06/19 01:05:24 heikki@hundin.mysql.fi +1 -0
  page0page.c:
    Track an assertion failure reported on the mailing list June 18th, 2003

  innobase/page/page0page.c
    1.11 03/06/19 01:05:01 heikki@hundin.mysql.fi +16 -5
    Track an assertion failure reported on the mailing list June 18th, 2003

ChangeSet
  1.1455.1.80 03/06/18 22:08:04 lenz@mysql.com +1 -0
   - Added /usr/lib64 to the path to search for libssl.a (required on AMD64)
   - fixed a typo

  acinclude.m4
    1.83 03/06/18 22:08:02 lenz@mysql.com +2 -2
     - Added /usr/lib64 to the path to search for libssl.a (required on AMD64)
     - fixed a typo

ChangeSet
  1.676.1.715 03/06/18 15:50:33 miguel@hegel.(none) +49 -0
  InstallShield Files requested by Greg

  BitKeeper/etc/logging_ok
    1.153.1.94 03/06/18 15:50:31 miguel@hegel.(none) +1 -0
    Logging to logging@openlogging.org accepted

  VC++Files/InstallShield/3.23.XXcom/Text Substitutions/Setup.tsb
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +76 -0

  VC++Files/InstallShield/3.23.XXcom/Text Substitutions/Build.tsb
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +56 -0

  VC++Files/InstallShield/3.23.XXcom/String Tables/Default.shl
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +74 -0

  VC++Files/InstallShield/3.23.XXcom/String Tables/0009-English/value.shl
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +23 -0

  VC++Files/InstallShield/3.23.XXcom/Shell Objects/Default.shl
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +12 -0

  VC++Files/InstallShield/3.23.XXcom/Setup Files/Uncompressed Files/Language Independent/OS Independent/SETUP.BMP
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +350 -0

  VC++Files/InstallShield/3.23.XXcom/Setup Files/Compressed Files/Language Independent/OS Independent/infolist.txt
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +24 -0

  VC++Files/InstallShield/3.23.XXcom/Text Substitutions/Setup.tsb
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Text Substitutions/Setup.tsb

  VC++Files/InstallShield/3.23.XXcom/Text Substitutions/Build.tsb
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Text Substitutions/Build.tsb

  VC++Files/InstallShield/3.23.XXcom/String Tables/Default.shl
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/String Tables/Default.shl

  VC++Files/InstallShield/3.23.XXcom/String Tables/0009-English/value.shl
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/String Tables/0009-English/value.shl

  VC++Files/InstallShield/3.23.XXcom/Shell Objects/Default.shl
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Shell Objects/Default.shl

  VC++Files/InstallShield/3.23.XXcom/Setup Files/Uncompressed Files/Language Independent/OS Independent/SETUP.BMP
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Setup Files/Uncompressed Files/Language Independent/OS Independent/SETUP.BMP

  VC++Files/InstallShield/3.23.XXcom/Setup Files/Compressed Files/Language Independent/OS Independent/infolist.txt
    1.0 03/06/18 15:50:06 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Setup Files/Compressed Files/Language Independent/OS Independent/infolist.txt

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.rul
    1.1 03/06/18 15:50:06 miguel@hegel.(none) +641 -0

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.obs
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +1460 -0

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.ins
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +1271 -0

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.ino
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +1304 -0

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.dbg
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +634 -0

  VC++Files/InstallShield/3.23.XXcom/Registry Entries/Default.rge
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +4 -0

  VC++Files/InstallShield/3.23.XXcom/MySQL 3.23.com.ipr
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +51 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Servers.fgl
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +183 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Grant Tables.fgl
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +36 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Documentation.fgl
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +98 -0

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.rul
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.rul

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.obs
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.obs

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.ins
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.ins

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.ino
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.ino

  VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.dbg
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Script Files/Setup.dbg

  VC++Files/InstallShield/3.23.XXcom/Registry Entries/Default.rge
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Registry Entries/Default.rge

  VC++Files/InstallShield/3.23.XXcom/MySQL 3.23.com.ipr
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/MySQL 3.23.com.ipr

  VC++Files/InstallShield/3.23.XXcom/File Groups/Servers.fgl
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Servers.fgl

  VC++Files/InstallShield/3.23.XXcom/File Groups/Grant Tables.fgl
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Grant Tables.fgl

  VC++Files/InstallShield/3.23.XXcom/File Groups/Documentation.fgl
    1.0 03/06/18 15:50:05 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Documentation.fgl

  VC++Files/InstallShield/3.23.XXcom/File Groups/Development.fgl
    1.1 03/06/18 15:50:05 miguel@hegel.(none) +190 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Default.fgl
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +4 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Default.fdf
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +82 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Clients and Tools.fgl
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +35 -0

  VC++Files/InstallShield/3.23.XXcom/Component Definitions/Default.fgl
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +42 -0

  VC++Files/InstallShield/3.23.XXcom/Component Definitions/Default.cdf
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +192 -0

  VC++Files/InstallShield/3.23.XXcom/Component Definitions/.fgl
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +37 -0

  VC++Files/InstallShield/3.23.XX-gpl/Text Substitutions/Setup.tsb
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +76 -0

  VC++Files/InstallShield/3.23.XX-gpl/Text Substitutions/Build.tsb
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +56 -0

  VC++Files/InstallShield/3.23.XX-gpl/String Tables/Default.shl
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +74 -0

  VC++Files/InstallShield/3.23.XX-gpl/String Tables/0009-English/value.shl
    1.1 03/06/18 15:50:04 miguel@hegel.(none) +23 -0

  VC++Files/InstallShield/3.23.XXcom/File Groups/Development.fgl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Development.fgl

  VC++Files/InstallShield/3.23.XXcom/File Groups/Default.fgl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Default.fgl

  VC++Files/InstallShield/3.23.XXcom/File Groups/Default.fdf
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Default.fdf

  VC++Files/InstallShield/3.23.XXcom/File Groups/Clients and Tools.fgl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/File Groups/Clients and Tools.fgl

  VC++Files/InstallShield/3.23.XXcom/Component Definitions/Default.fgl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Component Definitions/Default.fgl

  VC++Files/InstallShield/3.23.XXcom/Component Definitions/Default.cdf
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Component Definitions/Default.cdf

  VC++Files/InstallShield/3.23.XXcom/Component Definitions/.fgl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XXcom/Component Definitions/.fgl

  VC++Files/InstallShield/3.23.XX-gpl/Text Substitutions/Setup.tsb
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Text Substitutions/Setup.tsb

  VC++Files/InstallShield/3.23.XX-gpl/Text Substitutions/Build.tsb
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Text Substitutions/Build.tsb

  VC++Files/InstallShield/3.23.XX-gpl/String Tables/Default.shl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/String Tables/Default.shl

  VC++Files/InstallShield/3.23.XX-gpl/String Tables/0009-English/value.shl
    1.0 03/06/18 15:50:04 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/String Tables/0009-English/value.shl

  VC++Files/InstallShield/3.23.XX-gpl/Shell Objects/Default.shl
    1.1 03/06/18 15:50:03 miguel@hegel.(none) +12 -0

  VC++Files/InstallShield/3.23.XX-gpl/Setup Files/Uncompressed Files/Language Independent/OS Independent/SETUP.BMP
    1.1 03/06/18 15:50:03 miguel@hegel.(none) +350 -0

  VC++Files/InstallShield/3.23.XX-gpl/Setup Files/Compressed Files/Language Independent/OS Independent/infolist.txt
    1.1 03/06/18 15:50:03 miguel@hegel.(none) +24 -0

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.rul
    1.1 03/06/18 15:50:03 miguel@hegel.(none) +641 -0

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.obs
    1.1 03/06/18 15:50:03 miguel@hegel.(none) +1460 -0

  VC++Files/InstallShield/3.23.XX-gpl/Shell Objects/Default.shl
    1.0 03/06/18 15:50:03 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Shell Objects/Default.shl

  VC++Files/InstallShield/3.23.XX-gpl/Setup Files/Uncompressed Files/Language Independent/OS Independent/SETUP.BMP
    1.0 03/06/18 15:50:03 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Setup Files/Uncompressed Files/Language Independent/OS Independent/SETUP.BMP

  VC++Files/InstallShield/3.23.XX-gpl/Setup Files/Compressed Files/Language Independent/OS Independent/infolist.txt
    1.0 03/06/18 15:50:03 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Setup Files/Compressed Files/Language Independent/OS Independent/infolist.txt

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.rul
    1.0 03/06/18 15:50:03 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.rul

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.obs
    1.0 03/06/18 15:50:03 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.obs

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.ins
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +1271 -0

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.ino
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +1304 -0

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.dbg
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +634 -0

  VC++Files/InstallShield/3.23.XX-gpl/Registry Entries/Default.rge
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +4 -0

  VC++Files/InstallShield/3.23.XX-gpl/MySQL 3.23.XX-GPL.ipr
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +51 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Servers.fgl
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +184 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Grant Tables.fgl
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +36 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Documentation.fgl
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +99 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Development.fgl
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +191 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Default.fgl
    1.1 03/06/18 15:50:02 miguel@hegel.(none) +4 -0

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.ins
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.ins

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.ino
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.ino

  VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.dbg
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Script Files/Setup.dbg

  VC++Files/InstallShield/3.23.XX-gpl/Registry Entries/Default.rge
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Registry Entries/Default.rge

  VC++Files/InstallShield/3.23.XX-gpl/MySQL 3.23.XX-GPL.ipr
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/MySQL 3.23.XX-GPL.ipr

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Servers.fgl
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Servers.fgl

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Grant Tables.fgl
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Grant Tables.fgl

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Documentation.fgl
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Documentation.fgl

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Development.fgl
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Development.fgl

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Default.fgl
    1.0 03/06/18 15:50:02 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Default.fgl

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Default.fdf
    1.1 03/06/18 15:50:01 miguel@hegel.(none) +82 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Clients and Tools.fgl
    1.1 03/06/18 15:50:01 miguel@hegel.(none) +35 -0

  VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/Default.fgl
    1.1 03/06/18 15:50:01 miguel@hegel.(none) +42 -0

  VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/Default.cdf
    1.1 03/06/18 15:50:01 miguel@hegel.(none) +192 -0

  VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/.fgl
    1.1 03/06/18 15:50:01 miguel@hegel.(none) +37 -0

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Default.fdf
    1.0 03/06/18 15:50:01 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Default.fdf

  VC++Files/InstallShield/3.23.XX-gpl/File Groups/Clients and Tools.fgl
    1.0 03/06/18 15:50:01 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/File Groups/Clients and Tools.fgl

  VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/Default.fgl
    1.0 03/06/18 15:50:01 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/Default.fgl

  VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/Default.cdf
    1.0 03/06/18 15:50:01 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/Default.cdf

  VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/.fgl
    1.0 03/06/18 15:50:01 miguel@hegel.(none) +0 -0
    BitKeeper file /home/miguel/mysql-dev/mysql-3.23/VC++Files/InstallShield/3.23.XX-gpl/Component Definitions/.fgl

ChangeSet
  1.676.303.1 03/06/18 04:05:10 heikki@hundin.mysql.fi +2 -0
  row0vers.c, row0sel.c:
    Backport the clust rec bug fix from 4.0

  innobase/row/row0vers.c
    1.5.1.1 03/06/18 04:04:59 heikki@hundin.mysql.fi +0 -14
    Backport the clust rec bug fix from 4.0

  innobase/row/row0sel.c
    1.15.1.8 03/06/18 04:04:59 heikki@hundin.mysql.fi +21 -2
    Backport the clust rec bug fix from 4.0

ChangeSet
  1.1455.1.78 03/06/18 03:53:18 heikki@hundin.mysql.fi +1 -0
  row0vers.c:
    Add forgotten mutex_enter()

  innobase/row/row0vers.c
    1.9 03/06/18 03:53:07 heikki@hundin.mysql.fi +1 -0
    Add forgotten mutex_enter()

ChangeSet
  1.1455.1.77 03/06/18 03:49:34 heikki@hundin.mysql.fi +1 -0
  row0vers.c:
    Add forgotten mtr_commit()

  innobase/row/row0vers.c
    1.8 03/06/18 03:49:23 heikki@hundin.mysql.fi +2 -0
    Add forgotten mtr_commit()

ChangeSet
  1.1455.1.76 03/06/18 03:38:09 heikki@hundin.mysql.fi +2 -0
  row0sel.c, row0ins.c:
    Fix error in previous push

  innobase/row/row0sel.c
    1.38 03/06/18 03:37:49 heikki@hundin.mysql.fi +12 -4
    Fix error in previous push

  innobase/row/row0ins.c
    1.26 03/06/18 03:37:49 heikki@hundin.mysql.fi +4 -2
    Fix error in previous push

ChangeSet
  1.1455.1.75 03/06/18 02:18:19 heikki@hundin.mysql.fi +3 -0
  row0vers.c, row0sel.c, row0ins.c:
    Fix bug: InnoDB could print that it cannot find a clustered index record if an update undo, purge, and a consistent read coincided, in rare cases it might also have returned a wrong row in a query

  innobase/row/row0vers.c
    1.7 03/06/18 02:17:48 heikki@hundin.mysql.fi +11 -17
    Fix bug: InnoDB could print that it cannot find a clustered index record if an update undo, purge, and a consistent read coincided, in rare cases it might also have returned a wrong row in a query

  innobase/row/row0sel.c
    1.37 03/06/18 02:17:48 heikki@hundin.mysql.fi +64 -25
    Fix bug: InnoDB could print that it cannot find a clustered index record if an update undo, purge, and a consistent read coincided, in rare cases it might also have returned a wrong row in a query

  innobase/row/row0ins.c
    1.25 03/06/18 02:17:48 heikki@hundin.mysql.fi +13 -12
    Fix bug: InnoDB could print that it cannot find a clustered index record if an update undo, purge, and a consistent read coincided, in rare cases it might also have returned a wrong row in a query

ChangeSet
  1.1455.1.74 03/06/17 23:19:38 guilhem@mysql.com +4 -0
  Changed change_master() to use ER_MASTER_INFO (better display).

  sql/sql_repl.cc
    1.96 03/06/17 23:19:33 guilhem@mysql.com +1 -1
    Use ER_MASTER_INFO instead of custom message and zero error code (which display
    badly).

  sql/slave.cc
    1.231 03/06/17 23:19:33 guilhem@mysql.com +1 -0
    A DBUG_PRINT

  mysql-test/t/rpl_rotate_logs.test
    1.38 03/06/17 23:19:32 guilhem@mysql.com +8 -2
    comments and test update with the error code

  mysql-test/r/rpl_rotate_logs.result
    1.34 03/06/17 23:19:32 guilhem@mysql.com +1 -1
    result update

ChangeSet
  1.1455.40.1 03/06/17 16:35:20 guilhem@mysql.com +2 -0
  Better error reporting in mysql-test-run (don't hide the important message
  with 'head').
  Test fix (this sync_with_master was nonsense).
  Now all tests pass in 4.0 in autobuild.

  mysql-test/t/rpl_rotate_logs.test
    1.37 03/06/17 16:35:15 guilhem@mysql.com +0 -3
    Dont sync_with_master as the SQL slave thread may be stopped at this moment;
    just wait_for_slave_to_stop. Doing sync_with_master caused a non-deterministic
    behaviour, because (note that save_master_pos was called to early) sometimes
    MASTER_POS_WAIT() started before the SQL thread died (because of unique
    violation) so returned 0, other times it started after the SQL thread died
    so returned NULL (which is reported by mysqltest as an error, on stderr).

  mysql-test/mysql-test-run.sh
    1.173 03/06/17 16:35:15 guilhem@mysql.com +3 -1
    Error reporting (how mysql-test-run filters the messages which mysqltest prints
    on stderr) is not reliable. It does a 'head the first line only' which in
    my case caused me to lose some time, because in fact the worrying message was
    on the second line (logically, the one which caused the die() is at the
    end of the $TIMEFILE file, not at the beginning).
    Doing a 'tail' is better but not perfect (depending on the build, one may get
    "Maximum memory usage" as the last line); it's always good to have all messages
    and spot the important one oneself. So we print all $TIMEFILE (that's a few lines
    at most).

ChangeSet
  1.1463 03/06/17 16:24:31 Sinisa@sinisa.nasamreza.org +3 -0
  Merge sinisa@bk-internal.mysql.com:/home/bk/mysql-4.0
  into sinisa.nasamreza.org:/mnt/work/mysql-4.0

  sql/sql_yacc.yy
    1.211 03/06/17 16:24:24 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  sql/sql_parse.cc
    1.320 03/06/17 16:24:24 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  include/my_global.h
    1.50 03/06/17 16:24:24 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

ChangeSet
  1.1462 03/06/17 16:20:07 Sinisa@sinisa.nasamreza.org +4 -0
  Two Sprint tasks and two behaviour changes.

  sql/sql_yacc.yy
    1.207.1.1 03/06/17 16:20:03 Sinisa@sinisa.nasamreza.org +41 -11
    SCRUM TASK no 2.
    
    Making CREATE and INSERT to work with any UNION>

  sql/sql_union.cc
    1.43 03/06/17 16:20:03 Sinisa@sinisa.nasamreza.org +6 -6
    Changing behaviour for SQL_OPTION_FOUND_ROWS in unins.

  sql/sql_parse.cc
    1.319 03/06/17 16:20:03 Sinisa@sinisa.nasamreza.org +10 -7
    SCRUM TASK No 1.
    
    Adding support for INSERT .. SELECT with a table in the join
    that is to be inserted into.
    
    test case pending.

  sql/sql_acl.cc
    1.99 03/06/17 16:20:03 Sinisa@sinisa.nasamreza.org +9 -4
    Fix for a grant bug.
    If there is a table privilege, for which no column privileges 
    are defined , and the same privilege is granted for a column, 
    new code prevents that table privilege is reduced to a column
    privilege.
    
    To accomplish that, now a REVOKE command has to be used first.

ChangeSet
  1.676.302.1 03/06/16 23:38:33 guilhem@mysql.com +2 -0
  Do not use 'created' for time anymore in Start_log_event, it's the same
  as the already-stored timestamp. Now 'created' is used only to know if
  this is a first binlog or not. And we may re-use the superfluous bytes
  in 5.0 when we need room.

  sql/log_event.h
    1.41.1.8 03/06/16 23:38:29 guilhem@mysql.com +11 -0
    In Start_log_event, 'created' is always the same as 'when', or O.
    We didn't need 4 bytes for this, a bit would have been enough (O or
    "same as 'when'"). Possibly in 5.0 we will re-use the useless bytes.

  sql/log_event.cc
    1.38.1.11 03/06/16 23:38:29 guilhem@mysql.com +3 -5
    This sort of reverts a change I made in 3.23.57. In 3.23.57 I set 'created' to 0
    if this was a non-first binlog, so I made mysqlbinlog not print the "created xx"
    part if created == 0. While this was sensible, as 'created' is 0 or equal to
    the timestamp which is already stored in the event, we can always print
    "created xx" by using the timestamp, and leaving the use of 'created' only to
    know if this is a first binlog or not (which we print as "created at startup").

ChangeSet
  1.1455.1.72 03/06/16 23:05:45 serg@serg.mylan +6 -0
  fulltext and left join bug fixed

  sql/sql_select.cc
    1.235 03/06/16 23:05:43 serg@serg.mylan +3 -0
    fulltext and left join bug fixed

  sql/item_func.cc
    1.93 03/06/16 23:05:43 serg@serg.mylan +3 -0
    fulltext and left join bug fixed

  mysql-test/t/fulltext_left_join.test
    1.7 03/06/16 23:05:43 serg@serg.mylan +12 -0
    explain select fulltext test

  mysql-test/t/fulltext.test
    1.36 03/06/16 23:05:43 serg@serg.mylan +1 -0
    explain select fulltext test

  mysql-test/r/fulltext_left_join.result
    1.9 03/06/16 23:05:43 serg@serg.mylan +11 -0
    fulltext and left join bug fixed

  mysql-test/r/fulltext.result
    1.37 03/06/16 23:05:43 serg@serg.mylan +3 -0
    fulltext and left join bug fixed

ChangeSet
  1.1455.1.71 03/06/16 19:07:48 serg@serg.mylan +1 -0
  reverting Monty's "fix" that turned a warning into an error.

  myisam/mi_open.c
    1.62 03/06/16 19:07:45 serg@serg.mylan +2 -5
    reverting Monty's "fix" that turned a warning into an error.

ChangeSet
  1.1455.39.1 03/06/16 15:49:54 guilhem@mysql.com +7 -0
  Fix for nightly build test failure (test update).
  More messages.
  Testcase for bug 651.

  sql/slave.cc
    1.230 03/06/16 15:49:47 guilhem@mysql.com +11 -2
    A longer DBUG_PRINT.

  mysql-test/t/rpl_master_pos_wait.test
    1.2 03/06/16 15:49:47 guilhem@mysql.com +8 -2
    Discovered we had 'send' to send a query without waiting for the resultn so could had a testcase for bug 651.
    Shorter timeouts as there is no risk the position is reached.

  mysql-test/t/rpl_loaddata.test
    1.5 03/06/16 15:49:46 guilhem@mysql.com +2 -6
    Discovered we had wait_for_slave_to_stop, so used it as it automates things.

  mysql-test/t/rpl000001.test
    1.32 03/06/16 15:49:46 guilhem@mysql.com +2 -2
    sync_with_master (=MASTER_POS_WAIT()) was called when we could expect the SQL slave thread had stopped.
    As I yesterday changed code so that "SQL thread stops => MASTER_POS_WAIT() returns NULL immediately" (bugfix),
    sync_with_master received NULL (on build.mysql.com, not on my machine; this is a question of milliseconds,
    if the slave server will process MASTER_POS_WAIT() before or after the slave SQL thread has stopped), and
    in mysqltest.c, sync_with_master complained that it could not sync.
    So I just remove this sync_with_master, which does not make sense anymore: we just wait for the slave SQL
    thread to stop. 

  mysql-test/r/rpl_master_pos_wait.result
    1.2 03/06/16 15:49:46 guilhem@mysql.com +6 -2
    result update

  mysql-test/r/rpl_loaddata.result
    1.5 03/06/16 15:49:46 guilhem@mysql.com +0 -3
    result update

  client/mysqltest.c
    1.102 03/06/16 15:49:45 guilhem@mysql.com +2 -1
    More explicit error message if MASTER_POS_WAIT() returns NULL.

ChangeSet
  1.1455.1.69 03/06/16 00:39:46 heikki@hundin.mysql.fi +4 -0
  row0mysql.c, dict0dict.ic:
    Cleanup
  ha_innodb.cc, data0type.h:
    Make sure non-latin1 users can downgrade from 4.0.14 to an earlier version if they have not created DATA_BLOB column prefix indexes

  innobase/row/row0mysql.c
    1.46 03/06/16 00:39:05 heikki@hundin.mysql.fi +9 -0
    Cleanup

  innobase/include/dict0dict.ic
    1.5 03/06/16 00:38:48 heikki@hundin.mysql.fi +0 -1
    Cleanup

  sql/ha_innodb.cc
    1.174 03/06/16 00:37:57 heikki@hundin.mysql.fi +2 -1
    Make sure non-latin1 users can downgrade from 4.0.14 to an earlier version if they have not created DATA_BLOB column prefix indexes

  innobase/include/data0type.h
    1.4 03/06/16 00:37:46 heikki@hundin.mysql.fi +3 -3
    Make sure non-latin1 users can downgrade from 4.0.14 to an earlier version if they have not created DATA_BLOB column prefix indexes

ChangeSet
  1.1455.1.68 03/06/15 23:23:04 heikki@hundin.mysql.fi +3 -0
  handler.h, ha_innodb.h, ha_innodb.cc:
    Cleanup; remove compiler warning on Windows

  sql/handler.h
    1.86 03/06/15 23:22:44 heikki@hundin.mysql.fi +2 -1
    Cleanup; remove compiler warning on Windows

  sql/ha_innodb.h
    1.58 03/06/15 23:22:44 heikki@hundin.mysql.fi +2 -1
    Cleanup; remove compiler warning on Windows

  sql/ha_innodb.cc
    1.173 03/06/15 23:22:44 heikki@hundin.mysql.fi +15 -11
    Cleanup; remove compiler warning on Windows

ChangeSet
  1.1455.1.66 03/06/15 12:01:51 guilhem@mysql.com +4 -0
  Simplified a test.
  thd->enter_cond() and exit_cond(), so that the I/O thread accepts to stop
  when it's waiting for relay log space.
  Reset ignore_log_space_limit to 0 when the SQL thread terminates.

  sql/slave.cc
    1.229 03/06/15 12:01:46 guilhem@mysql.com +9 -6
    thd->enter_cond() and exit_cond(), so that the I/O thread accepts to stop
    when it's waiting on cond (waiting for relay log space).
    Reset ignore_log_space_limit to 0 when the SQL thread terminates.

  mysql-test/t/rpl_relayspace.test
    1.2 03/06/15 12:01:41 guilhem@mysql.com +16 -17
    Less queries in the test, to make it simpler.
    Testcase if the IO thread blocked in wait_for_relay_log_space
    accepts to stop when STOP SLAVE.

  mysql-test/t/rpl_relayspace-slave.opt
    1.2 03/06/15 12:01:40 guilhem@mysql.com +1 -1
    smaller relay_log_space_limit to speed up things.

  mysql-test/r/rpl_relayspace.result
    1.2 03/06/15 12:01:40 guilhem@mysql.com +8 -2
    result update

ChangeSet
  1.1455.38.2 03/06/15 01:04:28 heikki@hundin.mysql.fi +75 -0
  Many files:
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/ut/ut0ut.c
    1.14 03/06/15 00:59:02 heikki@hundin.mysql.fi +2 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/ut/ut0mem.c
    1.12 03/06/15 00:59:02 heikki@hundin.mysql.fi +7 -7
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/trx/trx0trx.c
    1.26 03/06/15 00:58:52 heikki@hundin.mysql.fi +5 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/trx/trx0sys.c
    1.16 03/06/15 00:58:52 heikki@hundin.mysql.fi +1 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/trx/trx0roll.c
    1.10 03/06/15 00:58:52 heikki@hundin.mysql.fi +185 -37
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/trx/trx0rec.c
    1.7 03/06/15 00:58:52 heikki@hundin.mysql.fi +14 -10
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/srv/srv0start.c
    1.47 03/06/15 00:58:37 heikki@hundin.mysql.fi +5 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/srv/srv0srv.c
    1.51 03/06/15 00:58:36 heikki@hundin.mysql.fi +9 -7
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0vers.c
    1.6 03/06/15 00:58:28 heikki@hundin.mysql.fi +11 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0upd.c
    1.18 03/06/15 00:58:28 heikki@hundin.mysql.fi +58 -61
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0umod.c
    1.11 03/06/15 00:58:28 heikki@hundin.mysql.fi +3 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0sel.c
    1.36 03/06/15 00:58:28 heikki@hundin.mysql.fi +152 -76
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0row.c
    1.4 03/06/15 00:58:28 heikki@hundin.mysql.fi +47 -45
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0mysql.c
    1.45 03/06/15 00:58:28 heikki@hundin.mysql.fi +21 -39
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/row/row0ins.c
    1.24 03/06/15 00:58:28 heikki@hundin.mysql.fi +117 -17
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/rem/rem0cmp.c
    1.13 03/06/15 00:58:24 heikki@hundin.mysql.fi +82 -35
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/pars/pars0pars.c
    1.5 03/06/15 00:58:04 heikki@hundin.mysql.fi +3 -5
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/pars/pars0opt.c
    1.6 03/06/15 00:58:04 heikki@hundin.mysql.fi +3 -4
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/page/page0page.c
    1.10 03/06/15 00:57:59 heikki@hundin.mysql.fi +49 -5
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/page/page0cur.c
    1.11 03/06/15 00:57:58 heikki@hundin.mysql.fi +18 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/os/os0thread.c
    1.23 03/06/15 00:57:53 heikki@hundin.mysql.fi +2 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/os/os0file.c
    1.55 03/06/15 00:57:53 heikki@hundin.mysql.fi +243 -22
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/mem/mem0pool.c
    1.10 03/06/15 00:57:42 heikki@hundin.mysql.fi +27 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/log/log0recv.c
    1.21 03/06/15 00:57:32 heikki@hundin.mysql.fi +9 -5
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/log/log0log.c
    1.24 03/06/15 00:57:32 heikki@hundin.mysql.fi +32 -13
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/lock/lock0lock.c
    1.22 03/06/15 00:57:25 heikki@hundin.mysql.fi +82 -4
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/trx0sys.ic
    1.3 03/06/15 00:57:12 heikki@hundin.mysql.fi +10 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/row0mysql.ic
    1.5 03/06/15 00:57:12 heikki@hundin.mysql.fi +2 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/ut0mem.h
    1.6 03/06/15 00:57:11 heikki@hundin.mysql.fi +1 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/ut0dbg.h
    1.10 03/06/15 00:57:11 heikki@hundin.mysql.fi +31 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/trx0types.h
    1.3 03/06/15 00:57:11 heikki@hundin.mysql.fi +1 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/trx0trx.h
    1.26 03/06/15 00:57:11 heikki@hundin.mysql.fi +6 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/trx0roll.h
    1.3 03/06/15 00:57:11 heikki@hundin.mysql.fi +64 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/data0type.ic
    1.5 03/06/15 00:57:11 heikki@hundin.mysql.fi +27 -8
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/srv0srv.h
    1.24 03/06/15 00:57:10 heikki@hundin.mysql.fi +1 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/row0upd.h
    1.6 03/06/15 00:57:10 heikki@hundin.mysql.fi +13 -17
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/row0sel.h
    1.3 03/06/15 00:57:10 heikki@hundin.mysql.fi +6 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/row0row.h
    1.3 03/06/15 00:57:10 heikki@hundin.mysql.fi +4 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/rem0cmp.h
    1.4 03/06/15 00:57:10 heikki@hundin.mysql.fi +16 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/page0page.h
    1.4 03/06/15 00:57:10 heikki@hundin.mysql.fi +9 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/os0file.h
    1.18 03/06/15 00:57:10 heikki@hundin.mysql.fi +23 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/lock0lock.h
    1.7 03/06/15 00:57:10 heikki@hundin.mysql.fi +12 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/fil0fil.h
    1.6 03/06/15 00:57:10 heikki@hundin.mysql.fi +5 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/dict0mem.h
    1.14 03/06/15 00:57:10 heikki@hundin.mysql.fi +17 -8
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/dict0dict.h
    1.16 03/06/15 00:57:10 heikki@hundin.mysql.fi +13 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/db0err.h
    1.8 03/06/15 00:57:09 heikki@hundin.mysql.fi +3 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/data0type.h
    1.3 03/06/15 00:57:09 heikki@hundin.mysql.fi +44 -22
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/data0data.h
    1.6 03/06/15 00:57:09 heikki@hundin.mysql.fi +0 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/buf0buf.h
    1.14 03/06/15 00:57:09 heikki@hundin.mysql.fi +15 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/include/btr0cur.h
    1.10 03/06/15 00:57:09 heikki@hundin.mysql.fi +7 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/ibuf/ibuf0ibuf.c
    1.18 03/06/15 00:56:49 heikki@hundin.mysql.fi +4 -4
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/ha/ha0ha.c
    1.5 03/06/15 00:56:43 heikki@hundin.mysql.fi +5 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/fsp/fsp0fsp.c
    1.13 03/06/15 00:56:29 heikki@hundin.mysql.fi +2 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/fil/fil0fil.c
    1.12 03/06/15 00:56:19 heikki@hundin.mysql.fi +3 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/dict/dict0mem.c
    1.9 03/06/15 00:56:04 heikki@hundin.mysql.fi +9 -4
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/dict/dict0load.c
    1.9 03/06/15 00:56:04 heikki@hundin.mysql.fi +25 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/dict/dict0dict.c
    1.29 03/06/15 00:56:04 heikki@hundin.mysql.fi +102 -60
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/dict/dict0crea.c
    1.12 03/06/15 00:56:04 heikki@hundin.mysql.fi +25 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/dict/dict0boot.c
    1.5 03/06/15 00:56:04 heikki@hundin.mysql.fi +8 -8
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/data/data0type.c
    1.5 03/06/15 00:55:54 heikki@hundin.mysql.fi +0 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/data/data0data.c
    1.10 03/06/15 00:55:54 heikki@hundin.mysql.fi +18 -12
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/buf/buf0flu.c
    1.19 03/06/15 00:55:39 heikki@hundin.mysql.fi +16 -8
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/buf/buf0buf.c
    1.24 03/06/15 00:55:39 heikki@hundin.mysql.fi +81 -29
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/btr/btr0pcur.c
    1.7 03/06/15 00:55:27 heikki@hundin.mysql.fi +2 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  innobase/btr/btr0cur.c
    1.24 03/06/15 00:55:27 heikki@hundin.mysql.fi +14 -52
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  mysql-test/r/innodb.result
    1.67 03/06/15 00:54:29 heikki@hundin.mysql.fi +0 -10
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  mysql-test/t/innodb.test
    1.45 03/06/15 00:54:19 heikki@hundin.mysql.fi +0 -9
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  include/my_base.h
    1.40 03/06/15 00:53:54 heikki@hundin.mysql.fi +1 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/sql_yacc.yy
    1.210 03/06/15 00:53:04 heikki@hundin.mysql.fi +1 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/sql_parse.cc
    1.316.1.5 03/06/15 00:52:49 heikki@hundin.mysql.fi +15 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/handler.cc
    1.101 03/06/15 00:52:48 heikki@hundin.mysql.fi +64 -1
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/ha_innodb.cc
    1.172 03/06/15 00:52:48 heikki@hundin.mysql.fi +365 -89
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/sql_lex.h
    1.80 03/06/15 00:52:33 heikki@hundin.mysql.fi +3 -2
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/handler.h
    1.85 03/06/15 00:52:33 heikki@hundin.mysql.fi +2 -0
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

  sql/ha_innodb.h
    1.57 03/06/15 00:52:33 heikki@hundin.mysql.fi +16 -3
    Merge InnoDB-4.0.14: SAVEPOINT now implemented; InnoDB now accepts also column prefix keys; crashing bug in ON UPDATE CASCADE fixed; page checksum formula fixed

ChangeSet
  1.1455.1.64 03/06/14 16:40:00 guilhem@mysql.com +1 -0
  - Fix for bug 651: now a dying SQL slave threads wakes up any waiting MASTER_POS_WAIT().
  Could not add a testcase for this: if the test goes into a MASTER_POS_WAIT, it waits
  until this terminates (even doing "connection other_con" to launch "stop slave" is blocked).
  - In MASTER_POS_WAIT() don't test if the I/O slave is running, but if the SQL thread
  is running.
  - Some DBUG info for this bugfix.

  sql/slave.cc
    1.228 03/06/14 16:39:52 guilhem@mysql.com +32 -4
    Fix for bug 651: now a dying SQL slave threads wakes up any waiting MASTER_POS_WAIT().
    In MASTER_POS_WAIT() don't test if the I/O slave is running, but if the SQL thread
    is running.
    Some DBUG info.

ChangeSet
  1.1455.38.1 03/06/14 12:29:42 jani@rhols221.adsl.netsonic.fi +1 -0
  Added option --skip-kill-mysqld to mysqld_safe. This can be useful,
  if one is running many mysqlds through mysqld_multi, for example.
  Without this option, on Linux one mysqld_safe process may kill
  other mysqlds as well, if started using the same binary and path.

  scripts/mysqld_safe.sh
    1.62 03/06/14 12:29:40 jani@rhols221.adsl.netsonic.fi +7 -1
    Added option --skip-kill-mysqld to mysqld_safe. This can be useful,
    if one is running many mysqlds through mysqld_multi, for example.
    Without this option, on Linux one mysqld_safe process may kill
    other mysqlds as well, if started using the same binary and path.

ChangeSet
  1.1455.35.9 03/06/13 14:47:23 lenz@mysql.com +1 -0
   - replaced obsolete Macro AM_CONFIG_HEADER with AC_CONFIG_HEADERS
   - Added missing function name in checking for sem_init in posix4 libs on
     Solaris

  configure.in
    1.276 03/06/13 14:47:19 lenz@mysql.com +2 -2
     - replaced obsolete Macro AM_CONFIG_HEADER with AC_CONFIG_HEADERS
     - Added missing function name in checking for sem_init in posix4 libs on
       Solaris

ChangeSet
  1.1455.35.8 03/06/12 22:40:08 monty@narttu.mysql.fi +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/sql_parse.cc
    1.316.1.4 03/06/12 22:40:06 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.37.2 03/06/12 22:39:45 monty@narttu.mysql.fi +7 -0
  Changed safemalloc structure to not have to be 8 byte aligned. (Portability problem)
  

  sql/sql_parse.cc
    1.316.2.1 03/06/12 22:39:44 monty@narttu.mysql.fi +3 -2
    Changed safe_malloc variables to start with sf_

  sql/mysqld.cc
    1.436 03/06/12 22:39:44 monty@narttu.mysql.fi +1 -1
    Changed safe_malloc variables to start with sf_

  mysys/safemalloc.c
    1.22 03/06/12 22:39:44 monty@narttu.mysql.fi +148 -157
    Changed safemalloc structure to not have to be 8 byte aligned. (portability fix)
    BIG code cleanup
    

  mysys/my_static.h
    1.15 03/06/12 22:39:44 monty@narttu.mysql.fi +14 -18
    Changed safe_malloc variables to start with sf_
    Changed safemalloc structure to not have to be 8 byte aligned

  mysys/my_static.c
    1.12 03/06/12 22:39:44 monty@narttu.mysql.fi +5 -6
    Changed safe_malloc variables to start with sf_

  mysys/default.c
    1.27 03/06/12 22:39:44 monty@narttu.mysql.fi +0 -2
    Use safemalloc (as we use dynamic_arrays() that uses it inderectly anyway)

  include/my_sys.h
    1.97 03/06/12 22:39:44 monty@narttu.mysql.fi +2 -2
    Changed safe_malloc variables to start with sf_

ChangeSet
  1.1455.35.7 03/06/12 18:46:12 serg@serg.mylan +1 -0
  removed a wrong cast that limited ulonglong options to max. ulong value.

  mysys/my_getopt.c
    1.35 03/06/12 18:46:09 serg@serg.mylan +2 -2
    removed a wrong cast that limited ulonglong options to max. ulong value.

ChangeSet
  1.1455.35.6 03/06/12 17:38:15 serg@serg.mylan +1 -0
  HANDLER priv check fixed

  sql/sql_parse.cc
    1.316.1.3 03/06/12 17:38:13 serg@serg.mylan +4 -2
    HANDLER priv check fixed

ChangeSet
  1.1455.35.5 03/06/12 17:05:45 serg@serg.mylan +1 -0
  typed moved to a proper place

  include/my_global.h
    1.48.1.2 03/06/12 17:05:43 serg@serg.mylan +3 -3
    typed moved to a proper place

ChangeSet
  1.1455.37.1 03/06/12 16:25:26 monty@narttu.mysql.fi +1 -0
  Indentation

  mysys/safemalloc.c
    1.21 03/06/12 16:25:24 monty@narttu.mysql.fi +123 -128
    Indentation fixes
    Changes (long*) to (uint32*) to fix a portability problem

ChangeSet
  1.1455.35.4 03/06/12 13:52:24 lenz@mysql.com +1 -0
   - applied patch for mysqld_safe from Christian Hammers to be able to
     define a different niceness level in my.cnf (Bug #627)

  scripts/mysqld_safe.sh
    1.61 03/06/12 13:52:22 lenz@mysql.com +12 -3
     - applied patch from Christian Hammers to be able to define a different
       niceness level in my.cnf (Bug #627)

ChangeSet
  1.1455.36.2 03/06/11 22:07:23 hf@deer.(none) +2 -0
  test case for bug #614

  mysql-test/t/func_time.test
    1.15 03/06/11 22:07:22 hf@deer.(none) +2 -0
    testcase added

  mysql-test/r/func_time.result
    1.18 03/06/11 22:07:22 hf@deer.(none) +3 -0
    result's checking added

ChangeSet
  1.1455.36.1 03/06/11 20:09:37 hf@deer.(none) +3 -0
  Bugfix for #614
  
  Item_extract needs special implementation for eq().
  Item_func::eq doesn't work correctly because we have to compare 
  Item_extract::int_type parameters also
  
  We need to propagate this to 4.1

  BitKeeper/etc/logging_ok
    1.275 03/06/11 20:09:37 hf@deer.(none) +1 -0
    Logging to logging@openlogging.org accepted

  sql/item_timefunc.h
    1.22 03/06/11 20:09:09 hf@deer.(none) +1 -0
    Item_extract::eq definition added

  sql/item_timefunc.cc
    1.22 03/06/11 20:09:09 hf@deer.(none) +16 -0
    Item_extract::eq implementation added

ChangeSet
  1.676.1.712 03/06/11 15:41:03 heikki@hundin.mysql.fi +1 -0
  os0file.c:
    Prevent on Windows starting of two mysqld instances on SAME InnoDB files: that could cause severe database corruption

  innobase/os/os0file.c
    1.31.1.18 03/06/11 15:40:56 heikki@hundin.mysql.fi +11 -6
    Prevent on Windows starting of two mysqld instances on SAME InnoDB files: that could cause severe database corruption

ChangeSet
  1.1455.35.2 03/06/11 13:40:20 lenz@mysql.com +1 -0
   - applied patch to mysql_explain_log.sh provided by Dennis Haney
     to accept --socket option (Bug #592)

  scripts/mysql_explain_log.sh
    1.3 03/06/11 13:40:17 lenz@mysql.com +12 -3
     - applied patch provided by Dennis Haney to accept --socket option
       (Bug #592)

ChangeSet
  1.1455.35.1 03/06/11 13:38:02 lenz@mysql.com +1 -0
   - fixed a path to init script in RPM spec file (/sbin/init.d is obsolete)

  support-files/mysql.spec.sh
    1.67 03/06/11 13:37:58 lenz@mysql.com +1 -1
     - fixed path to init script (/sbin/init.d is obsolete)

ChangeSet
  1.1455.1.63 03/06/10 23:31:09 guilhem@mysql.com +1 -0
  Merge gbichot@213.136.52.20:/home/bk/mysql-4.0
  into mysql.com:/home/mysql_src/mysql-4.0

  mysql-test/mysql-test-run.sh
    1.172 03/06/10 23:31:03 guilhem@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1455.34.1 03/06/10 23:29:49 guilhem@mysql.com +5 -0
  More error messages. This is intended to help debugging; presently I have a
  support issue with an unclear message which can have N reasons for appearing.
  This should help us know at which point it failed, and get the errno when
  my_open was involved (as the reason for the unclear message is often a
  permission problem).
  RESET SLAVE resets last_error and last_errno in SHOW SLAVE STATUS (without this,
  rpl_loaddata.test, which is expected to generate an error in last_error, influenced
  rpl_log_pos.test).
  A small test update.
  Added STOP SLAVE to mysql-test-run to get rid of several stupid error messages
  which are printed while the master restarts and the slave attempts/manages to
  connect to it and sends it nonsense binlog requests.

  sql/sql_repl.cc
    1.95 03/06/10 23:29:43 guilhem@mysql.com +13 -2
    More error messages.
    RESET SLAVE resets last_error and last_errno in SHOW SLAVE STATUS.

  sql/slave.cc
    1.227 03/06/10 23:29:42 guilhem@mysql.com +93 -26
    More error messages.

  mysql-test/t/rpl000018.test
    1.7 03/06/10 23:29:42 guilhem@mysql.com +2 -0
    This test does "show master logs" so should do "reset master" instead of
    relying on the previous tests.

  mysql-test/r/rpl000018.result
    1.5 03/06/10 23:29:42 guilhem@mysql.com +1 -0
    Result update.

  mysql-test/mysql-test-run.sh
    1.170.1.1 03/06/10 23:29:41 guilhem@mysql.com +16 -0
    Before running a test, stop slave threads if they exist (if they don't
    the script goes on fine). This also works fine with the manager.
    Before this change, when the master was stopped/restarted (which happened before
    the slave server was stopped/restarted), the slave threads
    noticed the stop (so printed an error message in slave.err), then managed to
    reconnect (to the new master, the one that is running for the _next_ test),
    and this reconnection had time to produce error messages (because, for example,
    the binlog the slave thread was asking had been deleted) before the slave server
    was killed. This change reduces by 10% (40 lines) slave.err in replication tests.

ChangeSet
  1.1455.1.62 03/06/10 21:42:29 monty@narttu.mysql.fi +6 -0
  Don't install signal handler for SIGINT by default
  Added option --gdb
  Free memory used by replicate_xxx and binglog_xxx options

  sql/sql_list.cc
    1.6 03/06/10 21:42:28 monty@narttu.mysql.fi +15 -0
    Added free_list() to free memory on shutdown.

  sql/repl_failsafe.cc
    1.29 03/06/10 21:42:28 monty@narttu.mysql.fi +1 -0
    Incremented aborted_connects on failure

  sql/mysqld.cc
    1.435 03/06/10 21:42:28 monty@narttu.mysql.fi +33 -10
    Don't install signal handler for SIGINT by default
    Added option --gdb
    Free memory used by replicate_xxx and binglog_xxx options.
    Add statistics variable for killed threads

  sql/mysql_priv.h
    1.198 03/06/10 21:42:27 monty@narttu.mysql.fi +5 -0
    Don't install signal handler for SIGINT by default

  mysys/thr_alarm.c
    1.36 03/06/10 21:42:27 monty@narttu.mysql.fi +5 -4
    Safety check

  mysql-test/mysql-test-run.sh
    1.171 03/06/10 21:42:27 monty@narttu.mysql.fi +6 -0
    Added --gdb when using gdb

ChangeSet
  1.676.1.711 03/06/08 02:53:41 miguel@sartre.local +2 -0
  Translation updated

  BitKeeper/etc/logging_ok
    1.153.1.93 03/06/08 02:53:30 miguel@sartre.local +1 -0
    Logging to logging@openlogging.org accepted

  sql/share/spanish/errmsg.txt
    1.23.1.12 03/06/08 02:52:02 miguel@sartre.local +8 -8
    Translation updated

ChangeSet
  1.676.1.710 03/06/07 10:25:56 heikki@hundin.mysql.fi +1 -0
  page0page.c:
    Fix a bug: a race condition could cause that the first B-tree page splits would get a corrupt page directory, whic often results in the assertion in page_dir_find_slot(); found with a test of 3000 startups/shutdowns; it is not clear that this would have caused any corruption which users have reported

  innobase/page/page0page.c
    1.5.1.2 03/06/07 10:25:49 heikki@hundin.mysql.fi +0 -6
    Fix a bug: a race condition could cause that the first B-tree page splits would get a corrupt page directory, whic often results in the assertion in page_dir_find_slot(); found with a test of 3000 startups/shutdowns; it is not clear that this would have caused any corruption which users have reported

ChangeSet
  1.1455.33.1 03/06/06 16:41:28 guilhem@mysql.com +3 -0
  Fix for bug 254 :
  we now make a distinction between if the master is < 3.23.57, 3.23 && >=57, and 4.x
  (before the 2 3.23 were one). This is because in 3.23.57 we have a way to distinguish between
  a Start_log_event written at server startup and one written at FLUSH LOGS, so we
  have a way to know if the slave must drop old temp tables or not.
  Change: mi->old_format was bool, now it's enum (to handle 3 cases). However, functions
  which had 'bool old_format' as an argument have their prototypes unchanged, because
  the old old_format == 0 now corresponds to the enum value BINLOG_FORMAT_CURRENT which
  is equal to 0, so boolean tests are left untouched. The only case were we use mi->old_format
  as an enum instead of casting it implicitly to a bool, is in Start_log_event::exec_event,
  where we want to distinguish between the 3 possible enum values.

  sql/slave.h
    1.57 03/06/06 16:41:22 guilhem@mysql.com +8 -3
    fix for bug 254 : mi->old_format is now enum.

  sql/slave.cc
    1.226 03/06/06 16:41:22 guilhem@mysql.com +18 -2
    Fix for bug 254 : mi->old_format is now enum.
    An unrelated comment.

  sql/log_event.cc
    1.112 03/06/06 16:41:22 guilhem@mysql.com +27 -11
    Fix for bug 254 :
    we now make a distinction between if the master is < 3.23.57, 3.23 && >=57, and 4.x
    (before the 2 3.23 were one), to know if the slave must drop old temp tables or not.

ChangeSet
  1.676.1.709 03/06/06 14:13:26 guilhem@mysql.com +1 -0
  In Start_log_event::print, don't print "created 1970 etc" if created == 0.
  Otherwise, we'll get questions from users about this curious 1970.

  sql/log_event.cc
    1.38.1.10 03/06/06 14:13:15 guilhem@mysql.com +6 -2
    In Start_log_event::print, don't print "created 1970 etc" if created == 0.
    Otherwise, we'll get questions from users about this curious 1970.

ChangeSet
  1.676.1.708 03/06/06 13:52:15 guilhem@mysql.com +3 -0
  -- already approved; it would be nice if it goes into 3.23.57 --
  Fix for bug 254 : the first Start_log_event after server startup will
  have created=now(), whereas the next ones (FLUSH LOGS, auto rotation)
  will have created=0. Before this, it was always now().
  This way, slaves >=4.0.14 will know when they must
  drop stale temp tables or not. The next task is now modify 4.0.14 to
  implement this.

  sql/sql_class.h
    1.63.2.8 03/06/06 13:52:10 guilhem@mysql.com +1 -1
    Prototype change (see log.cc).

  sql/log_event.h
    1.41.1.7 03/06/06 13:52:10 guilhem@mysql.com +9 -0
    An explanation.

  sql/log.cc
    1.55.1.18 03/06/06 13:52:09 guilhem@mysql.com +13 -3
    Fix for bug 254 : the first Start_log_event after server startup will
    have created=now(), whereas the next ones (FLUSH LOGS, auto rotation)
    will have created=0. Before this, it was always now().
    This way, slaves >=4.0.14 will know when they must
    drop stale temp tables or not.

ChangeSet
  1.1455.1.60 03/06/06 04:18:58 heikki@hundin.mysql.fi +5 -0
  sql_yacc.yy, sql_parse.cc, sql_lex.h, mysqld.cc, lex.h:
    Add syntax SAVEPOINT id and ROLLBACK TO SAVEPOINT id. This is compatible with DB2 and Oracle but not with SQL Server. Savepoints do not do anything yet, this is just parsing.

  sql/sql_yacc.yy
    1.209 03/06/06 04:16:49 heikki@hundin.mysql.fi +21 -3
    Add syntax SAVEPOINT id and ROLLBACK TO SAVEPOINT id. This is compatible with DB2 and Oracle but not with SQL Server. Savepoints do not do anything yet, this is just parsing.

  sql/sql_parse.cc
    1.316.1.2 03/06/06 04:16:49 heikki@hundin.mysql.fi +3 -0
    Add syntax SAVEPOINT id and ROLLBACK TO SAVEPOINT id. This is compatible with DB2 and Oracle but not with SQL Server. Savepoints do not do anything yet, this is just parsing.

  sql/sql_lex.h
    1.79 03/06/06 04:16:49 heikki@hundin.mysql.fi +3 -1
    Add syntax SAVEPOINT id and ROLLBACK TO SAVEPOINT id. This is compatible with DB2 and Oracle but not with SQL Server. Savepoints do not do anything yet, this is just parsing.

  sql/mysqld.cc
    1.434 03/06/06 04:16:49 heikki@hundin.mysql.fi +1 -0
    Add syntax SAVEPOINT id and ROLLBACK TO SAVEPOINT id. This is compatible with DB2 and Oracle but not with SQL Server. Savepoints do not do anything yet, this is just parsing.

  sql/lex.h
    1.92 03/06/06 04:16:49 heikki@hundin.mysql.fi +1 -0
    Add syntax SAVEPOINT id and ROLLBACK TO SAVEPOINT id. This is compatible with DB2 and Oracle but not with SQL Server. Savepoints do not do anything yet, this is just parsing.

ChangeSet
  1.1455.1.59 03/06/05 17:02:00 guilhem@mysql.com +4 -0
  Test for bug 578. And a comment in slave.cc.

  mysql-test/t/lock_tables_lost_commit.test
    1.1 03/06/05 17:01:51 guilhem@mysql.com +18 -0

  mysql-test/t/lock_tables_lost_commit-master.opt
    1.1 03/06/05 17:01:51 guilhem@mysql.com +1 -0

  mysql-test/r/lock_tables_lost_commit.result
    1.1 03/06/05 17:01:51 guilhem@mysql.com +8 -0

  mysql-test/t/lock_tables_lost_commit.test
    1.0 03/06/05 17:01:51 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/t/lock_tables_lost_commit.test

  mysql-test/t/lock_tables_lost_commit-master.opt
    1.0 03/06/05 17:01:51 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/t/lock_tables_lost_commit-master.opt

  mysql-test/r/lock_tables_lost_commit.result
    1.0 03/06/05 17:01:51 guilhem@mysql.com +0 -0
    BitKeeper file /home/mysql_src/mysql-4.0/mysql-test/r/lock_tables_lost_commit.result

  sql/slave.cc
    1.225 03/06/05 17:01:50 guilhem@mysql.com +20 -0
    Comment to remember that size of relay logs on disk is not the total size
    of the relay log.

ChangeSet
  1.1455.1.58 03/06/05 17:25:09 monty@narttu.mysql.fi +1 -0
  Added function comment

  mysys/thr_alarm.c
    1.35 03/06/05 17:25:08 monty@narttu.mysql.fi +15 -3
    Added function comment

ChangeSet
  1.1455.32.1 03/06/05 16:56:38 jani@ua126d19.elisa.omakaista.fi +1 -0
  mysqld won't give a warning any more, if --user=user_name is used,
  if 'user_name' is the current user and it is not root.

  sql/mysqld.cc
    1.433 03/06/05 16:56:34 jani@ua126d19.elisa.omakaista.fi +11 -4
    mysqld won't give a warning any more, if --user=user_name is used,
    if 'user_name' is the current user and it is not root.

ChangeSet
  1.1455.1.56 03/06/05 16:06:38 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Revert a change to dict_mem_index_add_field which slipped prematurely into the bk tree

  sql/ha_innodb.cc
    1.171 03/06/05 16:06:26 heikki@hundin.mysql.fi +1 -2
    Revert a change to dict_mem_index_add_field which slipped prematurely into the bk tree

ChangeSet
  1.1455.1.55 03/06/05 15:58:23 heikki@hundin.mysql.fi +2 -0
  ha_innodb.cc, handler.cc:
    Fix the BDB crash in the previous push; to save CPU remove duplicate calls of commit in InnoDB

  sql/ha_innodb.cc
    1.170 03/06/05 15:58:13 heikki@hundin.mysql.fi +149 -78
    Fix the BDB crash in the previous push; to save CPU remove duplicate calls of commit in InnoDB

  sql/handler.cc
    1.100 03/06/05 15:58:06 heikki@hundin.mysql.fi +8 -26
    Fix the BDB crash in the previous push; to save CPU remove duplicate calls of commit in InnoDB

ChangeSet
  1.1455.1.54 03/06/05 15:21:10 monty@narttu.mysql.fi +1 -0
  Merged fix for alarm on big blocks

  sql/net_serv.cc
    1.57 03/06/05 15:21:09 monty@narttu.mysql.fi +1 -2
    Merged fix for alarm on big blocks

ChangeSet
  1.676.1.707 03/06/05 15:15:27 monty@narttu.mysql.fi +1 -0
  Fixed test if thr_alarm() failed

  sql/net_serv.cc
    1.15.1.9 03/06/05 15:15:24 monty@narttu.mysql.fi +1 -1
    Fixed test if thr_alarm() failed

ChangeSet
  1.1455.31.1 03/06/05 15:06:19 jani@ua126d19.elisa.omakaista.fi +2 -0
  Fixed a bug in concat_ws(), which did not add concat separator
  in case of an empty string. Bug ID 586.

  sql/item_strfunc.cc
    1.60 03/06/05 15:06:15 jani@ua126d19.elisa.omakaista.fi +4 -4
    Fixed a bug in concat_ws(), which did not add concat separator
    in case of an empty string. Bug ID 586.

  mysql-test/r/func_str.result
    1.19 03/06/05 15:06:14 jani@ua126d19.elisa.omakaista.fi +1 -1
    Fixed a bug in concat_ws(), which did not add concat separator
    in case of an empty string. Bug ID 586.

ChangeSet
  1.1455.1.52 03/06/05 12:29:13 monty@narttu.mysql.fi +5 -0
  Print error if we can't delete an alarm
  More debugging variables
  Increment aborted_threads in case of killed or too big packet

  sql/sql_parse.cc
    1.316.1.1 03/06/05 12:29:12 monty@narttu.mysql.fi +7 -0
    Increment aborted_threads in case of killed or too big packet

  sql/net_serv.cc
    1.56 03/06/05 12:29:12 monty@narttu.mysql.fi +6 -1
    statistics variable (for debugging)

  sql/mysqld.cc
    1.432 03/06/05 12:29:12 monty@narttu.mysql.fi +1 -1
    Statistics variable (for debugging)

  mysys/thr_alarm.c
    1.34 03/06/05 12:29:12 monty@narttu.mysql.fi +5 -6
    Print error if we can't delete an alarm

  include/thr_alarm.h
    1.13 03/06/05 12:29:11 monty@narttu.mysql.fi +1 -1
    made prototype more portable

ChangeSet
  1.1455.1.50 03/06/05 12:00:06 monty@narttu.mysql.fi +1 -0
  Merge with 3.23 to get fix for thr_alarm and big packets

  sql/net_serv.cc
    1.55 03/06/05 12:00:05 monty@narttu.mysql.fi +2 -7
    Merge with 3.23 to get fix for thr_alarm and big packets

ChangeSet
  1.676.1.706 03/06/05 11:55:03 monty@narttu.mysql.fi +1 -0
  Fixed problem with alarms when reading too big packet

  sql/net_serv.cc
    1.15.1.8 03/06/05 11:55:03 monty@narttu.mysql.fi +5 -5
    Fixed problem with alarms when reading too big packet

ChangeSet
  1.1455.29.2 03/06/04 22:31:06 lenz@mysql.com +1 -0
   - When compiling the Max package incl. RAID support using gcc, make sure
     to set CXX=gcc (cannot link the code with g++) - this should help to
     recompile the RPM on Distributions using gcc 3
   - Added a symlink /usr/sbin/rcmysql -> /etc/init.d/mysql

  support-files/mysql.spec.sh
    1.66 03/06/04 22:31:03 lenz@mysql.com +12 -0
     - When compiling the Max package incl. RAID support using gcc, make sure
       to set CXX=gcc (cannot link the code with g++) - this should help to
       recompile the RPM on Distributions using gcc 3
     - Added a symlink /usr/sbin/rcmysql -> /etc/init.d/mysql

ChangeSet
  1.1455.29.1 03/06/04 17:31:21 lenz@mysql.com +1 -0
   - Updated Default-Stop run levels in the LSB header section to satisfy
     Red Hat's chkconfig (Bug #272) (The LSB spec is a bit ambigous about
     what actually needs to be put into this field)

  support-files/mysql.server.sh
    1.29 03/06/04 17:31:18 lenz@mysql.com +1 -1
     - Updated Default-Stop run levels in the LSB header section to satisfy
       Red Hat's chkconfig (Bug #272) (The LSB spec is a bit ambigous about
       what actually needs to be put into this field)

ChangeSet
  1.1455.28.2 03/06/04 18:22:48 monty@narttu.mysql.fi +1 -0
  Fixed (not fatal) buffer overflow

  libmysql/libmysql.c
    1.126 03/06/04 18:22:47 monty@narttu.mysql.fi +1 -1
    Fixed (not fatal) buffer overflow

ChangeSet
  1.1455.1.48 03/06/04 17:58:41 heikki@hundin.mysql.fi +1 -0
  handler.cc:
    If the autocommit is on, let handler.cc commit or rollback the whole transaction at an updating SQL statement end. This probably fixes bug number 578. The problem was that when explicit LOCK TABLES is used, then the lock count method in autocommit does not work.

  sql/handler.cc
    1.99 03/06/04 17:58:30 heikki@hundin.mysql.fi +27 -5
    If the autocommit is on, let handler.cc commit or rollback the whole transaction at an updating SQL statement end. This probably fixes bug number 578. The problem was that when explicit LOCK TABLES is used, then the lock count method in autocommit does not work.

ChangeSet
  1.1455.28.1 03/06/04 16:05:27 monty@narttu.mysql.fi +5 -0
  Added [mysqld-base-version] as a default group for the mysqld server
  Portability fix for Windows 64

  sql/mysqld.cc
    1.431 03/06/04 16:05:25 monty@narttu.mysql.fi +1 -1
    Added [mysqld-base-version] as a default group for the mysqld server

  innobase/include/univ.i
    1.28 03/06/04 16:05:25 monty@narttu.mysql.fi +4 -0
    Portability fix for Windows 64

  include/mysql_version.h.in
    1.14 03/06/04 16:05:25 monty@narttu.mysql.fi +1 -0
    Added [mysqld-base-version] as a default group for the mysqld server

  include/my_global.h
    1.48.1.1 03/06/04 16:05:25 monty@narttu.mysql.fi +1 -1
    Portability fix for Windows 64

  include/config-win.h
    1.27 03/06/04 16:05:25 monty@narttu.mysql.fi +7 -1
    Portability fix for Windows 64

ChangeSet
  1.1455.23.20 03/06/03 23:13:06 guilhem@mysql.com +4 -0
  One-line fix for bug 576 (DBUG_ASSERT failure when using CHANGE MASTER TO RELAY_LOG_POS=4).
  Plus a changeset which I had committed but forgot to push (and this changeset is lost on
  another computer, so I recreate it here). This changeset is "user-friendly SHOW BINLOG EVENTS
  and CHANGE MASTER TO when log positions < 4 are used.

  sql/unireg.h
    1.19 03/06/03 23:12:58 guilhem@mysql.com +6 -2
    warning comment

  sql/sql_yacc.yy
    1.208 03/06/03 23:12:57 guilhem@mysql.com +14 -0
    User-friendly CHANGE MASTER TO:
    presently when one does CHANGE MASTER TO MASTER_LOG_POS=0 he gets
        030425 10:12:41  Slave I/O thread: connected to master 'root@localhost:3306',  r
        eplication started in log 'gbichot-bin.013' at position 151
        030425 10:12:41  Error reading packet from server: Client requested master to st
        art replication from impossible position (server_errno=1236)
        030425 10:12:41  Got fatal error 1236: 'Client requested master to start replica
        tion from impossible position' from master when reading data from binary log
        030425 10:12:41  Slave I/O thread exiting, read up to log 'gbichot-bin.013', pos
        ition 151
        
    while she/he probably just wanted to start at the beginning of the
    binlog, which is 4. So we silently convert <4 to 4 in sql_yacc.yy
    (i.e. in the slave code; fortunately all versions have the same
    BIN_LOG_HEADER_SIZE=4 and we should not change this). See comments
    for an explaination of why we have to do this in sql_yacc.yy,
    not in sql_repl.cc.
    Same thing for CHANGE MASTER TO RELAY_LOG_POS.    

  sql/sql_repl.cc
    1.94 03/06/03 23:12:57 guilhem@mysql.com +1 -7
    User-friendly SHOW BINLOG EVENTS:
    SHOW BINLOG EVENTS FROM 0: currently one gets
        MASTER> show binlog events from 0;
        ERROR 1220: Error when executing command SHOW BINLOG EVENTS: Invalid log position
    so we silently convert <4 to 4.

  sql/slave.cc
    1.224 03/06/03 23:12:57 guilhem@mysql.com +1 -1
    fix for bug 576 (DBUG_ASSERT failure when using CHANGE MASTER TO RELAY_LOG_POS=4).

ChangeSet
  1.1461 03/06/03 18:25:45 Sinisa@sinisa.nasamreza.org +1 -0
  A  fix for small stack overflow ...

  sql/sql_parse.cc
    1.318 03/06/03 18:25:41 Sinisa@sinisa.nasamreza.org +1 -1
    A  fix for small stack overflow ...

ChangeSet
  1.1455.23.19 03/06/03 15:47:29 guilhem@mysql.com +3 -0
  -- Waiting for Monty's approval before push --
  Bug 571: play LOAD DATA INFILE the same way on the slave as it was on the master: 
  if it was with IGNORE, do it with IGNORE,
  if it was with REPLACE, do it with REPLACE,
  and (the change) if it was with nothing, do it with nothing (not with IGNORE !!).
  Bug 573: print a proper error message in case of duplicate entry in LOAD DATA INFILE
  on the slave, i.e. a message where the keyname and key value appear :
  'Duplicate entry '1' for key 1' and not 'Duplicate entry '%-.64s' for key %d'

  sql/log_event.cc
    1.111 03/06/03 15:47:23 guilhem@mysql.com +31 -6
    Bug 571: play LOAD DATA INFILE the same way on the slave as it was on the master: 
    if it was with IGNORE, do it with IGNORE,
    if it was with REPLACE, do it with REPLACE,
    and (the change) if it was with nothing, do it with nothing (not with IGNORE !!).
    Bug 573: print a proper error message in case of duplicate entry in LOAD DATA INFILE
    on the slave, i.e. a message where the keyname and key value appear :
    'Duplicate entry '1' for key 1' and not 'Duplicate entry '%-.64s' for key %d'

  mysql-test/t/rpl_loaddata.test
    1.4 03/06/03 15:47:23 guilhem@mysql.com +17 -0
    check if duplicate entries on the slave trigger an error 
    when the slave replicates LOAD DATA INFILE (without IGNORE or REPLACE)
    (bug 571).

  mysql-test/r/rpl_loaddata.result
    1.4 03/06/03 15:47:23 guilhem@mysql.com +6 -0
    result update

ChangeSet
  1.1455.27.1 03/06/02 17:30:47 guilhem@mysql.com +1 -0
  Clearer error message (in the customer's case, the relay log was corrupted,
  not the master's binlog) (SW 1571).

  sql/slave.cc
    1.223 03/06/02 17:30:42 guilhem@mysql.com +7 -2
    Clearer error message (in the customer's case, the relay log was corrupted,
    not the master's binlog).

ChangeSet
  1.1455.23.17 03/06/02 17:58:18 heikki@hundin.mysql.fi +1 -0
  os0sync.c:
    Do not try to reserve os_sync_mutex in shutdown after it has been freed

  innobase/os/os0sync.c
    1.20 03/06/02 17:58:05 heikki@hundin.mysql.fi +21 -4
    Do not try to reserve os_sync_mutex in shutdown after it has been freed

ChangeSet
  1.1455.23.16 03/06/02 16:11:06 heikki@hundin.mysql.fi +1 -0
  com0shm.c:
    Removed auto event creation because it is not needed in any MySQL/InnoDB code

  innobase/com/com0shm.c
    1.3 03/06/02 16:10:59 heikki@hundin.mysql.fi +6 -3
    Removed auto event creation because it is not needed in any MySQL/InnoDB code

ChangeSet
  1.1459 03/06/02 14:14:10 Sinisa@sinisa.nasamreza.org +2 -0
  Merge sinisa@bk-internal.mysql.com:/home/bk/mysql-4.0
  into sinisa.nasamreza.org:/mnt/work/mysql-4.0

  include/my_global.h
    1.49 03/06/02 14:11:57 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

  client/mysql.cc
    1.137 03/06/02 14:11:56 Sinisa@sinisa.nasamreza.org +0 -0
    Auto merged

ChangeSet
  1.1455.23.15 03/06/02 13:45:45 heikki@hundin.mysql.fi +1 -0
  os0file.c:
    Put back Monty's patch which the previous push accidentally erased: print also operation type in os_file_handle_error()

  innobase/os/os0file.c
    1.54 03/06/02 13:45:37 heikki@hundin.mysql.fi +24 -18
    Put back Monty's patch which the previous push accidentally erased: print also operation type in os_file_handle_error()

ChangeSet
  1.1455.23.14 03/06/02 13:11:20 heikki@hundin.mysql.fi +8 -0
  os0thread.h, os0sync.ic, os0sync.h, os0thread.c, os0sync.c, os0file.c:
    Release all event semaphores at shutdown also in Windows
  srv0start.c, srv0srv.c:
    make test sometimes failed because lock timeout thread exited without decrementing the InnoDB thread counter

  innobase/include/os0thread.h
    1.12 03/06/02 13:10:00 heikki@hundin.mysql.fi +3 -1
    Release all event semaphores at shutdown also in Windows

  innobase/include/os0sync.ic
    1.7 03/06/02 13:10:00 heikki@hundin.mysql.fi +0 -1
    Release all event semaphores at shutdown also in Windows

  innobase/include/os0sync.h
    1.12 03/06/02 13:10:00 heikki@hundin.mysql.fi +33 -18
    Release all event semaphores at shutdown also in Windows

  innobase/os/os0thread.c
    1.22 03/06/02 13:09:25 heikki@hundin.mysql.fi +4 -0
    Release all event semaphores at shutdown also in Windows

  innobase/os/os0sync.c
    1.19 03/06/02 13:09:25 heikki@hundin.mysql.fi +85 -99
    Release all event semaphores at shutdown also in Windows

  innobase/os/os0file.c
    1.53 03/06/02 13:09:25 heikki@hundin.mysql.fi +40 -43
    Release all event semaphores at shutdown also in Windows

  innobase/srv/srv0start.c
    1.46 03/06/02 13:08:29 heikki@hundin.mysql.fi +26 -6
    make test sometimes failed because lock timeout thread exited without decrementing the InnoDB thread counter

  innobase/srv/srv0srv.c
    1.50 03/06/02 13:08:29 heikki@hundin.mysql.fi +43 -1
    make test sometimes failed because lock timeout thread exited without decrementing the InnoDB thread counter

ChangeSet
  1.1455.1.45 03/06/02 07:55:57 lenz@mysql.com +1 -0
  Merge lgrimmer@build.mysql.com:/home/bk/mysql-4.0
  into mysql.com:/space/my/mysql-4.0

  BitKeeper/deleted/.del-internals.texi~62b6f580a41c2a43
    1.40 03/06/02 07:55:51 lenz@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1455.23.13 03/06/01 23:40:01 monty@narttu.mysql.fi +6 -0
  Small fixes (nothing nameworthy)

  sql/mysqld.cc
    1.430 03/06/01 23:39:59 monty@narttu.mysql.fi +4 -10
    Added sigemptyset() (bug found by valgrind)
    Removed some wrong usage of thd when writing variable values

  mysys/thr_alarm.c
    1.33 03/06/01 23:39:59 monty@narttu.mysql.fi +31 -10
    Made end_thr_alarm() work also with internal alarm thread.
    (Not critical for MySQL)

  mysql-test/t/errors.test
    1.10 03/06/01 23:39:59 monty@narttu.mysql.fi +23 -10
    Cleaned up file to new error number standard

  innobase/os/os0file.c
    1.52 03/06/01 23:39:59 monty@narttu.mysql.fi +24 -13
    Added operation to error messages

  include/my_global.h
    1.48 03/06/01 23:39:59 monty@narttu.mysql.fi +4 -1
    typedef for future functions that needs string length as an argument

  mysql-test/r/errors.result
    1.5 03/06/01 17:50:25 monty@narttu.mysql.fi +0 -0
    Rename: mysql-test/r/err000001.result -> mysql-test/r/errors.result

  mysql-test/t/errors.test
    1.9 03/06/01 17:50:05 monty@narttu.mysql.fi +0 -0
    Rename: mysql-test/t/err000001.test -> mysql-test/t/errors.test

ChangeSet
  1.1455.23.12 03/06/01 12:43:08 monty@narttu.mysql.fi +3 -0
  Merge

  innobase/srv/srv0srv.c
    1.49 03/06/01 12:43:07 monty@narttu.mysql.fi +0 -9
    Use local version. Heikki needs to check if the os_thread_sleep() should go to 4.0 or not

  BitKeeper/deleted/.del-internals.texi~62b6f580a41c2a43
    1.38.1.2 03/06/01 12:36:54 monty@narttu.mysql.fi +0 -0
    Auto merged

  BitKeeper/deleted/.del-global.h~e80d28157acfdcb5
    1.55 03/06/01 12:36:54 monty@narttu.mysql.fi +0 -0
    Auto merged

  BitKeeper/deleted/.del-internals.texi~62b6f580a41c2a43
    1.38.1.1 03/06/01 12:36:54 monty@narttu.mysql.fi +0 -0
    Merge rename: Docs/internals.texi -> BitKeeper/deleted/.del-internals.texi~62b6f580a41c2a43

  BitKeeper/deleted/.del-global.h~e80d28157acfdcb5
    1.39.10.2 03/06/01 12:36:54 monty@narttu.mysql.fi +0 -0
    Merge rename: include/global.h -> BitKeeper/deleted/.del-global.h~e80d28157acfdcb5

ChangeSet
  1.1455.23.11 03/06/01 12:33:23 monty@narttu.mysql.fi +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/mysql_priv.h
    1.197 03/06/01 12:33:21 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.26.1 03/06/01 12:32:53 monty@narttu.mysql.fi +6 -0
  Fixed bug in ALTER TABLE DISABLE KEYS and INSERT DELAYED. Bug #478

  sql/sql_table.cc
    1.159 03/06/01 12:32:51 monty@narttu.mysql.fi +82 -53
    Fixed bug in ALTER TABLE DISABLE KEYS and INSERT DELAYED

  sql/mysql_priv.h
    1.195.1.1 03/06/01 12:32:51 monty@narttu.mysql.fi +0 -1
    Made closed_cached_table local

  mysql-test/t/lowercase_table.test
    1.2 03/06/01 12:32:51 monty@narttu.mysql.fi +11 -0
    Added test of alias name comparison

  mysql-test/t/alter_table.test
    1.15 03/06/01 12:32:51 monty@narttu.mysql.fi +9 -0
    Test of ALTER TABLE DISABLE KEYS + INSERT DELAYED

  mysql-test/r/lowercase_table.result
    1.2 03/06/01 12:32:51 monty@narttu.mysql.fi +12 -0
    new results

  mysql-test/r/alter_table.result
    1.13 03/06/01 12:32:51 monty@narttu.mysql.fi +5 -0
    new results

ChangeSet
  1.1458 03/05/31 21:35:20 Sinisa@sinisa.nasamreza.org +4 -0
  several bug fixes

  sql/sql_parse.cc
    1.317 03/05/31 21:35:14 Sinisa@sinisa.nasamreza.org +4 -3
    Fix for the non-functioning max_user_connections

  sql/sql_acl.cc
    1.98 03/05/31 21:35:14 Sinisa@sinisa.nasamreza.org +12 -3
    Sending error when global privilege is attempted at db level

  mysys/charset.c
    1.34 03/05/31 21:35:14 Sinisa@sinisa.nasamreza.org +1 -0
    Fix for a bug with LEFT(), RIGHT() ... and GROUP BY clause

  include/my_global.h
    1.45.1.1 03/05/31 21:35:14 Sinisa@sinisa.nasamreza.org +3 -1
    Fix for a clash with include files from Linux kernel source

ChangeSet
  1.676.301.1 03/05/31 18:44:37 monty@narttu.mysql.fi +1 -0
  Fixed compiler optimization problem with doubleget()
  (Casused problems in GIS functions in 4.1)

  include/global.h
    1.39.10.1 03/05/31 18:44:36 monty@narttu.mysql.fi +5 -2
    Fixed compiler optimization problem with doubleget()

ChangeSet
  1.1455.23.9 03/05/31 03:23:42 heikki@hundin.mysql.fi +4 -0
  os0thread.c, os0thread.h, os0sync.h:
    Cleanup
  os0sync.c:
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/os/os0thread.c
    1.21 03/05/31 03:23:31 heikki@hundin.mysql.fi +1 -0
    Cleanup

  innobase/include/os0thread.h
    1.11 03/05/31 03:23:19 heikki@hundin.mysql.fi +0 -1
    Cleanup

  innobase/include/os0sync.h
    1.11 03/05/31 03:23:19 heikki@hundin.mysql.fi +1 -2
    Cleanup

  innobase/os/os0sync.c
    1.18 03/05/31 03:19:16 heikki@hundin.mysql.fi +1 -2
    Free all OS sync primitives and allocated memory in InnoDB shutdown

ChangeSet
  1.1455.23.8 03/05/31 03:12:03 heikki@hundin.mysql.fi +10 -0
  Many files:
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/ut/ut0mem.c
    1.11 03/05/31 03:11:44 heikki@hundin.mysql.fi +2 -0
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/sync/sync0sync.c
    1.15 03/05/31 03:11:34 heikki@hundin.mysql.fi +21 -6
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/srv/srv0start.c
    1.45 03/05/31 03:11:23 heikki@hundin.mysql.fi +16 -16
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/srv/srv0srv.c
    1.48 03/05/31 03:11:23 heikki@hundin.mysql.fi +11 -58
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/ibuf/ibuf0ibuf.c
    1.17 03/05/31 03:10:27 heikki@hundin.mysql.fi +2 -2
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/ibuf/ibuf0ibuf.c
    1.16 03/05/31 03:09:08 heikki@hundin.mysql.fi +2 -2
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/include/srv0start.h
    1.8 03/05/31 03:08:12 heikki@hundin.mysql.fi +4 -3
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/include/srv0srv.h
    1.23 03/05/31 03:08:12 heikki@hundin.mysql.fi +6 -0
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/include/os0sync.h
    1.10 03/05/31 03:08:03 heikki@hundin.mysql.fi +27 -9
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/os/os0thread.c
    1.20 03/05/31 03:07:49 heikki@hundin.mysql.fi +6 -6
    Free all OS sync primitives and allocated memory in InnoDB shutdown

  innobase/os/os0sync.c
    1.17 03/05/31 03:07:49 heikki@hundin.mysql.fi +120 -8
    Free all OS sync primitives and allocated memory in InnoDB shutdown

ChangeSet
  1.1455.25.1 03/05/31 01:41:11 bell@sanja.is.com.ua +3 -0
  fixed bug 549 - incorect query cache memory formating on very small query cache sizes

  sql/sql_cache.cc
    1.54 03/05/31 01:41:06 bell@sanja.is.com.ua +7 -9
    fixed query cache size showing
    fixed query cache low memory detection

  mysql-test/t/query_cache.test
    1.22 03/05/31 01:41:06 bell@sanja.is.com.ua +26 -9
    test of 2 parts of bug 549

  mysql-test/r/query_cache.result
    1.21 03/05/31 01:41:06 bell@sanja.is.com.ua +50 -10
    test of 2 parts of bug 549

ChangeSet
  1.1455.23.7 03/05/30 23:00:37 heikki@hundin.mysql.fi +1 -0
  srv0start.c:
    Cleanup

  innobase/srv/srv0start.c
    1.44 03/05/30 23:00:29 heikki@hundin.mysql.fi +1 -12
    Cleanup

ChangeSet
  1.1455.23.6 03/05/30 22:44:37 heikki@hundin.mysql.fi +9 -0
  Many files:
    Exit all threads created by innoDB at shutdown

  innobase/srv/srv0start.c
    1.43 03/05/30 22:44:21 heikki@hundin.mysql.fi +58 -0
    Exit all threads created by innoDB at shutdown

  innobase/srv/srv0srv.c
    1.47 03/05/30 22:44:21 heikki@hundin.mysql.fi +13 -0
    Exit all threads created by innoDB at shutdown

  innobase/log/log0log.c
    1.23 03/05/30 22:44:14 heikki@hundin.mysql.fi +15 -12
    Exit all threads created by innoDB at shutdown

  innobase/include/os0thread.h
    1.10 03/05/30 22:43:48 heikki@hundin.mysql.fi +4 -4
    Exit all threads created by innoDB at shutdown

  innobase/include/os0sync.h
    1.9 03/05/30 22:43:48 heikki@hundin.mysql.fi +11 -1
    Exit all threads created by innoDB at shutdown

  innobase/include/os0file.h
    1.17 03/05/30 22:43:48 heikki@hundin.mysql.fi +7 -0
    Exit all threads created by innoDB at shutdown

  innobase/os/os0thread.c
    1.19 03/05/30 22:43:29 heikki@hundin.mysql.fi +28 -2
    Exit all threads created by innoDB at shutdown

  innobase/os/os0sync.c
    1.16 03/05/30 22:43:29 heikki@hundin.mysql.fi +25 -2
    Exit all threads created by innoDB at shutdown

  innobase/os/os0file.c
    1.51 03/05/30 22:43:29 heikki@hundin.mysql.fi +44 -1
    Exit all threads created by innoDB at shutdown

ChangeSet
  1.1455.23.5 03/05/30 18:41:19 gluh@gluh.mysql.r18.ru +2 -0
  Fix for compiling MySQL-4.0.13 with SSL support on OpenBSD

  sql/mysql_priv.h
    1.196 03/05/30 18:41:18 gluh@gluh.mysql.r18.ru +1 -0
    Fix for compiling MySQL-4.0.13 with SSL support on OpenBSD

  include/my_global.h
    1.47 03/05/30 18:41:18 gluh@gluh.mysql.r18.ru +1 -1
    Fix for compiling MySQL-4.0.13 with SSL support on OpenBSD

ChangeSet
  1.1455.23.4 03/05/29 14:52:25 gluh@gluh.mysql.r18.ru +1 -0
  Fix for bug #529 ("x509" no allowed as field name)

  sql/sql_yacc.yy
    1.207 03/05/29 14:52:09 gluh@gluh.mysql.r18.ru +1 -0
    Fix for bug #529 ("x509" no allowed as field name)

ChangeSet
  1.676.1.704 03/05/28 20:31:33 heikki@hundin.mysql.fi +1 -0
  srv0srv.c:
    Prevent the InnoDB main thread from hogging CPU if a table lingers in the background drop queue (though it is essentially a bug if a table end up there at all)

  innobase/srv/srv0srv.c
    1.11.1.24 03/05/28 20:31:23 heikki@hundin.mysql.fi +9 -0
    Prevent the InnoDB main thread from hogging CPU if a table lingers in the background drop queue (though it is essentially a bug if a table end up there at all)

ChangeSet
  1.1455.23.3 03/05/28 11:24:48 bar@bar.mysql.r18.ru +1 -0
  item_cmpfunc.cc:
    Fix for multibyte charsets

  sql/item_cmpfunc.cc
    1.51 03/05/28 11:24:30 bar@bar.mysql.r18.ru +4 -0
    Fix for multibyte charsets

ChangeSet
  1.1455.24.1 03/05/28 03:36:44 monty@narttu.mysql.fi +1 -0
  Removed not used variable

  libmysqld/lib_sql.cc
    1.40 03/05/28 03:36:43 monty@narttu.mysql.fi +0 -1
    Removed not used variable

ChangeSet
  1.1455.23.1 03/05/27 23:07:32 guilhem@mysql.com +2 -0
  A trick (a useless update) to force the slave to wait for TWO rotate events
  before stopping. This is to make the test's result predictable (depending
  on the machine the results could formerly be slightly different, though
  everything is sane in the code; it's not a bug).

  mysql-test/t/rpl_log.test
    1.12 03/05/27 23:07:30 guilhem@mysql.com +22 -0
    A trick (a useless update) to force the slave to wait for TWO rotate events
    before stopping. This is to make the test's result predictable (depending
    on the machine the results could formerly be slightly different, though
    everything is sane in the code; it's not a bug).

  mysql-test/r/rpl_log.result
    1.29 03/05/27 23:07:30 guilhem@mysql.com +14 -8
    result update

ChangeSet
  1.1455.1.44 03/05/27 18:47:50 lenz@mysql.com +2 -0
   - removed internals.texi (has been moved to mysqldoc BK tree)

  Docs/Makefile.am
    1.38 03/05/27 18:47:48 lenz@mysql.com +0 -47
     - removed all traces of internals.texi

  BitKeeper/deleted/.del-internals.texi~62b6f580a41c2a43
    1.39 03/05/27 18:44:01 lenz@mysql.com +0 -0
    Delete: Docs/internals.texi

ChangeSet
  1.676.1.703 03/05/27 18:34:03 lenz@mysql.com +1 -0
   - removed internals.texi (has been moved to the "mysqldoc" BK tree)

  BitKeeper/deleted/.del-internals.texi~62b6f580a41c2a43
    1.11.1.1 03/05/27 18:32:50 lenz@mysql.com +0 -0
    Delete: Docs/internals.texi

ChangeSet
  1.1455.22.1 03/05/27 18:16:50 guilhem@mysql.com +1 -0
  Removed bad mutex locking

  sql/slave.cc
    1.222 03/05/27 18:16:48 guilhem@mysql.com +0 -4
    Removed bad mutex locking

ChangeSet
  1.1455.21.1 03/05/27 16:40:14 monty@narttu.mysql.fi +12 -0
  Fixed problem with mysql prompt when server disconnect. (Bug 356)
  Fixed problem with localtime -> gmt where some times resulted in
  different (but correct) timestamps. Now MySQL should use the smallest
  possible timestamp value in this case.  (Bug 316)

  mysql-test/t/timezone.test
    1.1 03/05/27 16:40:13 monty@narttu.mysql.fi +28 -0

  mysql-test/t/timezone-master.opt
    1.1 03/05/27 16:40:13 monty@narttu.mysql.fi +1 -0

  mysql-test/r/timezone.result
    1.1 03/05/27 16:40:13 monty@narttu.mysql.fi +25 -0

  mysql-test/r/have_mest_timezone.require
    1.1 03/05/27 16:40:13 monty@narttu.mysql.fi +2 -0

  sql/time.cc
    1.25 03/05/27 16:40:13 monty@narttu.mysql.fi +35 -21
    Fixed problem with localtime -> gmt where some times resulted in
    different (but correct) timestamps. Now MySQL should use the smallest
    possible timestamp value in this case.  (Bug 316)

  sql/mysqld.cc
    1.429 03/05/27 16:40:13 monty@narttu.mysql.fi +0 -10
    Remove LOCK_timezone.
    Code cleanup

  sql/mysql_priv.h
    1.195 03/05/27 16:40:13 monty@narttu.mysql.fi +1 -1
    New my_gmt_sec() parameters

  sql/field.cc
    1.74 03/05/27 16:40:13 monty@narttu.mysql.fi +2 -1
    New my_gmt_sec() parameters

  mysql-test/t/timezone.test
    1.0 03/05/27 16:40:13 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/t/timezone.test

  mysql-test/t/timezone-master.opt
    1.0 03/05/27 16:40:13 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/t/timezone-master.opt

  mysql-test/t/raid.test
    1.5 03/05/27 16:40:13 monty@narttu.mysql.fi +2 -0
    Fixed test if raid is enabled

  mysql-test/r/timezone.result
    1.0 03/05/27 16:40:13 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/r/timezone.result

  mysql-test/r/have_mest_timezone.require
    1.0 03/05/27 16:40:13 monty@narttu.mysql.fi +0 -0
    BitKeeper file /my/mysql-4.0/mysql-test/r/have_mest_timezone.require

  mysql-test/mysql-test-run.sh
    1.170 03/05/27 16:40:13 monty@narttu.mysql.fi +11 -1
    Added support for --timezone in -master.opt

  client/mysqltest.c
    1.101 03/05/27 16:40:13 monty@narttu.mysql.fi +5 -1
    More debug information

  client/mysql.cc
    1.135.1.1 03/05/27 16:40:12 monty@narttu.mysql.fi +14 -5
    Fixed problem with prompt when server disconnect. (Bug 356)

ChangeSet
  1.1455.1.41 03/05/27 14:50:14 guilhem@mysql.com +2 -0
  temporary update of the test to satisfy merge; will commit a final update
  soon.

  mysql-test/t/rpl_insert_id.test
    1.3 03/05/27 14:50:13 guilhem@mysql.com +3 -9
    temporary update of the test to satisfy merge; will commit a final update
    soon.

  mysql-test/r/rpl_insert_id.result
    1.4 03/05/27 13:07:19 guilhem@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1455.1.40 03/05/26 20:35:27 monty@narttu.mysql.fi +1 -0
  Merge narttu.mysql.fi:/my/mysql-3.23 into narttu.mysql.fi:/my/mysql-4.0

  sql/mysqld.cc
    1.428 03/05/26 20:35:26 monty@narttu.mysql.fi +2 -4
    Auto merged

ChangeSet
  1.676.1.702 03/05/26 20:09:53 monty@narttu.mysql.fi +1 -0
  Fixed bug when installing mysqld as a service with 2 arguments (option + service-name)

  sql/mysqld.cc
    1.162.1.114 03/05/26 20:09:52 monty@narttu.mysql.fi +5 -2
    Fixed bug when installing mysqld as a service with 2 arguments (option + service-name)

ChangeSet
  1.1455.1.39 03/05/26 19:11:22 monty@narttu.mysql.fi +2 -0
  Fix for 64 bit machines (To remove warnings on Itanium)

  mysys/thr_alarm.c
    1.32 03/05/26 19:11:21 monty@narttu.mysql.fi +1 -0
    Safety fix

  include/my_global.h
    1.46 03/05/26 19:11:21 monty@narttu.mysql.fi +5 -0
    Fix for 64 bit machines (To remove warnings on Itanium)

ChangeSet
  1.1455.1.38 03/05/26 17:55:49 monty@narttu.mysql.fi +5 -0
  Merge with 3.23 to get fix for kill mysqld-pid

  sql/mysqld.cc
    1.427 03/05/26 17:55:47 monty@narttu.mysql.fi +0 -2
    Merge with 3.23 to get fix for kill mysqld-pid

  sql/ha_innodb.cc
    1.169 03/05/26 17:55:47 monty@narttu.mysql.fi +0 -11
    Keep local copy

  sql/log_event.cc
    1.110 03/05/26 17:52:02 monty@narttu.mysql.fi +0 -5
    Auto merged

  sql/ha_innodb.cc
    1.45.25.3 03/05/26 17:52:01 monty@narttu.mysql.fi +0 -0
    Merge rename: sql/ha_innobase.cc -> sql/ha_innodb.cc

  include/mysql_com.h
    1.50 03/05/26 17:52:01 monty@narttu.mysql.fi +0 -0
    Auto merged

  BitKeeper/etc/logging_ok
    1.274 03/05/26 17:51:54 monty@narttu.mysql.fi +0 -1
    auto-union

ChangeSet
  1.676.300.1 03/05/26 17:24:16 monty@narttu.mysql.fi +1 -0
  Fixed problem with 'kill pid-of-mysqld' on Mac OS X

  sql/mysqld.cc
    1.162.1.113 03/05/26 17:24:15 monty@narttu.mysql.fi +11 -4
    Fixed problem with 'kill pid-of-mysqld' on Mac OS X

ChangeSet
  1.1455.1.37 03/05/26 15:50:05 jani@ua126d19.elisa.omakaista.fi +1 -0
  Merge jani@192.168.0.2:/my/mysql-4.0
  into ua126d19.elisa.omakaista.fi:/home/my/bk/mysql-4.0

  BitKeeper/etc/logging_ok
    1.273 03/05/26 15:50:01 jani@ua126d19.elisa.omakaista.fi +1 -0
    Logging to logging@openlogging.org accepted

ChangeSet
  1.1455.19.3 03/05/26 15:08:17 monty@narttu.mysql.fi +3 -0
  code cleanup

  sql/log.cc
    1.122 03/05/26 15:08:16 monty@narttu.mysql.fi +25 -32
    Code cleanup

  mysql-test/t/rpl_insert_id.test
    1.1.1.1 03/05/26 15:08:16 monty@narttu.mysql.fi +7 -3
    Test logging of FOREIGN_KEY_CHECKS

  mysql-test/r/rpl_insert_id.result
    1.2.1.1 03/05/26 15:08:16 monty@narttu.mysql.fi +2 -0
    Test logging of FOREIGN_KEY_CHECKS

ChangeSet
  1.1455.19.2 03/05/26 13:36:43 monty@narttu.mysql.fi +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/log_event.cc
    1.109 03/05/26 13:36:41 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.20.2 03/05/26 13:10:08 monty@narttu.mysql.fi +3 -0
  Fixed core dump bug when shuting down mysqld

  sql/mysqld.cc
    1.426 03/05/26 13:10:07 monty@narttu.mysql.fi +4 -3
    Fixed core dump bug when shuting down mysqld

  mysys/thr_alarm.c
    1.31 03/05/26 13:10:07 monty@narttu.mysql.fi +47 -28
    Fixed core dump bug when shuting down mysqld

  include/thr_alarm.h
    1.12 03/05/26 13:10:07 monty@narttu.mysql.fi +1 -1
    Fixed core dump bug when shuting down mysqld

ChangeSet
  1.1455.20.1 03/05/26 11:47:03 monty@narttu.mysql.fi +5 -0
  Added testing of LOAD DATA ... STARTING BY
  Added read_only variable

  sql/sql_update.cc
    1.87 03/05/26 11:47:02 monty@narttu.mysql.fi +0 -1
    Remove not used variable

  sql/set_var.cc
    1.32 03/05/26 11:47:02 monty@narttu.mysql.fi +2 -3
    Added read_only variable

  sql/log_event.cc
    1.107.1.1 03/05/26 11:47:02 monty@narttu.mysql.fi +1 -2
    Code cleanup

  mysql-test/t/loaddata.test
    1.2 03/05/26 11:47:02 monty@narttu.mysql.fi +8 -0
    Added testing of STARTING BY

  mysql-test/r/loaddata.result
    1.2 03/05/26 11:47:01 monty@narttu.mysql.fi +7 -0
    Added testing of STARTING BY

ChangeSet
  1.676.1.700 03/05/26 06:16:50 monty@mashka.mysql.fi +1 -0
  Added missing free for last patch

  sql/ha_innobase.cc
    1.45.25.2 03/05/26 06:16:48 monty@mashka.mysql.fi +1 -0
    Added missing free for last patch

ChangeSet
  1.676.299.1 03/05/26 05:57:27 monty@mashka.mysql.fi +1 -0
  Remove not used flag

  include/mysql_com.h
    1.17.1.6 03/05/26 05:57:26 monty@mashka.mysql.fi +0 -1
    Remove not used flag

ChangeSet
  1.1455.15.20 03/05/25 23:09:46 guilhem@mysql.com +1 -0
  - Fix for memory leak if the SQL slave thread is killed just after reading an event.
  - A few more mutex locks and unlocks of rli.log_space_lock for doing clean reads of
  rli.ignore_log_space_limit
  - Broadcast after unlock, not before (small speed optimisation).

  sql/slave.cc
    1.221 03/05/25 23:09:43 guilhem@mysql.com +27 -2
    - Fix for memory leak if the SQL slave thread is killed just after reading an event.
    - A few more mutex locks and unlocks of rli.log_space_lock for doing clean reads of
    rli.ignore_log_space_limit
    - Broadcast after unlock, not before (small speed optimisation).

ChangeSet
  1.1455.19.1 03/05/25 23:37:32 heikki@hundin.mysql.fi +1 -0
  log.cc:
    If FOREIGN_KEY_CHECKS=0, wrap in binlog SQL statements inside SET FOREIGN_...=0; ... ; SET FOREIGN_...=1

  sql/log.cc
    1.121 03/05/25 23:37:22 heikki@hundin.mysql.fi +46 -1
    If FOREIGN_KEY_CHECKS=0, wrap in binlog SQL statements inside SET FOREIGN_...=0; ... ; SET FOREIGN_...=1

ChangeSet
  1.1455.15.19 03/05/24 16:43:53 guilhem@mysql.com +5 -0
  Fix for bug #490 and #491 (see details below)

  sql/sql_insert.cc
    1.100 03/05/24 16:43:50 guilhem@mysql.com +21 -3
    - In INSERT ... SELECT, if it fails with error but one row has been inserted and
    the table is not transactional, we must write to the binlog (the slave will stop
    because of the error code in the binlog event, this is normal). bug 491.
    - we must set INSERT_ID before writing to the binlog (bug 490
    accidentally introduced by another dev in 4.0.13).

  mysql-test/t/rpl_insert_id.test
    1.2 03/05/24 16:43:50 guilhem@mysql.com +27 -6
    Test for bug #490 (INSERT SELECT in auto_increment)

  mysql-test/t/insert_select.test
    1.6 03/05/24 16:43:50 guilhem@mysql.com +19 -0
    Check if a partly completed INSERT SELECT (failing because of "Duplicate key"
    after successfully inserting other rows) is written to the binlog if the
    table is not transactional and at least one row has been inserted (bug #491)

  mysql-test/r/rpl_insert_id.result
    1.3 03/05/24 16:43:50 guilhem@mysql.com +28 -0
    Test update

  mysql-test/r/insert_select.result
    1.8 03/05/24 16:43:50 guilhem@mysql.com +14 -0
    Result update.

ChangeSet
  1.1455.15.18 03/05/23 18:23:50 guilhem@mysql.com +1 -0
  Merge gbichot@213.136.52.20:/home/bk/mysql-4.0
  into mysql.com:/home/mysql_src/mysql-4.0

  configure.in
    1.275 03/05/23 18:23:47 guilhem@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1455.18.1 03/05/23 18:20:57 guilhem@mysql.com +2 -0
  Outcome of discussions with Lenz and Monty about handling ccache in the build commands.

  configure.in
    1.272.1.1 03/05/23 18:20:55 guilhem@mysql.com +1 -1
    Accept "ccache gcc" in the test.

  BUILD/SETUP.sh
    1.24 03/05/23 18:20:55 guilhem@mysql.com +17 -1
    Quote $CXX to make a test work even if CXX had spaces in it.
    Automatically add ccache to CC and CXX if ccache is present.

ChangeSet
  1.676.1.698 03/05/23 16:40:21 guilhem@mysql.com +1 -0
  Fix for #468 [Ver]: SHOW VARIABLES trims innodb_data_file_path
  (this bug was already fixed in 4.0, I just copied and pasted two lines).

  sql/ha_innobase.cc
    1.45.25.1 03/05/23 16:40:18 guilhem@mysql.com +10 -2
    Fix for #468 [Ver]: SHOW VARIABLES trims innodb_data_file_path
    (this bug was already fixed in 4.0, I just copied and pasted two lines).

ChangeSet
  1.1455.15.17 03/05/23 11:38:37 lenz@mysql.com +1 -0
   - Portability fix: FreeBSD 4.8-STABLE (480101) and 5.0-CURRENT (500110)
     now have a thread safe realpath(3) implementation - added check to only
     define -DHAVE_BROKEN_REALPATH where required
     (thanks to Martin Blapp from the FreeBSD team for the patch)

  configure.in
    1.274 03/05/23 11:38:35 lenz@mysql.com +10 -2
     - FreeBSD 4.8-STABLE (480101) and 5.0-CURRENT (500110) now have a thread
       safe realpath(3) implementation - added check to only define
       -DHAVE_BROKEN_REALPATH where required

ChangeSet
  1.1455.15.16 03/05/22 00:05:33 heikki@hundin.mysql.fi +1 -0
  row0ins.c:
    Disable UNIQU KEY error reporting in SHOW INNODB STATUS until we know if it slows down REPLACE significantly

  innobase/row/row0ins.c
    1.23 03/05/22 00:05:26 heikki@hundin.mysql.fi +5 -0
    Disable UNIQU KEY error reporting in SHOW INNODB STATUS until we know if it slows down REPLACE significantly

ChangeSet
  1.676.1.697 03/05/21 15:18:30 vva@eagle.mysql.r18.ru +2 -0
  Merge vvagin@bk-internal.mysql.com:/home/bk/mysql-3.23
  into eagle.mysql.r18.ru:/home/vva/work/LOADDATA/mysql-3.23

  sql/log_event.cc
    1.38.1.9 03/05/21 15:18:29 vva@eagle.mysql.r18.ru +0 -0
    Auto merged

  BitKeeper/etc/logging_ok
    1.153.1.92 03/05/21 15:18:27 vva@eagle.mysql.r18.ru +0 -1
    auto-union

ChangeSet
  1.676.298.1 03/05/21 15:16:56 vva@eagle.mysql.r18.ru +2 -0
  fixed "LINES STARTING" in load data replication

  BitKeeper/etc/logging_ok
    1.153.30.1 03/05/21 15:16:56 vva@eagle.mysql.r18.ru +1 -0
    Logging to logging@openlogging.org accepted

  sql/log_event.cc
    1.38.2.1 03/05/21 15:16:43 vva@eagle.mysql.r18.ru +5 -1
    fixed "LINES STARTING" in load data replication

ChangeSet
  1.1455.15.15 03/05/21 18:19:39 bell@sanja.is.com.ua +1 -0
  repair_part2 is made repeatable

ChangeSet
  1.1455.15.14 03/05/21 14:58:11 vva@eagle.mysql.r18.ru +1 -0
  Merge eagle.mysql.r18.ru:/home/vva/work/mysql.orig/clear/mysql-4.0
  into eagle.mysql.r18.ru:/home/vva/work/LOADDATA/mysql-4.0

  sql/log_event.cc
    1.108 03/05/21 14:58:09 vva@eagle.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.1424.34.1 03/05/21 14:54:02 vva@eagle.mysql.r18.ru +4 -0
  fixed 'STARTING BY' in replication

  sql/log_event.cc
    1.104.1.1 03/05/21 14:53:46 vva@eagle.mysql.r18.ru +10 -2
    fixed 'STARTING BY'

  mysql-test/t/rpl_loaddata.test
    1.3 03/05/21 14:53:46 vva@eagle.mysql.r18.ru +1 -2
    added test for 'STARTING BY'

  mysql-test/std_data/rpl_loaddata2.dat
    1.2 03/05/21 14:53:46 vva@eagle.mysql.r18.ru +4 -4
    added test for 'STARTING BY'

  mysql-test/r/rpl_loaddata.result
    1.3 03/05/21 14:53:46 vva@eagle.mysql.r18.ru +1 -1
    added test for 'STARTING BY'

  mysql-test/mysql-test-run.sh
    1.169 03/05/21 18:19:34 bell@sanja.is.com.ua +2 -0
    repair_part2 is made repeatable

ChangeSet
  1.1455.15.13 03/05/19 16:36:50 lenz@mysql.com +1 -0
   - Tagged ChangeSet 1.1497 as "mysql-4.0.13"
   - Updated version number in configure.in to 4.0.14 now that 4.0.13 has
     been tagged 

  configure.in
    1.273 03/05/19 16:36:48 lenz@mysql.com +1 -1
     - Updated version number to 4.0.14 now that 4.0.13 has been tagged

ChangeSet
  1.1455.15.12 03/05/19 12:02:11 monty@narttu.mysql.fi +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.0
  into narttu.mysql.fi:/my/mysql-4.0

  sql/mysql_priv.h
    1.194 03/05/19 12:02:09 monty@narttu.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1455.17.1 03/05/19 12:01:38 monty@narttu.mysql.fi +6 -0
  Added option --read-only (Thanks to Markus Benning)

  sql/sql_parse.cc
    1.316 03/05/19 12:01:37 monty@narttu.mysql.fi +12 -0
    Option --read-only

  sql/set_var.cc
    1.31 03/05/19 12:01:37 monty@narttu.mysql.fi +4 -0
    Option --read-only

  sql/mysqld.cc
    1.425 03/05/19 12:01:37 monty@narttu.mysql.fi +10 -4
    Removed not used variables
    Added option --read-only
    Change opt_do_pstack and master_ssl to get them to work with my_getopt

  sql/mysql_priv.h
    1.192.1.1 03/05/19 12:01:37 monty@narttu.mysql.fi +1 -2
    Remove not used variables

  sql/init.cc
    1.6 03/05/19 12:01:37 monty@narttu.mysql.fi +0 -2
    Remove not used variables

  myisam/myisamchk.c
    1.101 03/05/19 12:01:37 monty@narttu.mysql.fi +2 -1
    Removed warning from fulltext when repairing many tables with fulltext index

ChangeSet
  1.1455.15.11 03/05/18 21:46:19 heikki@hundin.mysql.fi +1 -0
  srv0start.c:
    Better instructions for the user if adding of new ibdata files fails

  innobase/srv/srv0start.c
    1.42 03/05/18 21:46:06 heikki@hundin.mysql.fi +23 -10
    Better instructions for the user if adding of new ibdata files fails

ChangeSet
  1.1455.15.10 03/05/17 16:23:46 heikki@hundin.mysql.fi +1 -0
  buf0buf.c:
    When calculating the buf pool dirty pages ratio, add also free pages to the LRU list length: no need to active flushing if there are lots of free pages in the buffer pool

  innobase/buf/buf0buf.c
    1.23 03/05/17 16:23:31 heikki@hundin.mysql.fi +2 -1
    When calculating the buf pool dirty pages ratio, add also free pages to the LRU list length: no need to active flushing if there are lots of free pages in the buffer pool

ChangeSet
  1.1455.15.9 03/05/16 16:27:50 heikki@hundin.mysql.fi +7 -0
  buf0lru.c, buf0flu.c, buf0buf.c, buf0lru.h:
    Search first only 10 % of the LRU list for a replaceable block before doing an LRU flush; enable again flushing of close pages also in a flush list (checkpointing) flush
  trx0trx.c:
    Add forgotten return value (it was not used anywhere, fortunately)
  ha_innodb.h, mysql_priv.h:
    Move declaration of srv_buf_pool_max_modified_pct to ha_innodb.h and enclose it to denote it is a C variable, not C++

  innobase/buf/buf0lru.c
    1.11 03/05/16 16:26:13 heikki@hundin.mysql.fi +35 -14
    Search first only 10 % of the LRU list for a replaceable block before doing an LRU flush; enable again flushing of close pages also in a flush list (checkpointing) flush

  innobase/buf/buf0flu.c
    1.18 03/05/16 16:26:13 heikki@hundin.mysql.fi +21 -15
    Search first only 10 % of the LRU list for a replaceable block before doing an LRU flush; enable again flushing of close pages also in a flush list (checkpointing) flush

  innobase/buf/buf0buf.c
    1.22 03/05/16 16:26:13 heikki@hundin.mysql.fi +5 -3
    Search first only 10 % of the LRU list for a replaceable block before doing an LRU flush; enable again flushing of close pages also in a flush list (checkpointing) flush

  innobase/include/buf0lru.h
    1.2 03/05/16 16:25:55 heikki@hundin.mysql.fi +14 -11
    Search first only 10 % of the LRU list for a replaceable block before doing an LRU flush; enable again flushing of close pages also in a flush list (checkpointing) flush

  innobase/trx/trx0trx.c
    1.25 03/05/16 16:21:52 heikki@hundin.mysql.fi +2 -0
    Add forgotten return value (it was not used anywhere, fortunately)

  sql/ha_innodb.h
    1.56 03/05/16 16:20:55 heikki@hundin.mysql.fi +3 -0
    Move declaration of srv_buf_pool_max_modified_pct to ha_innodb.h and enclose it to denote it is a C variable, not C++

  sql/mysql_priv.h
    1.193 03/05/16 16:20:48 heikki@hundin.mysql.fi +0 -4
    Move declaration of srv_buf_pool_max_modified_pct to ha_innodb.h and enclose it to denote it is a C variable, not C++

ChangeSet
  1.1455.15.8 03/05/16 13:36:13 mysqldev@build.mysql2.com +1 -0
   - re-enabled RAID support for the Max subpackage again

  support-files/mysql.spec.sh
    1.65 03/05/16 13:35:21 mysqldev@build.mysql2.com +6 -2
     - re-enabled RAID support for the Max subpackage again

