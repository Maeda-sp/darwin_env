ChangeSet
  1.2069 05/03/04 09:30:22 ingo@mysql.com +1 -0
  Fix for a build bug.
  Added a missing comma.

  myisam/mi_create.c
    1.35 05/03/04 09:30:20 ingo@mysql.com +1 -1
    Fix for a build bug.
    Added a missing comma.

ChangeSet
  1.2068 05/03/03 23:10:23 serg@serg.mylan +1 -0
  typos fixed

  sql/mysqld.cc
    1.524 05/03/03 23:10:10 serg@serg.mylan +2 -2
    typos fixed

ChangeSet
  1.2059.7.2 05/03/03 21:13:33 serg@serg.mylan +1 -0
  uninit variable fixed

  sql/ha_myisam.cc
    1.135 05/03/03 21:13:30 serg@serg.mylan +1 -1
    uninit variable fixed

ChangeSet
  1.2059.7.1 05/03/03 19:51:29 serg@serg.mylan +12 -0
  Fixes for bugs reported by Stefano Di Paola (stefano.dipaola@wisec.it)

  sql/table.cc
    1.79 05/03/03 19:51:26 serg@serg.mylan +5 -1
    create frm of temporary table with O_EXCL|O_NOFOLLOW

  sql/sql_udf.cc
    1.28 05/03/03 19:51:26 serg@serg.mylan +67 -31
    --allow_suspicious_udfs
    don't allow xxx() udf without any of xxx_init/deinit/add/reset
    check paths when loading from mysql.func

  sql/share/english/errmsg.txt
    1.73 05/03/03 19:51:26 serg@serg.mylan +1 -1
    typo

  sql/mysqld.cc
    1.523 05/03/03 19:51:26 serg@serg.mylan +9 -2
    --allow_suspicious_udfs

  sql/mysql_priv.h
    1.231 05/03/03 19:51:26 serg@serg.mylan +1 -1
    --allow_suspicious_udfs

  sql/ha_myisam.cc
    1.134 05/03/03 19:51:26 serg@serg.mylan +11 -7
    let mi_create know if the table is TEMPORARY

  mysys/mf_tempfile.c
    1.22 05/03/03 19:51:26 serg@serg.mylan +4 -4
    create temporary files with O_EXCL|O_NOFOLLOW

  myisammrg/myrg_create.c
    1.9 05/03/03 19:51:26 serg@serg.mylan +1 -1
    create table files with O_EXCL|O_NOFOLLOW

  myisam/mi_create.c
    1.34 05/03/03 19:51:26 serg@serg.mylan +8 -8
    create files of temporary tables with O_EXCL|O_NOFOLLOW

  merge/mrg_create.c
    1.7 05/03/03 19:51:26 serg@serg.mylan +1 -1
    create table files with O_EXCL|O_NOFOLLOW

  isam/create.c
    1.11 05/03/03 19:51:26 serg@serg.mylan +3 -2
    create table files with O_EXCL|O_NOFOLLOW

  include/my_global.h
    1.70 05/03/03 19:51:26 serg@serg.mylan +3 -0
    O_NOFOLLOW

ChangeSet
  1.2180 05/02/12 19:17:33 guilhem@mysql.com +1 -0
  new static archive_inited variable, so that archive_db_end() will do something only if archive_db_init() was run before
  (protection against destroying uninited mutex in the case where mysqld fails early at startup (before archive_db_init() was called)
  and then calls archive_db_end() to clean up).

  sql/examples/ha_archive.cc
    1.20 05/02/12 19:17:22 guilhem@mysql.com +9 -2
    new static archive_inited variable, so that archive_db_end() will do something only if archive_db_init() was run before.

ChangeSet
  1.2179 05/02/12 16:27:22 bar@mysql.com +4 -0
  Bug#8235 Connection collation change & table create with default result in crash

  strings/ctype-ucs2.c
    1.36 05/02/12 16:27:16 bar@mysql.com +24 -1
    Missing my_scan_ucs2() was added.

  sql/field.cc
    1.209 05/02/12 16:27:16 bar@mysql.com +10 -2
    Fixed minus check to be UCS2-compatible

  mysql-test/t/ctype_ucs.test
    1.20 05/02/12 16:27:16 bar@mysql.com +21 -0
    Test case

  mysql-test/r/ctype_ucs.result
    1.22 05/02/12 16:27:15 bar@mysql.com +14 -0
    Test case

ChangeSet
  1.2154.43.1 05/02/12 00:05:13 serg@serg.mylan +2 -0
  make LOAD INDEX to work

  mysql-test/r/preload.result
    1.7 05/02/12 00:05:05 serg@serg.mylan +14 -14
    make LOAD INDEX to work

  myisam/mi_preload.c
    1.9 05/02/12 00:05:05 serg@serg.mylan +4 -4
    make LOAD INDEX to work

ChangeSet
  1.2177 05/02/11 15:00:29 igor@rurik.mysql.com +1 -0
  Manual merge

  mysql-test/r/distinct.result
    1.31 05/02/11 15:00:26 igor@rurik.mysql.com +1 -2
    Manual merge

ChangeSet
  1.1346.1.711 05/02/11 13:44:54 igor@rurik.mysql.com +1 -0
  distinct.result:
    Adjustment of the result file after the revision of the fix for bug #7520.

  mysql-test/r/distinct.result
    1.14.1.12 05/02/11 13:43:38 igor@rurik.mysql.com +1 -1
    Adjustment of the result file after the revision of the fix for bug #7520.

ChangeSet
  1.2173.2.1 05/02/11 10:44:03 igor@rurik.mysql.com +3 -0
  Manual merge

  mysql-test/r/select.result
    1.48 05/02/11 10:43:59 igor@rurik.mysql.com +0 -1
    Manual merge

  sql/table.cc
    1.125 05/02/11 10:41:02 igor@rurik.mysql.com +0 -0
    Auto merged

  BitKeeper/triggers/post-commit
    1.30 05/02/11 10:41:02 igor@rurik.mysql.com +0 -0
    Auto merged

ChangeSet
  1.1346.796.4 05/02/11 10:39:26 igor@rurik.mysql.com +2 -0
  select.result:
    After revision of the fix for bug #7520.
  table.cc:
    Revised the fix for bug #7520.
    Made it compliant with 5.0 code where the bug does not exist.

  mysql-test/r/select.result
    1.8.1.28 05/02/11 10:37:15 igor@rurik.mysql.com +1 -1
    After revision of the fix for bug #7520.

  sql/table.cc
    1.46.1.32 05/02/11 10:35:39 igor@rurik.mysql.com +6 -7
    Revised the fix for bug #7520.
    Made it compliant with 5.0 code where the bug does not exist.

ChangeSet
  1.2174 05/02/11 10:40:10 joerg@mysql.com +1 -0
  Merge mysql.com:/M40/mysql-4.0 into mysql.com:/M41/merge-4.1

  Build-tools/Do-compile
    1.104 05/02/11 10:40:07 joerg@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2173 05/02/10 23:48:35 igor@rurik.mysql.com +2 -0
  Merge rurik.mysql.com:/home/igor/mysql-4.1
  into rurik.mysql.com:/home/igor/dev/mysql-4.1-0

  extra/replace.c
    1.17 05/02/10 23:48:26 igor@rurik.mysql.com +0 -0
    Auto merged

  BitKeeper/etc/logging_ok
    1.366 05/02/10 23:48:16 igor@rurik.mysql.com +0 -0
    auto-union

ChangeSet
  1.2161.1.2 05/02/10 23:47:57 igor@rurik.mysql.com +1 -0
  select.result:
    Adjusted results of the test case for bug #7520 for 4.1.

  mysql-test/r/select.result
    1.47 05/02/10 23:46:51 igor@rurik.mysql.com +6 -6
    Adjusted results of the test case for bug #7520 for 4.1.

ChangeSet
  1.2161.1.1 05/02/10 22:17:18 igor@rurik.mysql.com +5 -0
  Merge rurik.mysql.com:/home/igor/dev/mysql-4.0-0
  into rurik.mysql.com:/home/igor/dev/mysql-4.1-0

  sql/table.cc
    1.124 05/02/10 22:17:11 igor@rurik.mysql.com +0 -0
    Auto merged

  mysql-test/t/select.test
    1.32 05/02/10 22:17:11 igor@rurik.mysql.com +0 -0
    Auto merged

  mysql-test/r/select.result
    1.46 05/02/10 22:17:11 igor@rurik.mysql.com +0 -0
    Auto merged

  extra/replace.c
    1.15.1.1 05/02/10 22:17:11 igor@rurik.mysql.com +0 -0
    Auto merged

  BitKeeper/etc/logging_ok
    1.364.1.1 05/02/10 22:17:01 igor@rurik.mysql.com +0 -1
    auto-union

ChangeSet
  1.1346.797.1 05/02/10 22:15:38 igor@rurik.mysql.com +3 -0
  select.result, select.test:
    Added a test case for bug #7520.
  table.cc:
    Fixed bug #7520.
    The bug was caused by a wrong calculation of the field max_key_length for
    a TABLE structure when there was an index on a blob field.

  mysql-test/r/select.result
    1.8.1.27 05/02/10 22:15:11 igor@rurik.mysql.com +13 -0
    Added a test case for bug #7520.

  mysql-test/t/select.test
    1.12.1.14 05/02/10 22:14:41 igor@rurik.mysql.com +15 -0
    Added a test case for bug #7520.

  sql/table.cc
    1.46.1.31 05/02/10 22:12:33 igor@rurik.mysql.com +1 -0
    Fixed bug #7520.
    The bug was caused by a wrong calculation of the field max_key_length for
    a TABLE structure when there was an index on a blob field.

ChangeSet
  1.1346.796.2 05/02/10 20:31:23 jimw@mysql.com +1 -0
  Fix extra blank line in emails sent by post-commit trigger.

  BitKeeper/triggers/post-commit
    1.19.1.13 05/02/10 20:31:01 jimw@mysql.com +0 -1
    Remove extra blank link

ChangeSet
  1.2172 05/02/10 19:04:38 brian@zim.(none) +2 -0
  Set of fixes requested by Kent in IRC. Tested (except the windows changes since I am trusting Kent...). No windows compiles here folks...

  sql/item.cc
    1.190 05/02/10 19:04:36 brian@zim.(none) +1 -1
    fix requested by kent

  VC++Files/tests/mysql_client_test.dsp
    1.2 05/02/10 19:04:36 brian@zim.(none) +6 -6
    fix request by Kent

ChangeSet
  1.2171 05/02/10 14:32:01 jimw@mysql.com +3 -0
  Merge commit trigger

  BitKeeper/triggers/post-commit
    1.29 05/02/10 14:31:58 jimw@mysql.com +1 -1
    Merge changes

  extra/replace.c
    1.16 05/02/10 14:29:18 jimw@mysql.com +0 -0
    Auto merged

  BitKeeper/etc/logging_ok
    1.365 05/02/10 14:29:16 jimw@mysql.com +0 -1
    auto-union

ChangeSet
  1.2154.42.1 05/02/10 21:23:48 lars@mysql.com +1 -0
  BUG#6749: If there is no current database, then nothing should be binlogged if
  binlog-do-db or binlog-ignore-db are in effect.   (In the future 5.1? 5.0? I think 
  each statement should be verified against the filtering criteria based on the database
  it *uses* and not the *current* one.  But, right now the *current* database is what 
  counts according to the semantics of the manual.)

  sql/log.cc
    1.160 05/02/10 21:22:54 lars@mysql.com +1 -1
    BUG#6749: If there is no current database, then nothing should be binlogged if
    binlog-do-db or binlog-ignore-db are in effect.   (In the future I think that each 
    statement should be verified against the filtering criteria based on the database
    it *uses* and not the *current* one.  But, right now the *current* database is what 
    counts according to the semantics of the manual.)

ChangeSet
  1.2154.41.1 05/02/10 16:56:57 ingo@mysql.com +1 -0
  Bug#8391 - "merge" fails on Linux/IA64
  It was a thread stack overrun.
  IA64 had its own stack size section already.
  Enlarged its default stack size from 192K to 256K.

  include/my_pthread.h
    1.77 05/02/10 16:56:23 ingo@mysql.com +1 -1
    Bug#8391 - "merge" fails on Linux/IA64
    It was a thread stack overrun.
    IA64 had its own stack size section already.
    Enlarged its default stack size from 192K to 256K.

ChangeSet
  1.2169 05/02/10 18:24:26 konstantin@mysql.com +2 -0
  Follow-up for bug#7990

  tests/mysql_client_test.c
    1.149 05/02/10 18:24:15 konstantin@mysql.com +1 -0
    Enable the test for bug#7990

  libmysql/libmysql.c
    1.289 05/02/10 18:24:15 konstantin@mysql.com +5 -5
    And now put it to the proper place and make it work (Bug#7990)

ChangeSet
  1.2168 05/02/10 17:41:54 konstantin@mysql.com +2 -0
  A fix and test case for Bug#7990 "mysql_stmt_close doesn't 
  reset mysql->net.last_error": the solution is to clear
  MYSQL->net error before performing COM_CLOSE: if the call
  succeeds, the connection is usable for other statements.
  More comprehensive fix is to clear MYSQL->net for all
  recoverable errors at the time they happen, it will be
  implemented in 5.0 as it introduces incompatibility in behavior.

  tests/mysql_client_test.c
    1.148 05/02/10 17:41:42 konstantin@mysql.com +21 -1
    A test case for Bug#7990 " mysql_stmt_close doesn't reset 
    mysql->net.last_error"

  libmysql/libmysql.c
    1.288 05/02/10 17:41:42 konstantin@mysql.com +17 -0
    A simple fix for Bug#7990 "mysql_stmt_close doesn't reset 
    mysql->net.last_error"

ChangeSet
  1.1346.773.2 05/02/10 14:33:27 joerg@mysql.com +1 -0
  Change 'Build-tools/Do-compile' from 'system("rm -f ...");' to 'unlink()' to ensure 
  it also works on file names with special characters.

  Build-tools/Do-compile
    1.74.1.14 05/02/10 14:33:25 joerg@mysql.com +4 -2
    Ever and again, some test creates a file name with special characters that need to be
    escaped when passed to the shell; as this is not done, 'system("rm -f ...");' fails
    on them, the old test tree is not deleted, and the build fails.
    Prevent this by changing to Perl 'unlink()' which does not need escaping.

ChangeSet
  1.2167 05/02/10 14:56:20 konstantin@mysql.com +2 -0
  A fix and test case for Bug#8330 "mysql_stmt_execute crashes" (libmysql).

  tests/mysql_client_test.c
    1.147 05/02/10 14:56:16 konstantin@mysql.com +54 -0
    A test case for Bug#8330 "mysql_stmt_execute craches" (libmysql)

  libmysql/libmysql.c
    1.287 05/02/10 14:56:16 konstantin@mysql.com +5 -0
    Fix for bug#8330 "mysql_stmt_execute crashes": we need to bail out
    from mysql_stmt_execute if mysql->net is occupied with a result set of
    another statement. Otherwise on the next attempt to use net we get
    a crash, as it's freed in case of error.

ChangeSet
  1.2165 05/02/09 21:14:06 bell@sanja.is.com.ua +1 -0
  Merge sanja.is.com.ua:/home/bell/mysql/bk/mysql-4.1
  into sanja.is.com.ua:/home/bell/mysql/bk/work-4.1

  sql/item_cmpfunc.cc
    1.183 05/02/09 21:14:01 bell@sanja.is.com.ua +0 -0
    Auto merged

ChangeSet
  1.2163.1.1 05/02/09 21:08:08 bell@sanja.is.com.ua +4 -0
  reverted patch for BUG#7351 (because of performance ussie)

  sql/item_subselect.cc
    1.128 05/02/09 21:08:04 bell@sanja.is.com.ua +4 -9
    reverted patch for BUG#7351 (because of performance ussie)

  sql/item_cmpfunc.cc
    1.181.1.1 05/02/09 21:08:04 bell@sanja.is.com.ua +2 -3
    reverted patch for BUG#7351 (because of performance ussie)

  mysql-test/t/subselect.test
    1.140 05/02/09 21:08:04 bell@sanja.is.com.ua +1 -29
    reverted patch for BUG#7351 (because of performance ussie)

  mysql-test/r/subselect.result
    1.161 05/02/09 21:08:04 bell@sanja.is.com.ua +5 -33
    reverted patch for BUG#7351 (because of performance ussie)

ChangeSet
  1.2164 05/02/09 19:22:35 monty@mysql.com +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/my/mysql-4.1

  sql/sql_select.cc
    1.402 05/02/09 19:22:35 monty@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.40.2 05/02/09 17:49:43 lenz@mysql.com +1 -0
  - make sure to include the embedded test results in the source distribution

  mysql-test/Makefile.am
    1.40 05/02/09 17:49:35 lenz@mysql.com +2 -2
    - make sure to include the embedded test results in the source distribution

ChangeSet
  1.2154.40.1 05/02/09 17:40:10 lenz@mysql.com +2 -0
  - added copyright header on top of the fill_help_tables.sql file (BUG#5772)
  - updated mysql-copyright-2 to properly convert this new header from GPL to commercial for the
    commercial distribution

  scripts/fill_help_tables.sh
    1.16 05/02/09 17:40:05 lenz@mysql.com +18 -0
    - added copyright header on top of the fill_help_tables.sql file (BUG#5772)

  Build-tools/mysql-copyright-2
    1.9 05/02/09 17:40:05 lenz@mysql.com +6 -0
    - added functionality to replace a copyright header in .sql files, too (needed for updating
      scripts/fill_help_tables.sql in the commercial source distribution)

ChangeSet
  1.2159.1.1 05/02/09 14:24:25 joreland@mysql.com +1 -0
  ndb -
  Fix bug in bug fix in FastScheduler
    remove possibility of endless loop
    resulting in APZJobBuffer overflow due to statistics reporting

  ndb/src/kernel/vm/FastScheduler.cpp
    1.4 05/02/09 14:24:23 joreland@mysql.com +22 -20
    Fix bug in bug fix in FastScheduler
      remove possibility of endless loop
      resulting in APZJobBuffer overflow due to statistics reporting

ChangeSet
  1.2161 05/02/08 23:44:51 sergefp@mysql.com +4 -0
  Fix for BUG#8371: wrong rec_per_key value for hash index on temporary table

  sql/sql_select.cc
    1.400.1.1 05/02/08 23:44:49 sergefp@mysql.com +1 -0
    Initialize rec_per_key for all keys in temporary table.

  sql/ha_heap.cc
    1.49 05/02/08 23:44:49 sergefp@mysql.com +7 -6
    Fix for BUG#8371: wrong rec_per_key value for hash index on temporary table:
    Don't assume that table->rec_per_key==NULL if table->tmp_table != NO_TMP_TABLE, 
    this is not true for tables created with "CREATE TEMPORARY TABLE" (while it holds
    for temporary tables created during query execution)

  mysql-test/t/heap_hash.test
    1.8 05/02/08 23:44:49 sergefp@mysql.com +6 -0
    Testcase for BUG#8371: wrong rec_per_key value for hash index on temporary table

  mysql-test/r/heap_hash.result
    1.12 05/02/08 23:44:49 sergefp@mysql.com +10 -0
    Testcase for BUG#8371: wrong rec_per_key value for hash index on temporary table

ChangeSet
  1.2160 05/02/08 19:49:40 jani@ua141d10.elisa.omakaista.fi +13 -0
  Applied a patch for Netware.

  sql/mysqld.cc
    1.548 05/02/08 19:49:29 jani@ua141d10.elisa.omakaista.fi +7 -1
    Applied a patch for Netware.

  scripts/make_binary_distribution.sh
    1.72 05/02/08 19:49:29 jani@ua141d10.elisa.omakaista.fi +6 -2
    Applied a patch for Netware.

  netware/mysql_test_run.c
    1.11 05/02/08 19:49:29 jani@ua141d10.elisa.omakaista.fi +3 -2
    Applied a patch for Netware.

  netware/BUILD/nwbootstrap
    1.9 05/02/08 19:49:28 jani@ua141d10.elisa.omakaista.fi +1 -7
    Applied a patch for Netware.

  mysys/my_rename.c
    1.6 05/02/08 19:49:28 jani@ua141d10.elisa.omakaista.fi +1 -1
    Applied a patch for Netware.

  myisam/myisamlog.c
    1.28 05/02/08 19:49:28 jani@ua141d10.elisa.omakaista.fi +2 -0
    Applied a patch for Netware.

  isam/pack_isam.c
    1.19 05/02/08 19:49:27 jani@ua141d10.elisa.omakaista.fi +4 -0
    Applied a patch for Netware.

  include/help_start.h
    1.2 05/02/08 19:49:26 jani@ua141d10.elisa.omakaista.fi +2 -0
    Applied a patch for Netware.

  include/help_end.h
    1.2 05/02/08 19:49:26 jani@ua141d10.elisa.omakaista.fi +1 -0
    Applied a patch for Netware.

  extra/resolve_stack_dump.c
    1.15 05/02/08 19:49:26 jani@ua141d10.elisa.omakaista.fi +5 -0
    Applied a patch for Netware.

  extra/perror.c
    1.36 05/02/08 19:49:26 jani@ua141d10.elisa.omakaista.fi +5 -0
    Applied a patch for Netware.

  extra/my_print_defaults.c
    1.17 05/02/08 19:49:26 jani@ua141d10.elisa.omakaista.fi +5 -0
    Applied a patch for Netware.

  client/mysqltest.c
    1.157 05/02/08 19:49:25 jani@ua141d10.elisa.omakaista.fi +5 -0
    Applied a patch for Netware.

ChangeSet
  1.2154.37.2 05/02/08 14:41:09 monty@mysql.com +12 -0
  Better bugfix for "HAVING when refering to RAND()" (Bug #8216)
  Ensure that references in HAVING, ORDER BY or GROUP BY are calculated after fields in SELECT.
  This will ensure that any reference to these has a valid value.
  Generalized the code for split_sum_func()

  sql/sql_select.cc
    1.401 05/02/08 14:41:06 monty@mysql.com +13 -1
    Better bugfix for "HAVING when refering to RAND()"
    Ensure that references in HAVING, ORDER BY or GROUP BY are calculated after fields in SELECT.
    This will ensure that any reference to these has a valid value.

  sql/sql_list.h
    1.28 05/02/08 14:41:05 monty@mysql.com +9 -0
    Add functions to concatenate lists

  sql/item_strfunc.cc
    1.213 05/02/08 14:41:05 monty@mysql.com +1 -14
    Better bugfix for "HAVING when refering to RAND()"
    Use generalized split_sum_func2() function

  sql/item_row.cc
    1.28 05/02/08 14:41:05 monty@mysql.com +2 -17
    Better bugfix for "HAVING when refering to RAND()"
    Use generalized split_sum_func2() function

  sql/item_func.cc
    1.234 05/02/08 14:41:05 monty@mysql.com +3 -17
    Better bugfix for "HAVING when refering to RAND()"
    Use generalized split_sum_func2() function

  sql/item_cmpfunc.cc
    1.182 05/02/08 14:41:05 monty@mysql.com +6 -46
    Better bugfix for "HAVING when refering to RAND()"
    Use generalized split_sum_func2() function

  sql/item.h
    1.166 05/02/08 14:41:05 monty@mysql.com +3 -0
    Better bugfix for "HAVING when refering to RAND()"
    T

  sql/item.cc
    1.189 05/02/08 14:41:05 monty@mysql.com +52 -0
    Better bugfix for "HAVING when refering to RAND()"
    This will ensure that when refering to things like RAND() in HAVING through an alias we will not recalculate that rand() value in the HAVING part but use the value in the row
    Generalize split_sum_func()

  mysql-test/t/group_by.test
    1.31 05/02/08 14:41:05 monty@mysql.com +2 -1
    More complicated test to assure that rand() is only calulated once

  mysql-test/r/user_var.result
    1.23 05/02/08 14:41:05 monty@mysql.com +2 -2
    Back to old results :(  (ok but not perfect)

  mysql-test/r/group_by.result
    1.42 05/02/08 14:41:05 monty@mysql.com +2 -2
    More complicated test to assure that rand() is only calulated once

  BitKeeper/etc/ignore
    1.223 05/02/08 14:38:29 monty@mysql.com +1 -0
    added support-files/ndb-config-2-node.ini

ChangeSet
  1.2154.38.1 05/02/08 09:36:36 jan@hundin.mysql.fi +1 -0
  Relaxed locking in INSERT...SELECT, single table UPDATE...SELECT and 
  single table DELETE...SELECT clauses when innobase_locks_unsafe_for_binlog
  is used and isolation level of the transaction is not serializable. 
  InnoDB uses consistent read in these cases for a selected table.
  Backported from 5.0.x.

  sql/ha_innodb.cc
    1.181 05/02/08 09:36:10 jan@hundin.mysql.fi +21 -2
    Relaxed locking in INSERT...SELECT, single table UPDATE...SELECT and 
    single table DELETE...SELECT clauses when innobase_locks_unsafe_for_binlog
    is used and isolation level of the transaction is not serializable. 
    InnoDB uses consistent read in these cases for a selected table.
    

ChangeSet
  1.2154.37.1 05/02/08 06:11:05 tomas@poseidon.ndb.mysql.com +1 -0
  ndbcluster now runs clean in 4.1, 5.0 may still need some work

  mysql-test/mysql-test-run.pl
    1.7 05/02/08 06:11:02 tomas@poseidon.ndb.mysql.com +112 -40
    ndbcluster now runs clean in 4.1, 5.0 may still need some work

ChangeSet
  1.2154.1.25 05/02/07 15:17:30 jimw@mysql.com +1 -0
  Add the zlib .libs directory to LD_LIBRARY_PATH in mysql-test-run.sh,
  which fixes running the tests when using the bundled zlib.

  mysql-test/mysql-test-run.sh
    1.241 05/02/07 15:14:38 jimw@mysql.com +2 -2
    Add zlib .libs dir to LD_LIBRARY_PATH

ChangeSet
  1.2154.36.2 05/02/07 17:59:46 tomas@poseidon.ndb.mysql.com +1 -0
  mysql-test-run.sh:
    fixed start-and-exit flag

  mysql-test/mysql-test-run.sh
    1.240 05/02/07 17:58:57 tomas@poseidon.ndb.mysql.com +6 -5
    fixed start-and-exit flag

ChangeSet
  1.2154.36.1 05/02/07 17:46:52 tomas@poseidon.ndb.mysql.com +2 -0
  have test suite continue even if ndbcluster fails to start if --force flag is set

  mysql-test/mysql-test-run.sh
    1.239 05/02/07 17:46:49 tomas@poseidon.ndb.mysql.com +11 -1
    have test suite continue even if ndbcluster fails to start if --force flag is set

  mysql-test/include/have_ndb.inc
    1.5 05/02/07 17:46:49 tomas@poseidon.ndb.mysql.com +1 -0
    have test suite continue even if ndbcluster fails to start if --force flag is set

ChangeSet
  1.2154.1.23 05/02/07 18:14:31 monty@mysql.com +2 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/my/mysql-4.1

  sql/item_func.cc
    1.233 05/02/07 18:14:29 monty@mysql.com +0 -0
    Auto merged

  sql/item_cmpfunc.cc
    1.181 05/02/07 18:14:29 monty@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.15.7 05/02/07 18:13:57 monty@mysql.com +8 -0
  Fixed bug in HAVING when refering to RAND() through alias
  (BUG 8216)

  sql/unireg.h
    1.34 05/02/07 18:13:54 monty@mysql.com +2 -0
    Added PSEUDO_TABLES_BITS for easy testing of real table reference

  sql/item_strfunc.cc
    1.212 05/02/07 18:13:54 monty@mysql.com +5 -2
    Fixed bug in HAVING when refering to RAND()

  sql/item_row.cc
    1.27 05/02/07 18:13:54 monty@mysql.com +8 -3
    Fixed bug in HAVING when refering to RAND()

  sql/item_func.cc
    1.230.2.1 05/02/07 18:13:54 monty@mysql.com +6 -2
    Fixed bug in HAVING when refering to RAND()

  sql/item_cmpfunc.cc
    1.179.1.1 05/02/07 18:13:54 monty@mysql.com +44 -2
    Fixed bug in HAVING when refering to RAND()

  mysql-test/t/group_by.test
    1.30 05/02/07 18:13:54 monty@mysql.com +21 -7
    Added test for HAVING bug

  mysql-test/r/user_var.result
    1.22 05/02/07 18:13:54 monty@mysql.com +2 -2
    Test changed (to be more correct) with bug fix

  mysql-test/r/group_by.result
    1.41 05/02/07 18:13:54 monty@mysql.com +36 -9
    New test case

ChangeSet
  1.2154.35.1 05/02/07 16:25:07 tomas@poseidon.ndb.mysql.com +1 -0
  mysql.spec.sh:
    removed typo
    moved pre to post for directory creation
    add changelog comments

  support-files/mysql.spec.sh
    1.86 05/02/07 16:23:58 tomas@poseidon.ndb.mysql.com +7 -8
    removed typo
    moved pre to post for directory creation
    add changelog comments

ChangeSet
  1.2154.1.21 05/02/07 13:25:03 kent@mysql.com +1 -0
  compile-solaris-sparc-purify:
    Set CCLD as well

  BUILD/compile-solaris-sparc-purify
    1.13 05/02/07 10:46:47 kent@mysql.com +4 -4
    Set CCLD as well

ChangeSet
  1.2154.34.2 05/02/07 09:58:37 tomas@poseidon.ndb.mysql.com +1 -0
  ha_ndbcluster.cc:
    corrected typo in previous changeset

  sql/ha_ndbcluster.cc
    1.128 05/02/07 09:57:22 tomas@poseidon.ndb.mysql.com +2 -2
    corrected typo in previous changeset

ChangeSet
  1.2154.13.27 05/02/07 02:18:12 mwagner@here.mwagner.org +1 -0
  Do-solaris-pkg:
    Minor tweaks to work properly

  Build-tools/Do-solaris-pkg
    1.3 05/02/07 02:17:19 mwagner@here.mwagner.org +4 -2
    Minor tweaks to work properly

ChangeSet
  1.2154.34.1 05/02/07 08:51:27 tomas@poseidon.ndb.mysql.com +1 -0
  Corrected fragmentation calculation to take into account that LQH creates "2 fragments per fragment" in 4.1 and 5.0
  +added some comments to ndb fragmentation calulation

  sql/ha_ndbcluster.cc
    1.127 05/02/07 08:51:20 tomas@poseidon.ndb.mysql.com +10 -5
    Corrected fragmentation calculation to take into account that LQH creates "2 fragments per fragment" in 4.1 and 5.0
    +added some comments to ndb fragmentation calulation

ChangeSet
  1.2154.33.2 05/02/07 01:27:58 mwagner@here.mwagner.org +1 -0
  Do-solaris-pkg:
    Deposit the new .pkg.gz into the ~/$hostname/ directory

  Build-tools/Do-solaris-pkg
    1.2 05/02/07 01:27:05 mwagner@here.mwagner.org +4 -3
    Deposit the new .pkg.gz into the ~/$hostname/ directory

ChangeSet
  1.2154.33.1 05/02/07 00:12:46 mwagner@here.mwagner.org +1 -0
  Do-solaris-pkg:
    Perl script to create Solaris installation packages.

  Build-tools/Do-solaris-pkg
    1.1 05/02/07 00:06:22 mwagner@here.mwagner.org +180 -0

  Build-tools/Do-solaris-pkg
    1.0 05/02/07 00:06:22 mwagner@here.mwagner.org +0 -0
    BitKeeper file /Users/mwagner/work/bk/mysql-4.1/Build-tools/Do-solaris-pkg

ChangeSet
  1.2154.32.1 05/02/06 13:06:12 bell@sanja.is.com.ua +4 -0
  fixed test 'subselect' in case when innodb is not compiled in (thanks HF who niticed it)

  mysql-test/t/subselect_innodb.test
    1.12 05/02/06 13:06:08 bell@sanja.is.com.ua +14 -0
    test depends on innodb moved from 'subselect' to 'subselect_innodb'

  mysql-test/t/subselect.test
    1.139 05/02/06 13:06:08 bell@sanja.is.com.ua +0 -14
    test depends on innodb moved from 'subselect' to 'subselect_innodb'

  mysql-test/r/subselect_innodb.result
    1.10 05/02/06 13:06:08 bell@sanja.is.com.ua +12 -0
    test depends on innodb moved from 'subselect' to 'subselect_innodb'

  mysql-test/r/subselect.result
    1.160 05/02/06 13:06:08 bell@sanja.is.com.ua +0 -12
    test depends on innodb moved from 'subselect' to 'subselect_innodb'

ChangeSet
  1.2154.1.18 05/02/06 10:00:29 joreland@mysql.com +4 -0
  bug8262 - ndb 
    crash if scan is poped from queue before all attrinfo has arrived

  ndb/test/run-test/daily-basic-tests.txt
    1.15 05/02/06 10:00:26 joreland@mysql.com +4 -0
    run new test case in autotest

  ndb/test/ndbapi/testScan.cpp
    1.13 05/02/06 10:00:26 joreland@mysql.com +27 -3
    new test bug8262 many threads - scanning small tables

  ndb/src/kernel/blocks/dbtc/DbtcMain.cpp
    1.48 05/02/06 10:00:26 joreland@mysql.com +4 -0
    new error insert - force send attrinfo

  ndb/src/kernel/blocks/dblqh/DblqhMain.cpp
    1.49 05/02/06 10:00:26 joreland@mysql.com +14 -5
    only restart scan if all attrinfo has arrived
    otherwise just set remove from queue and set state

ChangeSet
  1.2154.1.17 05/02/05 07:16:07 joreland@mysql.com +1 -0
  Merge joreland@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/jonas/src/mysql-4.1

  configure.in
    1.350 05/02/05 07:16:06 joreland@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.13.22 05/02/05 01:21:16 konstantin@mysql.com +5 -0
  A fix for Bug#6273 "building fails on link": we should not use
  CLIENT_LIBS in mysql_config as CLIENT_LIBS point to builddir when
  we use the bundled zlib.

  zlib/Makefile.am
    1.3 05/02/05 01:21:11 konstantin@mysql.com +1 -1
    Install libz.la in case it's used by MySQL: this way we guarantee
    that paths printed by mysql_config are valid in all cases.

  scripts/mysql_config.sh
    1.17 05/02/05 01:21:11 konstantin@mysql.com +4 -3
    We can't use CLIENT_LIBS as in case when we use the bundled zlib
    it has a reference to $(top_builddir)/zlib.
    libs and libs_r now need to be specified explicitly.

  scripts/Makefile.am
    1.40 05/02/05 01:21:11 konstantin@mysql.com +3 -0
    Add STATIC_NSS_FLAGS, NON_THREADED_LIBS and ZLIB_DEPS to sed 
    substitution list.

  configure.in
    1.345.1.4 05/02/05 01:21:11 konstantin@mysql.com +10 -6
    Remove NON_THREADED_CLIENT_LIBS which weren't really 
    NON_THREADED_CLIENT_LIBS and use NON_THREADED_LIBS instead.
    AC_SUBST NON_THREADED_LIBS and STATIC_NSS_FLAGS as they're now
    needed inside mysql_config.sh

  acinclude.m4
    1.128 05/02/05 01:21:10 konstantin@mysql.com +13 -3
    Extend MYSQL_CHECK_ZLIB_WITH_COMPRESS m4 macro to substitute ZLIB_DEPS -
    this is a special version of ZLIB_LIBS to use in mysql_config

ChangeSet
  1.2154.31.2 05/02/04 23:07:10 guilhem@mysql.com +1 -0
  Backport of ChangeSet 1.1845 05/02/04 13:53:16 guilhem@mysql.com +1 -0 from 5.0.
  Proposal to fix this problem: when using libmysqlclient, you must call mysql_server_end() to nicely free memory at the end
  of your program; it however sounds weird to call a function named *SERVER_end* when you're the CLIENT (you're not ending the server, you're ending
  your ability to talk to servers). So here I add two defines which should be more generic names. Our manual
  mentions these functions only for libmysqld API so needs some fixing, and then we can close BUG#8099 and BUG#6149.

  include/mysql.h
    1.140 05/02/04 23:07:00 guilhem@mysql.com +11 -0
    Creating synonyms (defines): mysql_library_init for mysql_server_init, mysql_library_end for mysql_server_end;
    these new names are more generic, so suitable when using libmysqlclient as well as libmysqld.

ChangeSet
  1.2154.31.1 05/02/04 22:43:54 guilhem@mysql.com +3 -0
  Fix for BUG#8055 "Trouble with replication from temporary tables and ignores":
  when we close the session's temp tables at session end, we automatically write to binlog *one* DROP TEMPORARY TABLE *per tmp table*.

  sql/sql_base.cc
    1.243 05/02/04 22:43:41 guilhem@mysql.com +31 -35
    When we close the session's temp tables at session end, we automatically write to binlog one DROP TEMPORARY TABLE per tmp table, 
    not one single multi-table DROP TEMPORARY TABLE (because it causes problems if slave has --replicate*table rules).

  mysql-test/t/drop_temp_table.test
    1.4 05/02/04 22:43:41 guilhem@mysql.com +3 -0
    checking that we have one DROP TEMPORARY TABLE per tmp table now, not one multi-table DROP.
    Hiding columns Log_pos/End_log_pos per Monty's request.

  mysql-test/r/drop_temp_table.result
    1.9 05/02/04 22:43:41 guilhem@mysql.com +11 -5
    result update (note: one DROP TEMPORARY TABLE per tmp table)

ChangeSet
  1.2154.13.20 05/02/04 10:39:13 jimw@mysql.com +1 -0
  Merge mysql.com:/home/jimw/my/mysql-4.1-6067
  into mysql.com:/home/jimw/my/mysql-4.1-clean

  sql/field.cc
    1.208 05/02/04 10:39:13 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.29.3 05/02/04 17:33:53 acurtis@pcgem.rdg.cyberkinetica.com +1 -0
  Merge Bug#7310 from 4.0

  mysql-test/t/multi_update.test
    1.46 05/02/04 17:33:34 acurtis@pcgem.rdg.cyberkinetica.com +0 -2
    Merge Bug#7310 from 4.0

ChangeSet
  1.2154.30.1 05/02/04 19:12:15 hf@deer.(none) +1 -0
  Embedded version of test fixed

  mysql-test/r/insert_select.result.es
    1.3 05/02/04 19:11:45 hf@deer.(none) +12 -0
    Test.es fixed

ChangeSet
  1.2154.29.1 05/02/04 15:31:39 serg@serg.mylan +1 -0
  Merge serg@bk-internal.mysql.com:/home/bk/mysql-4.1/
  into serg.mylan:/usr/home/serg/Abk/mysql-4.1

  sql/item_func.cc
    1.232 05/02/04 15:31:24 serg@serg.mylan +0 -0
    Auto merged

ChangeSet
  1.2154.28.1 05/02/04 15:24:06 serg@serg.mylan +7 -0
  indexless boolean fulltext search was depending on default_charset_info - Bug#8159
  ftbw->off wasn't cleared on reinit - Bug#8234

  sql/item_func.cc
    1.230.1.1 05/02/04 15:23:58 serg@serg.mylan +3 -5
    get rid of default_charset_info in indexless fulltext searches

  sql/handler.h
    1.133 05/02/04 15:23:58 serg@serg.mylan +1 -2
    get rid of default_charset_info in indexless fulltext searches

  sql/ha_myisam.h
    1.63 05/02/04 15:23:58 serg@serg.mylan +6 -2
    get rid of default_charset_info in indexless fulltext searches

  myisam/ftdefs.h
    1.29 05/02/04 15:23:58 serg@serg.mylan +1 -1
    get rid of default_charset_info in indexless fulltext searches

  myisam/ft_static.c
    1.27 05/02/04 15:23:58 serg@serg.mylan +3 -2
    get rid of default_charset_info in indexless fulltext searches

  myisam/ft_boolean_search.c
    1.86 05/02/04 15:23:58 serg@serg.mylan +4 -3
    get rid of default_charset_info in indexless fulltext searches
    clear ftbw->off on reinits

  include/ft_global.h
    1.29 05/02/04 15:23:58 serg@serg.mylan +1 -1
    get rid of default_charset_info in indexless fulltext searches

ChangeSet
  1.2154.26.1 05/02/04 14:25:08 tomas@poseidon.ndb.mysql.com +6 -0
      added test to trigger drifferent fragmentations in ndb
      corrected documentation on fragmentation
      set "fragmentation medium" to mean 2 fragments per node instead of 1
      set default fragmentation to small instead of medium
      bug#8284 adjust fragmentation to max_rows

  sql/ha_ndbcluster.cc
    1.126 05/02/04 14:25:05 tomas@poseidon.ndb.mysql.com +44 -1
    bug#8284 adjust fragmentation to max_rows

  ndb/src/ndbapi/NdbDictionaryImpl.cpp
    1.46 05/02/04 14:25:05 tomas@poseidon.ndb.mysql.com +1 -1
    set default fragmentation to small instead of medium

  ndb/src/kernel/blocks/dbdih/DbdihMain.cpp
    1.20 05/02/04 14:25:05 tomas@poseidon.ndb.mysql.com +1 -1
    set "fragmentation medium" to mean 2 fragments per node instead of 1

  ndb/include/ndbapi/NdbDictionary.hpp
    1.18 05/02/04 14:25:04 tomas@poseidon.ndb.mysql.com +3 -3
    corrected documentation on fragmentation

  mysql-test/t/ndb_basic.test
    1.22 05/02/04 14:25:04 tomas@poseidon.ndb.mysql.com +38 -0
    added test to trigger drifferent fragmentations in ndb

  mysql-test/r/ndb_basic.result
    1.22 05/02/04 14:25:04 tomas@poseidon.ndb.mysql.com +34 -0
    added test to trigger drifferent fragmentations in ndb

ChangeSet
  1.2154.24.1 05/02/04 15:31:36 gluh@gluh.mysql.r18.ru +9 -0
  A fix: bug#6931: Date Type column problem when using UNION-Table
         bug#7833:  Wrong datatype of aggregate column is returned

  sql/sql_union.cc
    1.138 05/02/04 15:27:34 gluh@gluh.mysql.r18.ru +12 -2
    A fix: bug#6931: Date Type column problem when using UNION-Table
           bug#7833:  Wrong datatype of aggregate column is returned
    

  sql/item.h
    1.165 05/02/04 15:27:34 gluh@gluh.mysql.r18.ru +2 -2
    A fix: bug#6931: Date Type column problem when using UNION-Table
           bug#7833:  Wrong datatype of aggregate column is returned
    

  sql/item.cc
    1.188 05/02/04 15:27:33 gluh@gluh.mysql.r18.ru +53 -12
    A fix: bug#6931: Date Type column problem when using UNION-Table
           bug#7833:  Wrong datatype of aggregate column is returned
    

  sql/field.h
    1.123 05/02/04 15:27:33 gluh@gluh.mysql.r18.ru +1 -0
    A fix: bug#6931: Date Type column problem when using UNION-Table
           bug#7833:  Wrong datatype of aggregate column is returned
    

  sql/field.cc
    1.206.1.1 05/02/04 15:27:33 gluh@gluh.mysql.r18.ru +35 -0
    A fix: bug#6931: Date Type column problem when using UNION-Table
           bug#7833:  Wrong datatype of aggregate column is returned
    

  mysql-test/t/union.test
    1.79 05/02/04 15:27:33 gluh@gluh.mysql.r18.ru +35 -0
    Test case for bug 6931: Date Type column problem when using UNION-Table.
    

  mysql-test/t/func_group.test
    1.29 05/02/04 15:27:33 gluh@gluh.mysql.r18.ru +14 -0
    Test case for bug 7833:  Wrong datatype of aggregate column is returned

  mysql-test/r/union.result
    1.85 05/02/04 15:27:33 gluh@gluh.mysql.r18.ru +36 -0
    Test case for bug 6931: Date Type column problem when using UNION-Table.
    

  mysql-test/r/func_group.result
    1.36 05/02/04 15:27:32 gluh@gluh.mysql.r18.ru +12 -0
    Test case for bug 7833:  Wrong datatype of aggregate column is returned

ChangeSet
  1.2154.13.15 05/02/04 15:53:14 ramil@mysql.com +1 -0
  Merge rkalimullin@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/usr/home/ram/work/4.1

  BitKeeper/etc/logging_ok
    1.364 05/02/04 15:53:07 ramil@mysql.com +0 -0
    auto-union

ChangeSet
  1.2154.23.1 05/02/04 15:35:08 ramil@mysql.com +2 -0
  type_float.result.es updated.

  BitKeeper/etc/logging_ok
    1.362.1.1 05/02/04 15:35:07 ramil@mysql.com +1 -0
    Logging to logging@openlogging.org accepted

  mysql-test/r/type_float.result.es
    1.5 05/02/04 15:34:53 ramil@mysql.com +9 -0
    Updated.

ChangeSet
  1.1346.795.1 05/02/04 13:59:13 ramil@mysql.com +1 -0
  Merge rkalimullin@bk-internal.mysql.com:/home/bk/mysql-4.0
  into mysql.com:/usr/home/ram/work/4.0

  BitKeeper/etc/logging_ok
    1.206.1.121 05/02/04 13:59:11 ramil@mysql.com +1 -0
    Logging to logging@openlogging.org accepted

ChangeSet
  1.2145.6.2 05/02/04 09:14:22 sergefp@mysql.com +4 -0
  Fix for BUG#7716: in in_string::set() take into account that the value returned 
  by item->val_str() may be a substring of the passed string. 
  Disallow string=its_substring assignment in String::operator=().

  sql/sql_string.h
    1.53 05/02/04 09:14:20 sergefp@mysql.com +10 -0
    * Added assert: String& String::operator=(const String&) may not be used to do 
      assignments like str = string_that_uses_buffer_owned_by_str
    * Added String::uses_buffer_owned_by(). 

  sql/item_cmpfunc.cc
    1.180 05/02/04 09:14:20 sergefp@mysql.com +4 -0
    Fix for BUG#7716: in in_string::set() take into account that the string returned 
    by item->val_str(S) may be not S but use the buffer owned by S.

  mysql-test/t/func_misc.test
    1.11 05/02/04 09:14:20 sergefp@mysql.com +15 -0
    Testcase for BUG#7716

  mysql-test/r/func_misc.result
    1.16 05/02/04 09:14:20 sergefp@mysql.com +21 -0
    Testcase for BUG#7716

ChangeSet
  1.2154.1.16 05/02/04 06:09:43 joreland@mysql.com +2 -0
  Merge joreland@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/jonas/src/mysql-4.1

  ndb/test/src/NDBT_Test.cpp
    1.19 05/02/04 06:09:42 joreland@mysql.com +0 -0
    Auto merged

  configure.in
    1.349 05/02/04 06:09:42 joreland@mysql.com +0 -9
    Auto merged

ChangeSet
  1.2154.22.1 05/02/03 23:56:13 pekka@mysql.com +1 -0
  ndb - sol9x86: cc -xO3: fix optimizer error.

  ndb/src/common/util/NdbSqlUtil.cpp
    1.16 05/02/03 23:55:03 pekka@mysql.com +28 -0
    sol9x86: cc -xO3: fix optimizer error.
    Note: same expression remains in Field_newdate::val_int().

ChangeSet
  1.2154.21.1 05/02/03 14:21:16 jimw@mysql.com +1 -0
  Copy *.result.es files for binary distribution so embedded tests can be run

  scripts/make_binary_distribution.sh
    1.71 05/02/03 14:20:44 jimw@mysql.com +1 -1
    Make sure to copy result.es files

ChangeSet
  1.2154.20.1 05/02/03 21:16:36 acurtis@pcgem.rdg.cyberkinetica.com +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into pcgem.rdg.cyberkinetica.com:/var/db/bk/work-acurtis/bug8057

  sql/item_func.cc
    1.231 05/02/03 21:16:31 acurtis@pcgem.rdg.cyberkinetica.com +0 -0
    Auto merged

ChangeSet
  1.2148.5.2 05/02/03 21:11:12 acurtis@pcgem.rdg.cyberkinetica.com +3 -0
  Bug#8057
    Fix crash with LAST_INSERT_ID() in UPDATE,
    Tests included,

  sql/item_func.cc
    1.229.1.1 05/02/03 21:11:00 acurtis@pcgem.rdg.cyberkinetica.com +2 -6
    Bug#8057
      Don't create new Item in val_int()

  mysql-test/t/update.test
    1.17 05/02/03 21:11:00 acurtis@pcgem.rdg.cyberkinetica.com +9 -0
    Bug#8057
      Test for bug

  mysql-test/r/update.result
    1.20 05/02/03 21:11:00 acurtis@pcgem.rdg.cyberkinetica.com +7 -0
    Bug#8057
      Test for bug

ChangeSet
  1.2154.19.2 05/02/03 21:50:56 kent@mysql.com +1 -0
  mtr_cases.pl:
    new file

  mysql-test/lib/mtr_cases.pl
    1.1 05/02/03 21:50:08 kent@mysql.com +270 -0

  mysql-test/lib/mtr_cases.pl
    1.0 05/02/03 21:50:08 kent@mysql.com +0 -0
    BitKeeper file /Users/kent/mysql/bk/mysql-4.1-perl/mysql-test/lib/mtr_cases.pl

ChangeSet
  1.2154.13.11 05/02/03 21:09:32 mikael@orca.ndb.mysql.com +1 -0
  Merge mronstrom@bk-internal.mysql.com:/home/bk/mysql-4.1
  into orca.ndb.mysql.com:/export/home/mikael/mysql-4.1

ChangeSet
  1.2154.19.1 05/02/03 21:13:27 kent@mysql.com +4 -0
  mysql-test-run.pl:
    Let --start-and-exit actually start a server
    Added that test case names can be specified on the comman line
    Added embedded server support
    Added environment variables UMASK, UMASK_DIR
    Added missing MASTER_MYSOCK1, MASTER_MYPORT1, USE_RUNNING_SERVER
    Added missing CHARSETSDIR, MYSQL_FIX_SYSTEM_TABLES, MYSQL_CLIENT_TEST
    Pass on return value from sleep_until_file_created(), to fail test
    Fail test if early termination of mysqld servers
    Create intial databases for the second master, and two additional slaves
  mtr_process.pl:
    Find out if port is still in use, using simple TCP connect
    Use non blocking waitpid() to catch terminations early
    Make a special case spawning the 'mysqltest' application
    Redo the fork() if it returns EAGAIN
    Make sure to record if master or slave terminated
    Improved debugging output
    Improved code that remove PID files to avoid race
    Abort if we can't stop all mysqld servers using our ports
    Many improvements in killing mysqld servers
    Let sleep_until_file_created() catch if server died early
  mtr_report.pl:
    Added option to disable test cases using <testcase>.disabled file
    If --timer, only try to open file with time data if it exists
  mtr_io.pl:
    Remove starting/ending space reading server options from file

  BitKeeper/etc/logging_ok
    1.363 05/02/03 21:09:30 mikael@orca.ndb.mysql.com +1 -0
    Logging to logging@openlogging.org accepted

  mysql-test/mysql-test-run.pl
    1.6 05/02/03 20:47:11 kent@mysql.com +178 -279
    Let --start-and-exit actually start a server
    Added that test case names can be specified on the comman line
    Added embedded server support
    Added environment variables UMASK, UMASK_DIR
    Added missing MASTER_MYSOCK1, MASTER_MYPORT1, USE_RUNNING_SERVER
    Added missing CHARSETSDIR, MYSQL_FIX_SYSTEM_TABLES, MYSQL_CLIENT_TEST
    Pass on return value from sleep_until_file_created(), to fail test
    Fail test if early termination of mysqld servers
    Create intial databases for the second master, and two additional slaves

  mysql-test/lib/mtr_process.pl
    1.5 05/02/03 20:36:17 kent@mysql.com +466 -208
    Find out if port is still in use, using simple TCP connect
    Use non blocking waitpid() to catch terminations early
    Make a special case spawning the 'mysqltest' application
    Redo the fork() if it returns EAGAIN
    Make sure to record if master or slave terminated
    Improved debugging output
    Improved code that remove PID files to avoid race
    Abort if we can't stop all mysqld servers using our ports
    Many improvements in killing mysqld servers
    Let sleep_until_file_created() catch if server died early

ChangeSet
  1.1346.1.706 05/02/03 18:26:59 acurtis@pcgem.rdg.cyberkinetica.com +1 -0
  Bug#7310
    Fix test for classic builds

  mysql-test/t/multi_update.test
    1.17.1.21 05/02/03 18:26:52 acurtis@pcgem.rdg.cyberkinetica.com +2 -0
    Bug#7310
      Ignore warnings for Bug#5837 test

  mysql-test/lib/mtr_report.pl
    1.3 05/02/03 19:04:29 kent@mysql.com +21 -4
    Added option to disable test cases using <testcase>.disabled file
    If --timer, only try to open file with time data if it exists

  mysql-test/lib/mtr_io.pl
    1.3 05/02/03 19:00:09 kent@mysql.com +3 -0
    Remove starting/ending space reading server options from file

ChangeSet
  1.2154.13.9 05/02/03 17:58:02 tulin@mysql.com +2 -0
  made an .sh file of ndb-config-2-node.ini instead

  support-files/Makefile.am
    1.25 05/02/03 17:57:59 tulin@mysql.com +6 -3
    made an .sh file of ndb-config-2-node.ini instead

  support-files/ndb-config-2-node.ini.sh
    1.2 05/02/03 17:55:07 tulin@mysql.com +0 -0
    Rename: support-files/ndb-config-2-node.ini -> support-files/ndb-config-2-node.ini.sh

ChangeSet
  1.2154.13.8 05/02/03 17:53:03 tulin@mysql.com +2 -0
  ndbcluster rpms

  support-files/ndb-config-2-node.ini
    1.1 05/02/03 17:53:01 tulin@mysql.com +43 -0

  support-files/ndb-config-2-node.ini
    1.0 05/02/03 17:53:01 tulin@mysql.com +0 -0
    BitKeeper file /home/mysqldev/tulin/mysql-4.1/support-files/ndb-config-2-node.ini

  support-files/mysql.spec.sh
    1.85 05/02/03 17:53:01 tulin@mysql.com +94 -0
    ndbcluster rpms

ChangeSet
  1.2154.1.15 05/02/03 17:10:46 joreland@mysql.com +1 -0
  ndb - use hugo methods all the way in hugo
    more test program fixes
    replace pNdb->closeTransaction with closeTransaction(pNdb)

  ndb/test/src/HugoTransactions.cpp
    1.14 05/02/03 17:10:44 joreland@mysql.com +94 -94
    more test program fixes
      replace pNdb->closeTransaction with closeTransaction(pNdb)

ChangeSet
  1.2154.1.14 05/02/03 15:15:43 joreland@mysql.com +1 -0
  Merge joreland@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/jonas/src/mysql-4.1

  configure.in
    1.348 05/02/03 15:15:41 joreland@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.18.5 05/02/02 15:03:34 jimw@mysql.com +1 -0
  Fix 'mysqlcheck --help' to not specify what storage engines are
  supported, rather than give incorrect information. (Bug #8029)

  client/mysqlcheck.c
    1.45 05/02/02 15:01:38 jimw@mysql.com +1 -1
    Make usage message more general as to what storage engines are supported.

ChangeSet
  1.2154.13.7 05/02/02 21:36:40 lenz@mysql.com +1 -0
  Merge mysql.com:/data0/mysqldev/my/mysql-4.1
  into mysql.com:/data0/mysqldev/my/mysql-4.1-build

  configure.in
    1.345.1.3 05/02/02 21:36:39 lenz@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.15.6 05/02/02 22:35:36 monty@mysql.com +1 -0
  Use -DUNIV_DEBUG (extra debugging for InnoDB) when configuring with --debug=full

  configure.in
    1.345.2.1 05/02/02 22:35:33 monty@mysql.com +2 -2
    Use -DUNIV_DEBUG (extra debugging for InnoDB) when configuring with --debug=full

ChangeSet
  1.2154.1.13 05/02/02 21:03:46 joreland@mysql.com +5 -0
  ndb -
    add abort to multi op test case

  ndb/test/src/HugoTransactions.cpp
    1.13 05/02/02 21:03:44 joreland@mysql.com +61 -61
    Add aborts to test case

  ndb/test/src/HugoOperations.cpp
    1.12 05/02/02 21:03:44 joreland@mysql.com +7 -0
    Add aborts to test case

  ndb/test/ndbapi/testOperations.cpp
    1.8 05/02/02 21:03:44 joreland@mysql.com +163 -77
    Add aborts to test case

  ndb/test/include/HugoOperations.hpp
    1.5 05/02/02 21:03:44 joreland@mysql.com +2 -0
    Add aborts to test case

  ndb/include/ndbapi/NdbConnection.hpp
    1.22 05/02/02 21:03:43 joreland@mysql.com +1 -1
    Add aborts to test case

ChangeSet
  1.2154.1.12 05/02/02 20:27:53 joreland@mysql.com +1 -0
  Merge joreland@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/jonas/src/mysql-4.1

  configure.in
    1.347 05/02/02 20:27:52 joreland@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.17.2 05/02/02 20:28:01 monty@mysql.com +3 -0
  Fixed during review of new pulled code

  sql/sql_update.cc
    1.141 05/02/02 20:27:58 monty@mysql.com +3 -0
    Ensure that used_index is always set (It has to be set because it's value is tested if order != 0)

  sql/sql_table.cc
    1.274 05/02/02 20:27:58 monty@mysql.com +7 -2
    Revert back part of the old code as the new code didn't use mysql_data_home, which would have caused problems in the embedded server

  extra/perror.c
    1.35 05/02/02 20:27:58 monty@mysql.com +8 -6
    Use strmov() instead of strcpy()
    Indentation fixes

ChangeSet
  1.2154.15.4 05/02/02 19:25:43 lenz@mysql.com +1 -0
  Merge mysql.com:/space/my/mysql-4.0 into mysql.com:/space/my/mysql-4.1

  Build-tools/Bootstrap
    1.23 05/02/02 19:25:41 lenz@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1346.1.705 05/02/02 19:23:24 lenz@mysql.com +1 -0
  - typo fix...

  Build-tools/Bootstrap
    1.8.1.22 05/02/02 19:23:22 lenz@mysql.com +1 -1
    - typo fix...

ChangeSet
  1.2154.13.4 05/02/02 18:30:33 tulin@mysql.com +1 -0
     fix linkerror on sol9x86

  configure.in
    1.345.1.2 05/02/02 18:30:30 tulin@mysql.com +9 -0
    fix linkerror on sol9x86

ChangeSet
  1.2154.18.4 05/02/02 09:05:52 jimw@mysql.com +2 -0
  Fix merge of func_str tests (accidently duplicated a test).

  mysql-test/r/func_str.result
    1.84 05/02/02 09:04:43 jimw@mysql.com +13 -13
    Update results

  mysql-test/t/func_str.test
    1.67 05/02/02 09:04:30 jimw@mysql.com +1 -6
    Remove duplicated test that crept in during merge

ChangeSet
  1.2154.18.3 05/02/02 08:21:11 jimw@mysql.com +6 -0
  Merge fixes for #8248, #5569.

  vio/viosocket.c
    1.27 05/02/02 08:21:09 jimw@mysql.com +0 -0
    Merge

  sql/sql_parse.cc
    1.421 05/02/02 08:21:09 jimw@mysql.com +2 -4
    Merge

  sql/item_strfunc.h
    1.90 05/02/02 08:21:09 jimw@mysql.com +0 -0
    Merge

  sql/item_strfunc.cc
    1.211 05/02/02 08:21:09 jimw@mysql.com +1 -1
    Set charset on output string

  mysql-test/t/func_str.test
    1.66 05/02/02 08:21:09 jimw@mysql.com +6 -0
    Merge test

  mysql-test/r/func_str.result
    1.83 05/02/02 08:21:09 jimw@mysql.com +0 -0
    Update results

ChangeSet
  1.2157 05/02/02 19:53:49 wax@kishkin.ru +5 -0
  WL#964
      renamed client_test to mysql_client_test
      fixed name for lstat in removef()
      added mysql-debug.exe for Windows
      added enviroment variable MYSQL_CLIENT_TEST
      added cleaning directory before tests
      New BitKeeper file ``VC++Files/tests/mysql_client_test.dsp''
      Delete: VC++Files/tests/client_test.dsp
  

  VC++Files/tests/mysql_client_test.dsp
    1.1 05/02/02 19:53:44 wax@mysql.com +94 -0

  mysql-test/mysql_test_run_new.c
    1.10 05/02/02 19:53:44 wax@mysql.com +25 -9
    added mysql-debug.exe for Windows
    added enviroment variable MYSQL_CLIENT_TEST
    added cleaning directory before tests

  mysql-test/my_manage.c
    1.7 05/02/02 19:53:44 wax@mysql.com +10 -2
    fixed name for lstat in removef()

  VC++Files/tests/mysql_client_test.dsp
    1.0 05/02/02 19:53:44 wax@mysql.com +0 -0
    BitKeeper file /home/wax/mysql/mysql-4.1test2/VC++Files/tests/mysql_client_test.dsp

  VC++Files/mysql.dsw
    1.20 05/02/02 19:53:44 wax@mysql.com +26 -13
    renamed client_test to mysql_client_test

  BitKeeper/deleted/.del-client_test.dsp~659d0237a4c12ea1
    1.2 05/02/02 17:41:54 wax@mysql.com +0 -0
    Delete: VC++Files/tests/client_test.dsp

ChangeSet
  1.2154.16.1 05/02/02 13:40:17 lenz@mysql.com +1 -0
  Small Do-compile improvements:
  
  - added Option "--comment" to be able to override the default compilation comment
  - improved the abort subroutine to not rely on an external "tail" command (the
    default /usr/bin/tail on Solaris does not understand the "-n" notation).
    Get rid of a "useless use of cat" case in the process.

  Build-tools/Do-compile
    1.103 05/02/02 13:40:13 lenz@mysql.com +18 -8
    - added Option "--comment" to be able to override the default compilation comment
    - improved the abort subroutine to not rely on an external "tail" command (the
      default /usr/bin/tail on Solaris does not understand the "-n" notation).
      Get rid of a "useless use of cat" case in the process.

ChangeSet
  1.2154.15.1 05/02/02 12:08:20 serg@serg.mylan +3 -0
  configure.in
      don't define UNIV_DEBUG in CFLAGS/CXXFLAGS anymore
  sql/mysqld.cc
      hide from the user options that do nothing
  sql/sql_update.cc
      better fix for uninitialized used_index

  sql/sql_update.cc
    1.140 05/02/02 12:08:14 serg@serg.mylan +7 -6
    better fix for uninitialized used_index

  sql/mysqld.cc
    1.547 05/02/02 12:08:14 serg@serg.mylan +2 -0
    hide from the user options that do nothing

  configure.in
    1.345.1.1 05/02/02 12:08:14 serg@serg.mylan +2 -2
    don't define UNIV_DEBUG in CFLAGS/CXXFLAGS anymore

ChangeSet
  1.2154.9.2 05/02/02 10:50:33 tulin@mysql.com +4 -0
     backported configure flag from 5.0
      workaround for HPUX signal.h error, missing extern "C" 
      moved my_thread_end to NdbThreadExit
     more checks for shared memory transporter signum setup

  ndb/src/mgmsrv/ConfigInfo.cpp
    1.53 05/02/02 10:50:31 tulin@mysql.com +14 -0
    more checks for shared memory transporter signum setup

  ndb/src/common/portlib/NdbThread.c
    1.20 05/02/02 10:50:31 tulin@mysql.com +1 -1
    moved my_thread_end to NdbThreadExit

  include/my_global.h
    1.79 05/02/02 10:50:31 tulin@mysql.com +6 -0
    workaround for HPUX signal.h error, missing extern "C" 

  acinclude.m4
    1.127 05/02/02 10:50:31 tulin@mysql.com +6 -1
    backported configure flag from 5.0

ChangeSet
  1.2154.12.1 05/02/01 23:34:31 igor@rurik.mysql.com +3 -0
  func_str.result, func_str.test:
    Added a test case for bug #7751.
  item_strfunc.cc:
    Fixed bug #7751.
    The function Item_func_conv::val_str did not update
    the unsigned_flag value.

  mysql-test/r/func_str.result
    1.82 05/02/01 23:32:53 igor@rurik.mysql.com +23 -0
    Added a test case for bug #7751.

  mysql-test/t/func_str.test
    1.65 05/02/01 23:32:23 igor@rurik.mysql.com +27 -0
    Added a test case for bug #7751.

  sql/item_strfunc.cc
    1.210 05/02/01 23:29:58 igor@rurik.mysql.com +1 -0
    Fixed bug #7751.
    The function Item_func_conv::val_str did not update
    the unsigned_flag value.

ChangeSet
  1.2154.11.1 05/02/02 08:38:24 timour@mysql.com +3 -0
  Fix for BUG#8023.
  Allow LIMIT clause after DUAL.

  sql/sql_yacc.yy
    1.377 05/02/02 08:38:20 timour@mysql.com +5 -4
    Allow the specification of a LIMIT clause after DUAL. This is needed for queries as:
    select a from t1 union all select 1 from dual limit 1;
    In this query LIMIT is applied to the whole UNION, so it makes sense, however, the
    current parser did not allow any clause after DUAL.

  mysql-test/t/limit.test
    1.8 05/02/02 08:38:20 timour@mysql.com +10 -0
    Added test for BUG#8023.

  mysql-test/r/limit.result
    1.8 05/02/02 08:38:20 timour@mysql.com +9 -0
    Added test result for BUG#8023.

ChangeSet
  1.2154.1.10 05/02/02 07:38:11 joreland@mysql.com +1 -0
  ndb - (backport from 4.1)
  Fix weird link error on sol9x86
    - use incremental linker

  configure.in
    1.346 05/02/02 07:38:07 joreland@mysql.com +9 -0
    Fix weird link error on sol9x86
     - use incremental linker

ChangeSet
  1.2154.1.8 05/02/02 03:58:43 pekka@mysql.com +1 -0
  ndb - backup fix, found on powermacg4

  ndb/src/kernel/blocks/backup/Backup.cpp
    1.13 05/02/02 03:55:36 pekka@mysql.com +1 -1
    index typo overwrote attribute array, found on powermacg4

ChangeSet
  1.1346.1.703 05/02/01 18:29:10 jimw@mysql.com +4 -0
  Fix QUOTE() to not reuse the input field for output, which resulted in
  incorrect results when the input was a constant across a multi-row SELECT
  statement. (Bug #8248)

  mysql-test/r/func_str.result
    1.16.2.16 05/02/01 18:28:33 jimw@mysql.com +7 -0
    Add test results

  mysql-test/t/func_str.test
    1.15.2.17 05/02/01 18:27:45 jimw@mysql.com +5 -0
    Add regression test

  sql/item_strfunc.cc
    1.36.1.47 05/02/01 18:27:09 jimw@mysql.com +5 -10
    Always allocate a new string for QUOTE(), in case the field is being reused
    for multiple rows.

  sql/item_strfunc.h
    1.15.1.11 05/02/01 18:22:32 jimw@mysql.com +1 -0
    Add tmp_value member

ChangeSet
  1.2154.1.7 05/02/02 01:47:46 heikki@hundin.mysql.fi +1 -0
  Merge hundin.mysql.fi:/home/heikki/mysql-4.0
  into hundin.mysql.fi:/home/heikki/mysql-4.1

  innobase/include/eval0eval.ic
    1.3 05/02/02 01:47:35 heikki@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1346.793.1 05/02/02 01:43:25 heikki@hundin.mysql.fi +1 -0
  eval0eval.ic:
    Remove wrong assertion that fails on 64 bits

  innobase/include/eval0eval.ic
    1.1.1.1 05/02/02 01:42:59 heikki@hundin.mysql.fi +0 -2
    Remove wrong assertion that fails on 64 bits

ChangeSet
  1.1346.1.702 05/02/01 15:38:27 jimw@mysql.com +1 -0
  Merge mysql.com:/home/jimw/my/mysql-4.0-5569
  into mysql.com:/home/jimw/my/mysql-4.0-clean

  sql/sql_parse.cc
    1.218.1.171 05/02/01 15:38:26 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.10.2 05/02/01 15:08:31 jimw@mysql.com +3 -0
  Fix value of YEAR field when set from a non-numeric string. (Bug #6067)

  sql/field.cc
    1.207 05/02/01 15:06:54 jimw@mysql.com +10 -2
    Set YEAR to 0 when set to a non-numeric string, not 2000,
    and issue a warning.

  mysql-test/r/type_date.result
    1.12 05/02/01 15:04:04 jimw@mysql.com +8 -0
    Add result

  mysql-test/t/type_date.test
    1.10 05/02/01 15:03:29 jimw@mysql.com +7 -0
    Add new regression test

ChangeSet
  1.2154.1.6 05/02/02 00:41:25 heikki@hundin.mysql.fi +2 -0
  Merge hundin.mysql.fi:/home/heikki/mysql-4.0
  into hundin.mysql.fi:/home/heikki/mysql-4.1

  sql/sql_select.cc
    1.400 05/02/02 00:41:17 heikki@hundin.mysql.fi +0 -0
    SCCS merged

  innobase/include/rem0rec.ic
    1.8 05/02/02 00:40:42 heikki@hundin.mysql.fi +0 -14
    SCCS merged

ChangeSet
  1.1346.1.701 05/02/02 00:31:06 heikki@hundin.mysql.fi +1 -0
  rem0rec.ic:
    Fix a debug assertion in rem0rec.ic on AMD64; 4.1 was already fixed

  innobase/include/rem0rec.ic
    1.5.1.2 05/02/02 00:30:58 heikki@hundin.mysql.fi +14 -14
    Fix a debug assertion in rem0rec.ic on AMD64; 4.1 was already fixed

ChangeSet
  1.2154.1.5 05/02/02 00:22:19 heikki@hundin.mysql.fi +1 -0
  Merge heikki@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/heikki/mysql-4.1

  sql/sql_class.h
    1.276 05/02/02 00:22:11 heikki@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.2154.10.1 05/02/01 11:59:44 jimw@mysql.com +1 -0
  Make sure mysql_client_test and embedded test clients get added to
  binary distribution on all platforms.

  scripts/make_binary_distribution.sh
    1.70 05/02/01 11:53:07 jimw@mysql.com +8 -4
    Add mysql_client_test and embedded versions to basic list of binaries
    and only list libtool-produced '.libs/' versions as non-netware binaries

ChangeSet
  1.2154.9.1 05/02/01 19:01:37 tulin@mysql.com +24 -0
  cleanup and streamlining of thread create/exit in ndb

  ndb/test/tools/transproxy.cpp
    1.9 05/02/01 19:01:35 tulin@mysql.com +0 -2
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/src/NDBT_Test.cpp
    1.17.1.1 05/02/01 19:01:35 tulin@mysql.com +0 -1
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/mainAsyncGenerator.cpp
    1.6 05/02/01 19:01:35 tulin@mysql.com +0 -2
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flex_bench_mysql.cpp
    1.7 05/02/01 19:01:35 tulin@mysql.com +14 -15
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flexTimedAsynch.cpp
    1.4 05/02/01 19:01:35 tulin@mysql.com +1 -2
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flexTT.cpp
    1.10 05/02/01 19:01:35 tulin@mysql.com +1 -2
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flexScan.cpp
    1.9 05/02/01 19:01:35 tulin@mysql.com +1 -2
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flexHammer.cpp
    1.9 05/02/01 19:01:35 tulin@mysql.com +1 -4
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flexBench.cpp
    1.9 05/02/01 19:01:35 tulin@mysql.com +2 -3
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/flexAsynch.cpp
    1.10 05/02/01 19:01:35 tulin@mysql.com +1 -2
    cleanup and streamlining of thread create/exit in ndb

  ndb/test/ndbapi/benchronja.cpp
    1.6 05/02/01 19:01:35 tulin@mysql.com +1 -3
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/ndbapi/ndb_cluster_connection.cpp
    1.17 05/02/01 19:01:35 tulin@mysql.com +0 -3
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/ndbapi/TransporterFacade.cpp
    1.29 05/02/01 19:01:35 tulin@mysql.com +2 -8
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/ndbapi/ClusterMgr.cpp
    1.14 05/02/01 19:01:35 tulin@mysql.com +0 -4
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/mgmsrv/MgmtSrvr.cpp
    1.55 05/02/01 19:01:35 tulin@mysql.com +0 -10
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/mgmclient/CommandInterpreter.cpp
    1.45 05/02/01 19:01:35 tulin@mysql.com +1 -5
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/kernel/vm/WatchDog.cpp
    1.3 05/02/01 19:01:35 tulin@mysql.com +0 -3
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/kernel/blocks/ndbfs/MemoryChannelTest/MemoryChannelTest.cpp
    1.2 05/02/01 19:01:35 tulin@mysql.com +0 -4
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/kernel/blocks/ndbfs/AsyncFile.cpp
    1.14 05/02/01 19:01:34 tulin@mysql.com +0 -3
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/common/util/SocketServer.cpp
    1.11 05/02/01 19:01:34 tulin@mysql.com +0 -9
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/common/transporter/TransporterRegistry.cpp
    1.25 05/02/01 19:01:34 tulin@mysql.com +1 -4
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/common/portlib/NdbThread.c
    1.19 05/02/01 19:01:34 tulin@mysql.com +24 -16
    cleanup and streamlining of thread create/exit in ndb

  ndb/src/common/portlib/NdbPortLibTest.cpp
    1.5 05/02/01 19:01:34 tulin@mysql.com +4 -12
    cleanup and streamlining of thread create/exit in ndb

  ndb/include/portlib/NdbThread.h
    1.4 05/02/01 19:01:34 tulin@mysql.com +1 -1
    cleanup and streamlining of thread create/exit in ndb

ChangeSet
  1.2154.6.6 05/02/01 17:16:05 joreland@mysql.com +1 -0
  merge

  mysql-test/mysql-test-run.sh
    1.238 05/02/01 17:16:04 joreland@mysql.com +1 -1
    merge

ChangeSet
  1.2148.6.2 05/02/01 17:08:39 joreland@mysql.com +3 -0
  ndb - Put all output from ndb tools during mysql-test-run into log file

  mysql-test/t/ndb_restore.test
    1.3 05/02/01 17:08:37 joreland@mysql.com +3 -3
    Put all output from ndb_tool into log file

  mysql-test/t/ndb_autodiscover.test
    1.14 05/02/01 17:08:37 joreland@mysql.com +5 -5
    Put all output from ndb_tool into log file

  mysql-test/mysql-test-run.sh
    1.236.1.1 05/02/01 17:08:37 joreland@mysql.com +3 -0
    Put all output from ndb_tool into log file

ChangeSet
  1.2148.6.1 05/02/01 16:49:23 joreland@mysql.com +6 -0
  ndb -
  1) New testcase
     Check every combination of ins/upd/del of length 5
     Check reading savepoint's
  2) Fix 1 liner in acc wrt committing read

  ndb/test/src/NDBT_Test.cpp
    1.18 05/02/01 16:49:21 joreland@mysql.com +8 -4
    Make copy of testcase name

  ndb/test/src/HugoOperations.cpp
    1.11 05/02/01 16:49:21 joreland@mysql.com +4 -0
    Close transaction in destructor

  ndb/test/ndbapi/testOperations.cpp
    1.7 05/02/01 16:49:21 joreland@mysql.com +283 -0
    New testcase
      Check every combination of ins/upd/del of length 5
      Check reading savepoint's

  ndb/test/include/NDBT_Test.hpp
    1.9 05/02/01 16:49:21 joreland@mysql.com +3 -1
    Make copy of testcase name

  ndb/src/kernel/blocks/dbacc/DbaccMain.cpp
    1.24 05/02/01 16:49:21 joreland@mysql.com +2 -1
    Fix so that committing a READ can _not_ result in setting elementIsDisappeared

  ndb/include/ndbapi/NdbConnection.hpp
    1.21 05/02/01 16:49:21 joreland@mysql.com +2 -0
    Make testcase friend

ChangeSet
  1.1346.792.1 05/02/01 18:35:09 ram@gw.mysql.r18.ru +1 -0
  A fix (bug #7971: set_bit/clear_bit names conflict w/Linux kernel headers >= 2.6.9-rcxx)

  extra/replace.c
    1.11.1.5 05/02/01 18:35:07 ram@gw.mysql.r18.ru +13 -13
    A fix (bug #7971: set_bit/clear_bit names conflict w/Linux kernel headers >= 2.6.9-rcxx)
    set_bit replaced with internal_set_bit
    clear_bit replaced with internal_clear_bit

ChangeSet
  1.2154.8.1 05/02/01 16:27:08 monty@mysql.com +15 -0
  Proper fix for comparision with ' '
  (Bug #7788 "Table is full" occurs during a multitable update")

  strings/ctype-utf8.c
    1.80 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-ucs2.c
    1.35 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-tis620.c
    1.80 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-sjis.c
    1.74 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-simple.c
    1.60 05/02/01 16:27:03 monty@mysql.com +3 -3
    Proper fix for comparision with ' '

  strings/ctype-mb.c
    1.37 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-latin1.c
    1.39 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-gbk.c
    1.67 05/02/01 16:27:03 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-bin.c
    1.56 05/02/01 16:27:01 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  strings/ctype-big5.c
    1.69 05/02/01 16:27:01 monty@mysql.com +2 -2
    Proper fix for comparision with ' '

  mysys/my_handler.c
    1.18 05/02/01 16:27:00 monty@mysql.com +3 -3
    Proper fix for comparision with ' '

  mysql-test/t/compare.test
    1.8 05/02/01 16:27:00 monty@mysql.com +2 -0
    Added test to find bug in previous bugfix

  mysql-test/r/compare.result
    1.10 05/02/01 16:27:00 monty@mysql.com +3 -0
    Added test to find bug in previous bugfix

  innobase/include/univ.i
    1.38 05/02/01 16:27:00 monty@mysql.com +0 -4
    UNIV_DEBUG should not depend on configure --debug but on --debug=full 

  client/mysqldump.c
    1.174 05/02/01 16:27:00 monty@mysql.com +18 -18
    Style fixes

ChangeSet
  1.1346.791.1 05/02/01 15:36:48 monty@mysql.com +1 -0
  Remove #if 0 as this only confuses the code withing adding anything

  sql/sql_select.cc
    1.152.1.138 05/02/01 15:36:44 monty@mysql.com +0 -6
    Remove #if 0 as this only confuses the code withing adding anything

ChangeSet
  1.2154.6.4 05/02/01 17:20:32 ram@gw.mysql.r18.ru +1 -0
  merging

  scripts/mysql_install_db.sh
    1.71 05/02/01 17:20:29 ram@gw.mysql.r18.ru +0 -10
    merging

ChangeSet
  1.1346.1.699 05/02/01 17:13:44 ram@gw.mysql.r18.ru +1 -0
  after merge fix up:
  we should use REPLACE for $hostaname queries to avoid problems when $hostname=localhost.

  scripts/mysql_install_db.sh
    1.35.1.20 05/02/01 17:13:43 ram@gw.mysql.r18.ru +2 -12
    after merge fix up:
    we should use REPLACE for $hostaname queries to avoid problems when $hostname=localhost.

ChangeSet
  1.2154.6.3 05/02/01 13:19:21 lenz@mysql.com +1 -0
  Merge mysql.com:/space/my/mysql-4.0 into mysql.com:/space/my/mysql-4.1

  Build-tools/Bootstrap
    1.22 05/02/01 13:19:20 lenz@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.7.1 05/02/01 11:05:29 bell@sanja.is.com.ua +4 -0
  Merge sanja.is.com.ua:/home/bell/mysql/bk/mysql-4.1
  into sanja.is.com.ua:/home/bell/mysql/bk/work-4.1

  sql/sql_select.cc
    1.399 05/02/01 11:05:25 bell@sanja.is.com.ua +0 -0
    Auto merged

  sql/sql_lex.cc
    1.142 05/02/01 11:05:25 bell@sanja.is.com.ua +0 -0
    Auto merged

  sql/sql_base.cc
    1.242 05/02/01 11:05:25 bell@sanja.is.com.ua +0 -0
    Auto merged

  sql/item.cc
    1.187 05/02/01 11:05:24 bell@sanja.is.com.ua +0 -0
    Auto merged

ChangeSet
  1.2154.6.1 05/02/01 10:24:09 marko@hundin.mysql.fi +4 -0
  After merge fixes

  scripts/mysql_install_db.sh
    1.70 05/02/01 10:24:03 marko@hundin.mysql.fi +0 -10
    Ignore Ramil's changes for now

  configure.in
    1.345 05/02/01 10:24:03 marko@hundin.mysql.fi +0 -2
    Ignore changes that were backported to 4.0

  sql/ha_innodb.cc
    1.180 05/02/01 10:16:54 marko@hundin.mysql.fi +0 -0
    Auto merged

  innobase/mem/mem0pool.c
    1.20 05/02/01 10:16:54 marko@hundin.mysql.fi +0 -2
    Auto merged

ChangeSet
  1.2154.3.2 05/01/31 23:02:32 reggie@bob.(none) +1 -0
  Bug #7390  	perror.exe doesn't work
  
  perror.c:
    Copy output of strerr to temp buffer to prevent system overwrite on Windows

  extra/perror.c
    1.34 05/01/31 23:01:54 reggie@bob.(none) +12 -1
    Copy output of strerr to temp buffer to prevent system overwrite on Windows

ChangeSet
  1.2154.5.2 05/01/31 19:35:12 jimw@mysql.com +1 -0
  Add 'debug' to mysqladmin --help output. (Bug #8207)

  client/mysqladmin.cc
    1.104 05/01/31 19:34:42 jimw@mysql.com +1 -0
    Add documentation for 'debug' command

ChangeSet
  1.2154.4.3 05/01/31 15:30:34 jimw@mysql.com +2 -0
  Merge mysql.com:/home/jimw/my/mysql-4.1-6511
  into mysql.com:/home/jimw/my/mysql-4.1-clean

  sql/sql_cache.cc
    1.89 05/01/31 15:30:34 jimw@mysql.com +0 -0
    Auto merged

  sql/mysql_priv.h
    1.338 05/01/31 15:30:34 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.4.1 05/01/31 15:28:33 jimw@mysql.com +1 -0
  Merge mysql.com:/home/jimw/my/mysql-4.1-8148
  into mysql.com:/home/jimw/my/mysql-4.1-clean

  client/mysqldump.c
    1.173 05/01/31 15:28:32 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2154.3.1 05/01/31 17:24:18 reggie@bob.(none) +1 -0
  Bug #6607  	Create table... LIKE... with Windows Symlinks
  
  sql_table.cc:
    use fn_format to resolve symlinks in mysql_create_like_table

  sql/sql_table.cc
    1.273 05/01/31 17:22:48 reggie@bob.(none) +2 -4
    use fn_format to resolve symlinks in mysql_create_like_table

ChangeSet
  1.2154.1.4 05/01/31 22:30:40 heikki@hundin.mysql.fi +2 -0
  Merge heikki@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/heikki/mysql-4.1

  sql/set_var.cc
    1.159 05/01/31 22:30:31 heikki@hundin.mysql.fi +0 -0
    Auto merged

  sql/mysqld.cc
    1.546 05/01/31 22:30:31 heikki@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1346.790.1 05/01/31 22:28:55 heikki@hundin.mysql.fi +1 -0
  mem0pool.c:
    Fix an assertion failure in 64-bit computers if UNIV_MEM_DEBUG is defined

  innobase/mem/mem0pool.c
    1.9.1.8 05/01/31 22:28:43 heikki@hundin.mysql.fi +2 -2
    Fix an assertion failure in 64-bit computers if UNIV_MEM_DEBUG is defined

ChangeSet
  1.2154.1.3 05/01/31 12:17:34 brian@zim.(none) +2 -0
  Removed duplicate close call and added archive to the debug build and test. 

  sql/examples/ha_archive.cc
    1.19 05/01/31 12:17:32 brian@zim.(none) +0 -1
    Removed duplicate close call.

  BUILD/compile-ia64-debug-max
    1.3 05/01/31 12:17:32 brian@zim.(none) +1 -1
    Added archive for this build. 

ChangeSet
  1.2154.1.2 05/01/31 11:03:57 brian@zim.(none) +1 -0
  Merge baker@bk-internal.mysql.com:/home/bk/mysql-4.1
  into zim.(none):/home/brian/mysql/mysql-4.1

  BitKeeper/etc/logging_ok
    1.362 05/01/31 11:03:51 brian@zim.(none) +0 -0
    auto-union

ChangeSet
  1.2154.2.1 05/01/31 18:11:26 mronstrom@mysql.com +2 -0
  Fixed a bug in the ndbd scheduler with send of packed signals.
  Fixing this bugs improves performance by 40% for very small read
  statements and with 12-13 % for very simple updating transactions
  (flexBench -o 10000) in single threaded application. Removes a fixed
  cost of around 100.000 cycles every time the ndbd process wakes up to
  execute some queries.

  ndb/src/kernel/vm/ThreadConfig.cpp
    1.3 05/01/31 18:11:20 mronstrom@mysql.com +0 -3
    Integrate sendPacked into doJob
    The lack of integration meant that several loops in
    ipControlLoop were executed each time the ndbd process
    woke up, also for reads it meant that response was divided
    in two TCP/IP packets
    Is necessary to integrate this with overload protection

  ndb/src/kernel/vm/FastScheduler.cpp
    1.3 05/01/31 18:11:19 mronstrom@mysql.com +22 -11
    Integrate sendPacked into doJob
    The lack of integration meant that several loops in
    ipControlLoop were executed each time the ndbd process
    woke up, also for reads it meant that response was divided
    in two TCP/IP packets
    Is necessary to integrate this with overload protection

ChangeSet
  1.1346.1.697 05/01/31 17:33:01 lenz@mysql.com +1 -0
  - Bootstrap: Rename already existing build directories to something more
    useful than *.old.<PID> - use the mtime of configure.in instead. 
    This gives us a time stamp of when this last build directory was created,
    e.g. "mysql-4.0.24-build-2005-01-31-16:47"

  Build-tools/Bootstrap
    1.8.1.21 05/01/31 17:32:57 lenz@mysql.com +8 -2
    - Rename already existing build directories to something more useful than
      *.old.<PID> - use the mtime of configure.in instead. This gives us a time
      stamp of when this last build directory was created, e.g.
      "mysql-4.0.24-build-2005-01-31-16:47"

ChangeSet
  1.2137.19.1 05/01/31 19:18:06 wax@kishkin.ru +6 -0
  WL#964
      added client_test.dsp in project
      added CHARACTER SET in tables
      added 5th time zone
      included lstat in if()
      expanded ignore list for windows
      added directory slave1 and slave2
      added options for mysqld and mysqltest
      fixed error in read_option()
      fixed and added enviroment variables for Linux and Windows
      rewrote str_tok()
      added replacment 3th column
      New BitKeeper file ``VC++Files/tests/client_test.dsp''
  

  VC++Files/tests/client_test.dsp
    1.1 05/01/31 19:18:03 wax@mysql.com +94 -0

  mysql-test/t/ps_1general.test
    1.11 05/01/31 19:18:03 wax@mysql.com +1 -1
    added replacment 3th column

  mysql-test/mysql_test_run_new.c
    1.9 05/01/31 19:18:03 wax@mysql.com +206 -116
    expanded ignore list for windows
    added directory slave1 and slave2
    added options for mysqld and mysqltest
    fixed error in read_option()
    fixed and added enviroment variables for Linux and Windows
    rewrote str_tok()

  mysql-test/my_manage.c
    1.6 05/01/31 19:18:03 wax@mysql.com +2 -7
    included lstat in if()

  mysql-test/my_create_tables.c
    1.2 05/01/31 19:18:03 wax@mysql.com +46 -19
    added CHARACTER SET in tables
    added 5th time zone

  VC++Files/tests/client_test.dsp
    1.0 05/01/31 19:18:03 wax@mysql.com +0 -0
    BitKeeper file /home/wax/mysql/mysql-4.1test2/VC++Files/tests/client_test.dsp

  VC++Files/mysql.dsw
    1.19 05/01/31 19:18:03 wax@mysql.com +22 -19
    added client_test.dsp in project

ChangeSet
  1.2151.1.2 05/01/31 13:18:36 acurtis@pcgem.rdg.cyberkinetica.com +2 -0
  Bug#7011
    Fix tests after merge from 4.0

  mysql-test/t/rpl_multi_update2.test
    1.2 05/01/31 13:18:24 acurtis@pcgem.rdg.cyberkinetica.com +2 -2
    Bug#7011
      Fix tests after merge from 4.0

  mysql-test/r/rpl_multi_update2.result
    1.2 05/01/31 13:18:24 acurtis@pcgem.rdg.cyberkinetica.com +4 -4
    Bug#7011
      Fix tests after merge from 4.0

ChangeSet
  1.2151.1.1 05/01/31 12:48:00 acurtis@pcgem.rdg.cyberkinetica.com +4 -0
  Bug#7011
    Merge from 4.0

  sql/sql_update.cc
    1.139 05/01/31 12:47:49 acurtis@pcgem.rdg.cyberkinetica.com +8 -11
    Bug#7011
      Merge from 4.0

  sql/sql_parse.cc
    1.420 05/01/31 12:47:49 acurtis@pcgem.rdg.cyberkinetica.com +9 -8
    Bug#7011
      Merge from 4.0

  sql/mysql_priv.h
    1.336.1.3 05/01/31 12:47:49 acurtis@pcgem.rdg.cyberkinetica.com +4 -3
    Bug#7011
      Merge from 4.0

ChangeSet
  1.2154 05/01/31 11:47:10 tulin@mysql.com +2 -0
  BUG#8208 don't fsync unless something has been written
  + ion shutdown - don't close files that are not open
  + abort in debug - if closing a fd == -1

  BitKeeper/etc/logging_ok
    1.360.1.1 05/01/31 11:46:30 tulin@mysql.com +1 -0
    Logging to logging@openlogging.org accepted

  ndb/src/kernel/blocks/ndbfs/AsyncFile.cpp
    1.13 05/01/31 11:46:01 tulin@mysql.com +10 -4
    BUG#8208 don't fsync unless something has been written
    + ion shutdown - don't close files that are not open
    + abort in debug - if closing a fd == -1

ChangeSet
  1.2153 05/01/31 09:36:07 marko@hundin.mysql.fi +1 -0
  Merge marko@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/marko/k/mysql-4.1

  sql/set_var.cc
    1.158 05/01/31 09:35:59 marko@hundin.mysql.fi +0 -0
    Auto merged

  sql/sql_select.cc
    1.398 05/01/31 02:21:48 acurtis@pcgem.rdg.cyberkinetica.com +0 -0
    Auto merged

ChangeSet
  1.1346.789.1 05/01/30 10:24:03 acurtis@pcgem.rdg.cyberkinetica.com +6 -0
  Bug#7011
    Fix replication for multi-update
    new test - rpl_multi_update2

  mysql-test/t/rpl_multi_update2.test
    1.1 05/01/30 10:23:55 acurtis@pcgem.rdg.cyberkinetica.com +33 -0

  mysql-test/t/rpl_multi_update2-slave.opt
    1.1 05/01/30 10:23:55 acurtis@pcgem.rdg.cyberkinetica.com +1 -0

  mysql-test/t/rpl_multi_update2.test
    1.0 05/01/30 10:23:55 acurtis@pcgem.rdg.cyberkinetica.com +0 -0
    BitKeeper file /var/db/bk/work-acurtis/bug7011.2/mysql-test/t/rpl_multi_update2.test

  mysql-test/t/rpl_multi_update2-slave.opt
    1.0 05/01/30 10:23:55 acurtis@pcgem.rdg.cyberkinetica.com +0 -0
    BitKeeper file /var/db/bk/work-acurtis/bug7011.2/mysql-test/t/rpl_multi_update2-slave.opt

  mysql-test/r/rpl_multi_update2.result
    1.1 05/01/30 10:23:54 acurtis@pcgem.rdg.cyberkinetica.com +42 -0

  sql/sql_update.cc
    1.54.1.52 05/01/30 10:23:54 acurtis@pcgem.rdg.cyberkinetica.com +33 -18
    Bug#7011
      Split out multi-update locking into its own function,
        mysql_multi_update_lock()

  sql/sql_parse.cc
    1.218.43.1 05/01/30 10:23:54 acurtis@pcgem.rdg.cyberkinetica.com +80 -1
    Bug#7011
      New function check_multi_update_lock()
      For multi-update on slave, perform an early open&lock

  sql/mysql_priv.h
    1.150.1.80 05/01/30 10:23:54 acurtis@pcgem.rdg.cyberkinetica.com +3 -0
    Bug#7011
      New function mysql_multi_update_lock()

  mysql-test/r/rpl_multi_update2.result
    1.0 05/01/30 10:23:54 acurtis@pcgem.rdg.cyberkinetica.com +0 -0
    BitKeeper file /var/db/bk/work-acurtis/bug7011.2/mysql-test/r/rpl_multi_update2.result

ChangeSet
  1.2151 05/01/29 22:56:00 Sinisa@sinisa.nasamreza.org +1 -0
  Fix for a "table is full" bug in multi-table updates (Bug #7788)

  mysys/my_handler.c
    1.17 05/01/29 22:55:43 Sinisa@sinisa.nasamreza.org +1 -1
    Fix for a bug in multi table updates, when offset of one table is 
    5 bytes or more. This occured because in that case binary(5) indexed
    column is space packed, so it was hit by this bug in the function
    for binary comparison.
    Bug #7788

ChangeSet
  1.2145.2.2 05/01/29 09:25:56 reggie@bob.(none) +1 -0
  Bug #5185  	mysqldump for windows database gets table names with different case
  
  mysqldump.c:
    Trimmed some lines to be less than 80 chars.  Using just NAME_LEN now for table name buffers

  client/mysqldump.c
    1.172 05/01/29 09:24:42 reggie@bob.(none) +9 -6
    Trimmed some lines to be less than 80 chars.  Using just NAME_LEN now for table name buffers

ChangeSet
  1.2148.4.1 05/01/29 06:49:48 sergefp@mysql.com +3 -0
  Merging fix for BUG#7672 - the changes will not go into 4.1

  sql/sql_yacc.yy
    1.376 05/01/29 06:49:45 sergefp@mysql.com +0 -8
    Merging fix for BUG#7672 - the changes will not go into 4.1

  mysql-test/t/order_by.test
    1.32 05/01/29 06:49:45 sergefp@mysql.com +0 -12
    Merging fix for BUG#7672 - the changes will not go into 4.1

  mysql-test/r/order_by.result
    1.46 05/01/29 06:49:45 sergefp@mysql.com +0 -17
    Merging fix for BUG#7672 - the changes will not go into 4.1

ChangeSet
  1.2148.3.1 05/01/28 18:10:47 brian@zim.(none) +1 -0
  Merge baker@bk-internal.mysql.com:/home/bk/mysql-4.1
  into zim.(none):/home/brian/mysql/mysql-4.1

  sql/examples/ha_archive.cc
    1.18 05/01/28 18:10:46 brian@zim.(none) +0 -0
    Auto merged

ChangeSet
  1.2148.2.1 05/01/28 17:18:35 jimw@mysql.com +3 -0
  Fix error in string comparisons with CHAR(31) against the space-padding
  of strings of unequal length. (Bug #8134)

  mysql-test/r/compare.result
    1.9 05/01/28 17:17:32 jimw@mysql.com +3 -0
    Add new test result

  strings/ctype-simple.c
    1.59 05/01/28 17:11:40 jimw@mysql.com +1 -1
    Fix value used for swapping negative/positive values using XOR

  mysql-test/t/compare.test
    1.7 05/01/28 17:11:23 jimw@mysql.com +3 -0
    Add new regression test

ChangeSet
  1.2132.31.1 05/01/28 16:43:10 brian@zim.(none) +2 -0
  Cleanup for lost file descriptors on close table for ha_archive. 

  BitKeeper/etc/logging_ok
    1.361 05/01/28 16:43:10 brian@zim.(none) +1 -0
    Logging to logging@openlogging.org accepted

  sql/examples/ha_archive.cc
    1.16.1.1 05/01/28 16:43:03 brian@zim.(none) +16 -12
    More comments, fixed issue with lost file descriptors. 

ChangeSet
  1.2145.7.2 05/01/28 12:13:01 jimw@mysql.com +1 -0
  Fix test results for mysqldump test. Part of Bug #8148.

ChangeSet
  1.2148.1.3 05/01/28 21:49:21 heikki@hundin.mysql.fi +1 -0
  ut0ut.c:
    Use a 32-bit right-shift implementation through a 64-bit integer that should work ok for both gcc and Visual C++; the code depended on defining SIZEOF_LONG, and that is not set when compiling ibbackup

  innobase/ut/ut0ut.c
    1.27 05/01/28 21:48:58 heikki@hundin.mysql.fi +6 -6
    Use a 32-bit right-shift implementation through a 64-bit integer that should work ok for both gcc and Visual C++; the code depended on defining SIZEOF_LONG, and that is not set when compiling ibbackup

  mysql-test/r/mysqldump.result
    1.35 05/01/28 11:29:52 jimw@mysql.com +18 -18
    Update results

ChangeSet
  1.2145.7.1 05/01/28 11:16:49 jimw@mysql.com +1 -0
  Use single quotes to set SQL_MODE in mysqldump output in case ANSI_QUOTES
  was already defined on the server the dump is loaded into. (Bug #8148)

  client/mysqldump.c
    1.170.1.1 05/01/28 11:15:39 jimw@mysql.com +2 -2
    Use single quotes when setting SQL_MODE

ChangeSet
  1.2148.1.2 05/01/28 20:58:16 heikki@hundin.mysql.fi +1 -0
  os0file.c:
    Fix Windows porting bugs that broke ibbackup: 1) wrong error check in for CreateDirectory(), 2) wrong error check if the file did not exist in DeleteFile(), 3) too strict sharing restrictions in os_file_create_simple(): when ibbackup called that function, it would not allow mysqld to write to the file

  innobase/os/os0file.c
    1.96 05/01/28 20:57:52 heikki@hundin.mysql.fi +7 -6
    Fix Windows porting bugs that broke ibbackup: 1) wrong error check in for CreateDirectory(), 2) wrong error check if the file did not exist in DeleteFile(), 3) too strict sharing restrictions in os_file_create_simple(): when ibbackup called that function, it would not allow mysqld to write to the file

ChangeSet
  1.1346.787.1 05/01/28 15:26:17 ram@gw.mysql.r18.ru +1 -0
  A fix (bug #6000: No "@%"-accounts after install).

  scripts/mysql_install_db.sh
    1.35.2.2 05/01/28 15:26:15 ram@gw.mysql.r18.ru +10 -8
    A fix (bug #6000: No "@%"-accounts after install).
      Why do we need those REPLACE queries?
      Removed $hostname queries for windows builds.

ChangeSet
  1.2147 05/01/28 10:51:30 pekka@mysql.com +1 -0
  ndb - fix DATE printout

  ndb/src/ndbapi/NdbRecAttr.cpp
    1.12 05/01/28 10:50:54 pekka@mysql.com +17 -5
    fix DATE printout

ChangeSet
  1.1346.1.694 05/01/28 12:27:46 ram@gw.mysql.r18.ru +1 -0
  Merge rkalimullin@bk-internal.mysql.com:/home/bk/mysql-4.0
  into gw.mysql.r18.ru:/usr/home/ram/work/4.0.b6000

  scripts/mysql_install_db.sh
    1.35.1.19 05/01/28 12:27:44 ram@gw.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.2145.6.1 05/01/28 09:15:01 tomas@poseidon.ndb.mysql.com +1 -0
  NdbThread.c:
    wrong order in c-file

  ndb/src/common/portlib/NdbThread.c
    1.18 05/01/28 09:14:04 tomas@poseidon.ndb.mysql.com +2 -2
    wrong order in c-file

ChangeSet
  1.2145.3.4 05/01/28 09:32:43 dlenev@mysql.com +4 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/dlenev/src/mysql-4.1-tzbug

  sql/tztime.cc
    1.16 05/01/28 09:32:34 dlenev@mysql.com +0 -0
    Auto merged

  sql/sql_lex.cc
    1.139.1.3 05/01/28 09:32:34 dlenev@mysql.com +0 -0
    Auto merged

  sql/set_var.cc
    1.156.2.1 05/01/28 09:32:34 dlenev@mysql.com +0 -0
    Auto merged

  sql/item_timefunc.cc
    1.83 05/01/28 09:32:34 dlenev@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2145.3.3 05/01/28 02:06:27 tomas@poseidon.ndb.mysql.com +1 -0
  Do-compile:
    ndbcluster requires more ports, this is the reason why builds will not start on multiple builds

  Build-tools/Do-compile
    1.102 05/01/28 02:05:31 tomas@poseidon.ndb.mysql.com +1 -1
    ndbcluster requires more ports, this is the reason why builds will not start on multiple builds

ChangeSet
  1.2145.5.1 05/01/28 00:42:41 tomas@poseidon.ndb.mysql.com +23 -0
  Bug#8167  signal usage clash between mysql server and ndb shared memory
      added shared memory config parameter, signum for use in signalling
      added global variable for holdign signum to be used for shared memory connection
      only fiddle with signals if it is set
      simplified common ndb client option handling

  ndb/tools/waiter.cpp
    1.21 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +6 -19
    simplified common ndb client option handling

  ndb/tools/select_count.cpp
    1.13 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -20
    simplified common ndb client option handling

  ndb/tools/select_all.cpp
    1.16 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -20
    simplified common ndb client option handling

  ndb/tools/restore/restore_main.cpp
    1.26 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -17
    simplified common ndb client option handling

  ndb/tools/listTables.cpp
    1.17 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +5 -22
    simplified common ndb client option handling

  ndb/tools/drop_tab.cpp
    1.10 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -20
    simplified common ndb client option handling

  ndb/tools/drop_index.cpp
    1.9 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -20
    simplified common ndb client option handling

  ndb/tools/desc.cpp
    1.12 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +4 -21
    simplified common ndb client option handling

  ndb/tools/delete_all.cpp
    1.11 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -20
    simplified common ndb client option handling

  ndb/src/mgmsrv/main.cpp
    1.36 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +6 -26
    simplified common ndb client option handling

  ndb/src/mgmsrv/ConfigInfo.cpp
    1.52 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +32 -10
    added shared memory config parameter, signum for use in signalling

  ndb/src/mgmclient/main.cpp
    1.19 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +3 -20
    simplified common ndb client option handling

  ndb/src/kernel/vm/Configuration.cpp
    1.32 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +4 -19
    simplified common ndb client option handling

  ndb/src/cw/cpcd/main.cpp
    1.6 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +4 -1
    ndb_opts not really used

  ndb/src/common/transporter/TransporterRegistry.cpp
    1.24 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +46 -28
    use signum in new global variable for shared memory signalling
    only fiddle with signals if it is set

  ndb/src/common/transporter/SHM_Transporter.cpp
    1.13 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +6 -2
    use signum in new global variable for shared memory signalling

  ndb/src/common/portlib/NdbThread.c
    1.17 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +14 -5
    added global variable for holdign signum to be used for shared memory connection
    only block signals if shared memory is used

  ndb/src/common/mgmcommon/IPCConfig.cpp
    1.12 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +9 -2
    added shared memory config parameter, signum for use in signalling

  ndb/include/util/ndb_opts.h
    1.5 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +49 -10
    simplified common ndb client option handling

  ndb/include/transporter/TransporterDefinitions.hpp
    1.8 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +1 -0
    added shared memory config parameter, signum for use in signalling

  ndb/include/mgmapi/mgmapi_config_parameters.h
    1.14 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +1 -0
    added shared memory config parameter, signum for use in signalling

  ndb/include/Makefile.am
    1.11 05/01/28 00:42:34 tomas@poseidon.ndb.mysql.com +1 -0
    added common defaults file

ChangeSet
  1.2145.4.1 05/01/28 00:35:26 kent@mysql.com +2 -0
  compile-solaris-sparc-purify:
    Added preparation of mysql_client_test(_embedded) and mysqltest(_embedded)
    Added --purify, --purecov, --quantify and --cxxfilt <cxxfiltprog> options
  mysql-test-run.sh:
    Report correctly combinations of embedded+ps-protocol etc
    Added initial Purify support

ChangeSet
  1.2145.3.1 05/01/28 01:23:06 konstantin@mysql.com +1 -0
  Remove unused configure.in name TOOLS_LIBS.

  configure.in
    1.344 05/01/28 01:23:01 konstantin@mysql.com +0 -10
    Remove unused TOOLS_LIBS: LIBS and CLIENT_LIBS should
    be enough for the global configure.in

  BUILD/compile-solaris-sparc-purify
    1.12 05/01/27 23:04:09 kent@mysql.com +91 -10
    Added preparation of mysql_client_test(_embedded) and mysqltest(_embedded)
    Added --purify, --purecov, --quantify and --cxxfilt <cxxfiltprog> options

  mysql-test/mysql-test-run.sh
    1.237 05/01/27 23:01:20 kent@mysql.com +73 -8
    Report correctly combinations of embedded+ps-protocol etc
    Added initial Purify support

ChangeSet
  1.2145.2.1 05/01/27 14:48:26 reggie@bob.(none) +1 -0
  Bug #5185  	mysqldump for windows database gets table names with different case
  
  Added the get_actual_table_name function that issues a SHOW TABLES LIKE '%s'.  This will get the table 
  name in the proper case.  We use this table name rather than the one given on the command line.  This will
  prevent problems when importing SQL on Linux that was generated on a Windows platform where case can be
  an issue.
  
  mysqldump.c:
    call get_actual_table_name to get the table name in the proper case

  client/mysqldump.c
    1.171 05/01/27 14:46:27 reggie@bob.(none) +35 -2
    call get_actual_table_name to get the table name in the proper case

ChangeSet
  1.2145.1.2 05/01/27 22:00:36 heikki@hundin.mysql.fi +2 -0
  fil0fil.c:
    We accidentally checked if the DIRECTORY is of type OS_FILE_TYPE_UNKNOWN; our intention was to check if the FILE is that; best to remove the check altogether, as in crash recovery it is safest to try to open also files whose type is unknown
  os0file.c:
    Fix a bug: in Windows, os_file_readdir_next_file() returned OS_FILE_TYPE_UNKNOWN as the type of a regular file; this did not break mysqld, but did break ibbackup on Windows

  innobase/fil/fil0fil.c
    1.48 05/01/27 22:00:24 heikki@hundin.mysql.fi +2 -2
    We accidentally checked if the DIRECTORY is of type OS_FILE_TYPE_UNKNOWN; our intention was to check if the FILE is that; best to remove the check altogether, as in crash recovery it is safest to try to open also files whose type is unknown

  innobase/os/os0file.c
    1.95 05/01/27 21:55:34 heikki@hundin.mysql.fi +5 -5
    Fix a bug: in Windows, os_file_readdir_next_file() returned OS_FILE_TYPE_UNKNOWN as the type of a regular file; this did not break mysqld, but did break ibbackup on Windows

ChangeSet
  1.2145.1.1 05/01/27 21:33:15 heikki@hundin.mysql.fi +1 -0
  Merge heikki@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/heikki/mysql-4.1

  sql/mysqld.cc
    1.544.1.1 05/01/27 21:33:06 heikki@hundin.mysql.fi +0 -0
    Auto merged

  ndb/include/ndbapi/ndb_opt_defaults.h
    1.1 05/01/27 19:54:00 tomas@poseidon.ndb.mysql.com +27 -0

  ndb/include/ndbapi/ndb_opt_defaults.h
    1.0 05/01/27 19:54:00 tomas@poseidon.ndb.mysql.com +0 -0
    BitKeeper file /home/tomas/mysql-4.1/ndb/include/ndbapi/ndb_opt_defaults.h

ChangeSet
  1.2137.17.3 05/01/27 17:33:35 pekka@mysql.com +11 -0
  ndb - make YEAR and TIMESTAMP into ndb types

  sql/ha_ndbcluster.cc
    1.125 05/01/27 17:33:05 pekka@mysql.com +11 -8
    make YEAR and TIMESTAMP into ndb types

  ndb/test/include/NdbSchemaOp.hpp
    1.9 05/01/27 17:33:05 pekka@mysql.com +0 -4
    make YEAR and TIMESTAMP into ndb types

  ndb/src/ndbapi/NdbRecAttr.cpp
    1.11 05/01/27 17:33:05 pekka@mysql.com +77 -8
    make YEAR and TIMESTAMP into ndb types

  ndb/src/ndbapi/NdbDictionaryImpl.cpp
    1.45 05/01/27 17:33:05 pekka@mysql.com +4 -0
    make YEAR and TIMESTAMP into ndb types

  ndb/src/ndbapi/NdbDictionary.cpp
    1.21 05/01/27 17:33:04 pekka@mysql.com +6 -0
    make YEAR and TIMESTAMP into ndb types

  ndb/src/common/util/NdbSqlUtil.cpp
    1.15 05/01/27 17:33:04 pekka@mysql.com +36 -0
    make YEAR and TIMESTAMP into ndb types

  ndb/include/util/NdbSqlUtil.hpp
    1.13 05/01/27 17:33:04 pekka@mysql.com +5 -1
    make YEAR and TIMESTAMP into ndb types

  ndb/include/ndbapi/NdbDictionary.hpp
    1.17 05/01/27 17:33:04 pekka@mysql.com +3 -1
    make YEAR and TIMESTAMP into ndb types

  ndb/include/kernel/signaldata/DictTabInfo.hpp
    1.11 05/01/27 17:33:04 pekka@mysql.com +13 -1
    make YEAR and TIMESTAMP into ndb types

  mysql-test/t/ndb_index_ordered.test
    1.19 05/01/27 17:33:04 pekka@mysql.com +20 -10
    make YEAR and TIMESTAMP into ndb types

  mysql-test/r/ndb_index_ordered.result
    1.18 05/01/27 17:33:04 pekka@mysql.com +34 -10
    make YEAR and TIMESTAMP into ndb types

ChangeSet
  1.1346.783.6 05/01/27 17:12:21 marko@hundin.mysql.fi +1 -0
  configure.in:
    Add -DDBUG_ON to CXXFLAGS whenever it is added to CFLAGS.
    Thus, sql/ha_innodb.cc will be compiled with the same
    setting of UNIV_DEBUG as the rest of InnoDB,
    i.e., --with-debug enables InnoDB ut_ad() assertions
    everywhere.

  configure.in
    1.191.1.130 05/01/27 17:09:40 marko@hundin.mysql.fi +2 -2
    Add -DDBUG_ON to CXXFLAGS whenever it is added to CFLAGS.
    Thus, sql/ha_innodb.cc will be compiled with the same
    setting of UNIV_DEBUG as the rest of InnoDB,
    i.e., --with-debug enables InnoDB ut_ad() assertions
    everywhere.

ChangeSet
  1.1346.783.5 05/01/27 14:05:44 marko@hundin.mysql.fi +1 -0
  InnoDB: Tolerate negative return values from ftell().

  sql/ha_innodb.cc
    1.73.1.158 05/01/27 14:05:41 marko@hundin.mysql.fi +9 -9
    Tolerate negative return values from ftell().

ChangeSet
  1.2145 05/01/27 12:13:35 ingo@mysql.com +1 -0
  Re-enabled the use of --prefix.
  Adjusted the "Usage:" string.
  Ordered the option recognition in reverse order from "Usage:".

  BUILD/SETUP.sh
    1.32 05/01/27 12:13:28 ingo@mysql.com +6 -4
    Re-enabled the use of --prefix.
    Adjusted the "Usage:" string.
    Ordered the option recognition in reverse order from "Usage:".

ChangeSet
  1.2137.18.1 05/01/27 14:51:16 bar@mysql.com +1 -0
  item_timefunc.cc:
    CAST now always return a well-formed character string.

  sql/item_timefunc.cc
    1.82 05/01/27 14:50:30 bar@mysql.com +12 -5
    CAST now always return a well-formed character string.

ChangeSet
  1.2137.10.4 05/01/27 12:12:15 marko@hundin.mysql.fi +1 -0
  Merge marko@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/marko/k/mysql-4.1

  sql/mysqld.cc
    1.545 05/01/27 12:12:06 marko@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.2117.104.1 05/01/26 22:25:02 dlenev@brandersnatch.localdomain +8 -0
  Fix for bug #7899 "CREATE TABLE .. SELECT .. and CONVERT_TZ() function
  does not work well together". Now using simplier and more correct
  implementation of st_lex::unlink_first_table()/link_first_table_back() 
  (It also nicely handles case when global table list is created because
  of implictly used time zone tables). (2nd attempt)
  
  Fix for bug #7705 "CONVERT_TZ() crashes with subquery/WHERE on index
  column". Implemented new approach for caching objects for constant
  time zone arguments. Now instead of determining whenever these arguments
  are constants and performing time zone lookup at fix_fields() stage, we
  do it on first get_date() invocation.
  
  Cleanup of global @@time_zone variable handling.

  sql/tztime.cc
    1.14.1.1 05/01/26 22:24:59 dlenev@mysql.com +8 -2
    Backport of Monty's fixes from 5.0, which give us nicer error messages
    if we haven't found time zone with such name or its description.

  sql/sql_lex.cc
    1.138.2.1 05/01/26 22:24:59 dlenev@mysql.com +13 -22
    st_lex::unlink_first_table(), st_lex::link_first_table_back():
     Simplify implementation according to Monty's suggestion.
     Instead doing something special if global and local table lists
     are the same, we simply save/restore pointers to first elements
     of both global and local lists (which works even when this lists
     are the same!). This handles nicely the case when we have separate
     global table list becuase time zone tables are implicitly used.

  sql/set_var.h
    1.56 05/01/26 22:24:59 dlenev@mysql.com +0 -1
    Removed declaration of sys_var_thd_time_zone::get_tz_ptr() method, which
    no longer used.

  sql/set_var.cc
    1.154.2.1 05/01/26 22:24:59 dlenev@mysql.com +17 -11
    Cleaned up global @@time_zone variable handling. Now we use proper
    locking when we are setting or reading its value.

  sql/item_timefunc.h
    1.51 05/01/26 22:24:59 dlenev@mysql.com +6 -2
    Item_func_convert_tz():
      Added from_tz_cached/to_tz_cached members indicating whenever we
      already have Time_zone object representing one of constant time zone
      arguments.

  sql/item_timefunc.cc
    1.79.1.1 05/01/26 22:24:59 dlenev@mysql.com +19 -11
    Item_func_convert_tz():
      New approach for caching objects for constant time zone arguments.
      Now instead of determining whenever these arguments are constants
      and performing time zone lookup at fix_fields() stage, we do it
      on first get_date() invocation. This works better in cases when 
      const_item() for these arguments returns true only on get_date()
      stage but not on fix_fields() stage (e.g. this happens in quries
      with joins or derived tables).

  mysql-test/t/timezone2.test
    1.5 05/01/26 22:24:59 dlenev@mysql.com +17 -0
    Added test for bugs #7705 "CONVERT_TZ() crashes with subquery/WHERE on
    index column" and #7899 "CREATE TABLE .. SELECT .. and CONVERT_TZ()
    function does not work well together".

  mysql-test/r/timezone2.result
    1.6 05/01/26 22:24:59 dlenev@mysql.com +8 -0
    Added test for bugs #7705 "CONVERT_TZ() crashes with subquery/WHERE on
    index column" and #7899 "CREATE TABLE .. SELECT .. and CONVERT_TZ()
    function does not work well together".

ChangeSet
  1.2137.16.3 05/01/26 21:23:22 marko@hundin.mysql.fi +1 -0
  Merge marko@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/marko/k/mysql-4.1

  sql/mysqld.cc
    1.542.1.3 05/01/26 21:23:14 marko@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.2140 05/01/26 15:27:31 ingo@mysql.com +4 -0
  Test Bug: Memory leaks in the archive handler.
  Moved initialization code into a new init function.
  Added a new cleanup function.
  Added a call to close the meta file.
  

  sql/handler.cc
    1.159 05/01/26 15:27:28 ingo@mysql.com +14 -0
    Test Bug: Memory leaks in the archive handler.
    Added calls of the new init/cleanup functions.

  sql/examples/ha_archive.h
    1.10 05/01/26 15:27:28 ingo@mysql.com +4 -0
    Test Bug: Memory leaks in the archive handler.
    Added declarations for the new init/cleanup functions.
    

  sql/examples/ha_archive.cc
    1.17 05/01/26 15:27:28 ingo@mysql.com +41 -18
    Test Bug: Memory leaks in the archive handler.
    Moved initialization code into a new init function.
    Added a new cleanup function.
    Added a call to close the meta file.
    

  mysql-test/t/archive.test
    1.3 05/01/26 15:27:28 ingo@mysql.com +1 -1
    Test Bug: Memory leaks in the archive handler.
    Fixed a typo.

ChangeSet
  1.2137.16.2 05/01/26 16:07:53 monty@mysql.com +5 -0
  Only enable Innodb extra debugging when using the --debug=full configure option

  innobase/include/univ.i
    1.37 05/01/26 16:07:50 monty@mysql.com +4 -0
    Only enable Innodb extra debugging when using the --debug=full configure option

  innobase/fil/fil0fil.c
    1.47 05/01/26 16:07:50 monty@mysql.com +3 -3
    Fixed wrong printf() format

  configure.in
    1.343 05/01/26 16:07:50 monty@mysql.com +2 -2
    Only enable Innodb extra debugging when using the --debug=full configure option

  BUILD/compile-pentium64-debug
    1.2 05/01/26 16:07:50 monty@mysql.com +1 -1
    Always use full debugging

  BUILD/SETUP.sh
    1.31 05/01/26 16:07:50 monty@mysql.com +6 -2
    Abort if wrong options

ChangeSet
  1.2132.23.6 05/01/26 15:27:45 bell@sanja.is.com.ua +5 -0
  fixed cleanup of result object of subqueries. (BUG#8125)

  sql/sql_class.h
    1.274.1.1 05/01/26 15:27:41 bell@sanja.is.com.ua +1 -0
    added cleanup of select_max_min_finder_subselect

  sql/sql_class.cc
    1.201 05/01/26 15:27:41 bell@sanja.is.com.ua +8 -0
    added cleanup of select_max_min_finder_subselect

  sql/item_subselect.cc
    1.127 05/01/26 15:27:41 bell@sanja.is.com.ua +6 -0
    call result object cleupup on engine cleunup

  mysql-test/t/subselect.test
    1.138 05/01/26 15:27:41 bell@sanja.is.com.ua +14 -0
    cleaning up of results of subselects test

  mysql-test/r/subselect.result
    1.159 05/01/26 15:27:41 bell@sanja.is.com.ua +12 -0
    cleaning up of results of subselects test

ChangeSet
  1.2137.13.2 05/01/26 17:09:38 ram@gw.mysql.r18.ru +2 -0
  Merge rkalimullin@bk-internal.mysql.com:/home/bk/mysql-4.1
  into gw.mysql.r18.ru:/usr/home/ram/work/4.1

  sql/mysqld.cc
    1.544 05/01/26 17:09:36 ram@gw.mysql.r18.ru +0 -0
    Auto merged

  include/my_global.h
    1.78 05/01/26 17:09:36 ram@gw.mysql.r18.ru +0 -0
    Auto merged

  BUILD/SETUP.sh
    1.30 05/01/26 13:52:18 monty@mysql.com +0 -0
    Change mode to -rwxrwxr-x

ChangeSet
  1.2137.14.1 05/01/26 12:55:35 monty@mysql.com +1 -0
  Added -DDBUG_ON to CXXFLAGS when compiling with debugging
  This fixes a memory allocation bug in Innobase as structs was defined differently in .c and .cc files

  configure.in
    1.342 05/01/26 12:55:32 monty@mysql.com +2 -2
    Added -DDBUG_ON to CXXFLAGS when compiling with debugging
    This fixes a memory allocation bug in Innobase as structs was defined differently in .c and .cc files

ChangeSet
  1.2137.12.2 05/01/26 11:31:46 tomas@poseidon.ndb.mysql.com +4 -0
  Bug#8101  unique indexes which attribute are _not_ specified in the order of the table does not work

  sql/ha_ndbcluster.h
    1.47 05/01/26 11:31:38 tomas@poseidon.ndb.mysql.com +1 -0
    Bug#8101  unique indexes which attribute are _not_ specified in the order of the table does not work

  sql/ha_ndbcluster.cc
    1.124 05/01/26 11:31:38 tomas@poseidon.ndb.mysql.com +49 -5
    Bug#8101  unique indexes which attribute are _not_ specified in the order of the table does not work

  mysql-test/t/ndb_index_unique.test
    1.10 05/01/26 11:31:38 tomas@poseidon.ndb.mysql.com +21 -0
    Bug#8101  unique indexes which attribute are _not_ specified in the order of the table does not work

  mysql-test/r/ndb_index_unique.result
    1.12 05/01/26 11:31:38 tomas@poseidon.ndb.mysql.com +14 -0
    Bug#8101  unique indexes which attribute are _not_ specified in the order of the table does not work

ChangeSet
  1.2139 05/01/26 09:09:53 ingo@mysql.com +1 -0
  Merge mysql.com:/home/mydev/mysql-4.1
  into mysql.com:/home/mydev/mysql-4.1-4100

  sql/sql_select.cc
    1.397 05/01/26 09:09:50 ingo@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2137.11.1 05/01/26 08:57:43 serg@serg.mylan +2 -0
  innobase/include/univ.i
      remove a change that broke the test

  sql/item_create.cc
    1.69 05/01/26 08:57:36 serg@serg.mylan +3 -2
    better fix

  innobase/include/univ.i
    1.36 05/01/26 08:57:36 serg@serg.mylan +2 -4
    remove a change that broke the test

ChangeSet
  1.2137.10.1 05/01/25 23:13:36 igor@rurik.mysql.com +2 -0
  order_by.result, order_by.test:
    Added test case for bug #7672 that existed only in 4.0.

  mysql-test/r/order_by.result
    1.45 05/01/25 23:08:54 igor@rurik.mysql.com +17 -0
    Added test case for bug #7672 that existed only in 4.0.

  mysql-test/t/order_by.test
    1.31 05/01/25 23:06:52 igor@rurik.mysql.com +10 -0
    Added test case for bug #7672 that existed only in 4.0.

ChangeSet
  1.1346.786.1 05/01/25 14:30:38 igor@rurik.mysql.com +3 -0
  order_by.result, order_by.test:
    Added a test case for bug #7672.
  sql_yacc.yy:
    Fixed bug #7672.
    Made queries of the form (SELECT ...) ORDER BY ... to
    be equivalent to SELECT ... ORDER BY ...

  mysql-test/r/order_by.result
    1.11.1.13 05/01/25 13:48:42 igor@rurik.mysql.com +17 -0
    Added a test case for bug #7672.

  mysql-test/t/order_by.test
    1.9.2.7 05/01/25 13:47:48 igor@rurik.mysql.com +12 -1
    Added a test case for bug #7672.

  sql/sql_yacc.yy
    1.145.1.88 05/01/25 13:46:57 igor@rurik.mysql.com +8 -5
    Fixed bug #7672.
    Made queries of the form (SELECT ...) ORDER BY ... to
    be equivalent to SELECT ... ORDER BY ...

ChangeSet
  1.2137.1.7 05/01/25 22:42:50 heikki@hundin.mysql.fi +1 -0
  buf0rea.c:
    Add more diagnostics about why page reads in recovery may hang: print the number of pending pread calls

  innobase/buf/buf0rea.c
    1.16 05/01/25 22:42:35 heikki@hundin.mysql.fi +3 -1
    Add more diagnostics about why page reads in recovery may hang: print the number of pending pread calls

ChangeSet
  1.1346.785.1 05/01/25 12:24:50 jimw@mysql.com +1 -0
  Add BUG# to subject and X-Bug header for all outgoing
  emails re: bug fixes, and update the URL for the manual
  page on installing from the source tree.
  
  Fake bug number for testing: Bug #1234

  BitKeeper/triggers/post-commit
    1.19.1.12 05/01/25 12:23:17 jimw@mysql.com +1 -1
    Update URL for docs page

  BitKeeper/triggers/post-commit
    1.19.1.11 05/01/25 12:22:05 jimw@mysql.com +12 -5
    Add BUG# and X-Bug header to outgoing emails to internal and external lists

ChangeSet
  1.2137.1.6 05/01/25 22:12:22 heikki@hundin.mysql.fi +2 -0
  Merge heikki@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/heikki/mysql-4.1

  sql/set_var.cc
    1.156.1.1 05/01/25 22:12:14 heikki@hundin.mysql.fi +0 -0
    Auto merged

  sql/mysqld.cc
    1.542.2.2 05/01/25 22:12:14 heikki@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.2132.30.1 05/01/25 22:11:21 heikki@hundin.mysql.fi +3 -0
  sql_class.h, set_var.cc, mysqld.cc:
    Add settable variables for semi-sync replication

  sql/sql_class.h
    1.275 05/01/25 22:10:02 heikki@hundin.mysql.fi +5 -0
    Add settable variables for semi-sync replication

  sql/set_var.cc
    1.155.1.1 05/01/25 22:09:48 heikki@hundin.mysql.fi +14 -0
    Add settable variables for semi-sync replication

  sql/mysqld.cc
    1.542.3.1 05/01/25 22:09:42 heikki@hundin.mysql.fi +20 -1
    Add settable variables for semi-sync replication

ChangeSet
  1.1346.784.1 05/01/25 12:06:55 jimw@mysql.com +3 -0
  Always call vio_in_addr() so that thd->remote is
  always initialized. (Bug #5569)

  vio/viossl.c
    1.23 05/01/25 12:06:54 jimw@mysql.com +1 -1
    Remove comment that is no longer correct

  sql/sql_parse.cc
    1.218.1.170 05/01/25 11:46:51 jimw@mysql.com +3 -2
    Always call vio_in_addr() on successful connection,
    so that thd->remote always gets set

ChangeSet
  1.2137.7.3 05/01/25 21:27:51 monty@mysql.com +5 -0
  Cleanups during review

  sql/sql_select.cc
    1.393.2.2 05/01/25 21:27:47 monty@mysql.com +0 -7
    Remove #if 0

  sql/mysqld.cc
    1.542.2.1 05/01/25 21:27:47 monty@mysql.com +4 -5
    Force lower_case_table_names to 0 if set to 2 on case insensitive file name

  innobase/include/eval0eval.ic
    1.2 05/01/25 21:27:47 monty@mysql.com +0 -2
    Remove assert that fails on 64 bit machines
    (Tested with BUILD/compile-pentium64-valgrind-max on 64 bit Intel CPU)

  client/mysqlbinlog.cc
    1.105 05/01/25 21:27:47 monty@mysql.com +13 -4
    Call mysql_close() before die()

  BitKeeper/etc/ignore
    1.222 05/01/25 21:23:54 monty@mysql.com +1 -0
    added libmysqld/examples/mysqltest_embedded

  BitKeeper/etc/ignore
    1.221 05/01/25 21:23:49 monty@mysql.com +1 -0
    added libmysqld/examples/mysql_client_test_embedded

  BitKeeper/etc/ignore
    1.220 05/01/25 21:23:41 monty@mysql.com +1 -0
    added libmysqld/examples/mysql_client_test.c

  vio/viosocket.c
    1.15.1.5 05/01/25 11:14:13 jimw@mysql.com +1 -1
    Remove comment that is no longer correct

ChangeSet
  1.2132.29.1 05/01/25 15:56:20 joreland@mysql.com +3 -0
  ndb - Move mysql-test-run & testBackup into "basic suite"

  ndb/test/run-test/daily-devel-tests.txt
    1.14 05/01/25 15:56:18 joreland@mysql.com +0 -8
    Move mysql-test-run & testBackup into "basic"

  ndb/test/run-test/daily-basic-tests.txt
    1.14 05/01/25 15:56:18 joreland@mysql.com +8 -0
    Move mysql-test-run & testBackup into "basic"

  ndb/test/run-test/atrt-mysql-test-run
    1.9 05/01/25 15:56:18 joreland@mysql.com +2 -2
    Fix result handling

ChangeSet
  1.2137.2.2 05/01/25 16:48:21 marko@hundin.mysql.fi +5 -0
  InnoDB: Ignore innodb_autoextend_increment patch from 4.0,
  because it was backported from an earlier implementation in 4.1.

  sql/set_var.cc
    1.157 05/01/25 16:48:14 marko@hundin.mysql.fi +0 -4
    Ignore backported innodb_autoextend_increment patch from 4.0

  sql/mysqld.cc
    1.542.1.2 05/01/25 16:48:14 marko@hundin.mysql.fi +0 -6
    Ignore backported innodb_autoextend_increment patch from 4.0

  sql/ha_innodb.h
    1.77 05/01/25 16:48:14 marko@hundin.mysql.fi +0 -1
    Ignore backported innodb_autoextend_increment patch from 4.0

  innobase/srv/srv0srv.c
    1.75 05/01/25 16:48:14 marko@hundin.mysql.fi +0 -3
    Ignore backported innodb_autoextend_increment patch from 4.0

  innobase/include/srv0srv.h
    1.41 05/01/25 16:48:14 marko@hundin.mysql.fi +0 -3
    Ignore backported innodb_autoextend_increment patch from 4.0

ChangeSet
  1.1346.783.3 05/01/25 16:27:13 marko@hundin.mysql.fi +5 -0
  InnoDB: Backport innodb_autoextend_increment from 4.1

  sql/set_var.cc
    1.12.1.50 05/01/25 16:27:06 marko@hundin.mysql.fi +4 -0
    Add settable global variable innodb_autoextend_increment

  sql/mysqld.cc
    1.297.1.225 05/01/25 16:27:06 marko@hundin.mysql.fi +6 -0
    Add startup option innodb_autoextend_increment

  sql/ha_innodb.h
    1.48.2.17 05/01/25 16:27:06 marko@hundin.mysql.fi +1 -0
    Add configuration variable srv_auto_extend_increment

  innobase/srv/srv0srv.c
    1.35.1.44 05/01/25 16:27:06 marko@hundin.mysql.fi +3 -0
    Add configuration variable srv_auto_extend_increment

  innobase/include/srv0srv.h
    1.21.1.14 05/01/25 16:27:05 marko@hundin.mysql.fi +3 -1
    Add configuration variable srv_auto_extend_increment

ChangeSet
  1.2137.6.1 05/01/25 15:08:51 mskold@mysql.com +1 -0
  Fix for failing INSERT IGNORE in test ndb_insert

  sql/sql_insert.cc
    1.154 05/01/25 15:08:26 mskold@mysql.com +5 -5
    Fix for failing INSERT IGNORE in test ndb_insert

ChangeSet
  1.2137.4.1 05/01/25 13:46:40 tomas@poseidon.ndb.mysql.com +1 -0
  changed from using column names to column id in ndb setBound in ha_ndbcluster

  sql/ha_ndbcluster.cc
    1.123 05/01/25 13:46:37 tomas@poseidon.ndb.mysql.com +1 -4
    changed from using column names to column id in ndb setBound in ha_ndbcluster

ChangeSet
  1.2137.3.1 05/01/25 16:42:16 ram@gw.mysql.r18.ru +2 -0
  tT replaced with T1 to be more predictable.

  mysql-test/t/lowercase_table2.test
    1.7 05/01/25 16:42:12 ram@gw.mysql.r18.ru +7 -7
    tT replaced with T1 to be more predictable.

  mysql-test/r/lowercase_table2.result
    1.10 05/01/25 16:42:12 ram@gw.mysql.r18.ru +7 -7
    tT replaced with T1 to be more predictable.

ChangeSet
  1.2137.2.1 05/01/25 14:17:51 marko@hundin.mysql.fi +1 -0
  Merge hundin.mysql.fi:/home/marko/k/mysql-4.0
  into hundin.mysql.fi:/home/marko/k/mysql-4.1

  innobase/include/univ.i
    1.35 05/01/25 14:17:44 marko@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1346.783.2 05/01/25 14:16:41 marko@hundin.mysql.fi +1 -0
  InnoDB: Enable ut_ad() assertions in MySQL debug builds.

  innobase/include/univ.i
    1.28.1.1 05/01/25 14:16:38 marko@hundin.mysql.fi +3 -1
    InnoDB: Define UNIV_DEBUG when DBUG_ON (in MySQL) is defined.
    This enables InnoDB debug assertions in debug builds of mysqld.

ChangeSet
  1.2137.1.3 05/01/25 14:02:09 monty@mysql.com +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/my/mysql-4.1

  BUILD/SETUP.sh
    1.29 05/01/25 14:02:08 monty@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2130.5.1 05/01/25 14:00:35 monty@mysql.com +2 -0
  Add flags for Intel 64 bit

  BUILD/compile-pentium64-debug
    1.1 05/01/25 14:00:33 monty@mysql.com +13 -0

  BUILD/compile-pentium64-debug
    1.0 05/01/25 14:00:33 monty@mysql.com +0 -0
    BitKeeper file /my/mysql-4.1/BUILD/compile-pentium64-debug

  BUILD/SETUP.sh
    1.27.1.1 05/01/25 14:00:33 monty@mysql.com +3 -0
    Add flags for Intel 64 bit

ChangeSet
  1.2132.17.15 05/01/25 10:03:27 tomas@poseidon.ndb.mysql.com +4 -0
      backported ndb_mgm options from 5.0
      changed ndb_restore test somewhat to fisrt make the tables in myisam

  mysql-test/t/ndb_restore.test
    1.2 05/01/25 10:03:23 tomas@poseidon.ndb.mysql.com +19 -19
    changed ndb_restore test somewhat to fisrt make the tables in myisam

  mysql-test/r/ndb_restore.result
    1.3 05/01/25 10:03:23 tomas@poseidon.ndb.mysql.com +33 -33
    changed ndb_restore test somewhat to fisrt make the tables in myisam

  mysql-test/ndb/ndbcluster.sh
    1.39 05/01/25 10:03:23 tomas@poseidon.ndb.mysql.com +7 -3
    backported ndb_mgm options from 5.0

  mysql-test/mysql-test-run.sh
    1.236 05/01/25 10:03:23 tomas@poseidon.ndb.mysql.com +4 -1
    backported ndb_mgm options from 5.0

ChangeSet
  1.2132.27.4 05/01/25 11:06:12 ram@gw.mysql.r18.ru +1 -0
  Merge rkalimullin@bk-internal.mysql.com:/home/bk/mysql-4.1
  into gw.mysql.r18.ru:/usr/home/ram/work/4.1.b7261

  sql/sql_table.cc
    1.272 05/01/25 11:06:10 ram@gw.mysql.r18.ru +0 -0
    Auto merged

ChangeSet
  1.2132.18.4 05/01/25 10:58:30 ram@gw.mysql.r18.ru +2 -0
  Test case (bug #7261: Alter table loses temp table with lower_case_table_names=2).

  mysql-test/t/lowercase_table2.test
    1.6 05/01/25 10:58:24 ram@gw.mysql.r18.ru +12 -1
    Test case (bug #7261: Alter table loses temp table with lower_case_table_names=2).

  mysql-test/r/lowercase_table2.result
    1.9 05/01/25 10:58:24 ram@gw.mysql.r18.ru +11 -1
    Test case (bug #7261: Alter table loses temp table with lower_case_table_names=2).

ChangeSet
  1.2132.28.1 05/01/25 02:31:51 konstantin@mysql.com +1 -0
  A fix for Bug#5787 "mysql_stmt_prepare is upto 8 times slower":
  it's crucial to disable Nagle algorithm on client for no-reply commands
  (like mysql_stmt_free) to always work fast.
  Nagle algorithm instructs the sender to buffer (store) data if any 
  unacknowledged data is outstanding and the size of to-send data is less than
  the network segment. It was exactly the case with COM_STMT_CLOSE after 
  COM_STMT_PREPARE, so the client was waiting for Nagle timer to expire or
   for ACK from the server, while the server was holding up ACK because of 
  delayed acknowledgement algorithm.
  The tricky part is that we have been already disabling Nagle 
  algorithm (by setting TCP_NODELAY)
  almost everywhere except Windows (and maybe Netware).
  It is the reason why the bug was repeatable only with Windows client.

  vio/viosocket.c
    1.26 05/01/25 02:31:45 konstantin@mysql.com +20 -14
    A fix for Bug#5787 "mysql_stmt_prepare is upto 8 times slower":
    if we disable Nagle algorithm, do it everywhere.

ChangeSet
  1.2132.27.2 05/01/24 12:47:19 jimw@mysql.com +1 -0
  Merge mysql.com:/home/jimw/my/mysql-4.1-7887
  into mysql.com:/home/jimw/my/mysql-4.1-clean

  sql/mysqld.cc
    1.542.1.1 05/01/24 12:47:18 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2132.13.2 05/01/24 12:31:14 jimw@mysql.com +1 -0
  Set lower_case_file_system when it is being tested to check if
  lower_case_tables_names=2 is sensible. Related to Bug #7887.

  sql/mysqld.cc
    1.541.1.2 05/01/24 12:21:15 jimw@mysql.com +2 -1
    Set lower_case_file_system when it is being tested to check
    if lower_case_tables_names=2 is sensible.

ChangeSet
  1.2132.27.1 05/01/24 19:45:15 serg@serg.mylan +1 -0
  Merge serg@bk-internal.mysql.com:/home/bk/mysql-4.1/
  into serg.mylan:/usr/home/serg/Abk/mysql-4.1

  tests/mysql_client_test.c
    1.146 05/01/24 19:45:00 serg@serg.mylan +0 -0
    Auto merged

  tests/mysql_client_test.c
    1.144.1.2 05/01/24 19:44:59 serg@serg.mylan +0 -0
    Merge rename: tests/client_test.c -> tests/mysql_client_test.c

ChangeSet
  1.2132.17.13 05/01/24 19:15:44 tomas@poseidon.ndb.mysql.com +1 -0
  Merge tulin@bk-internal.mysql.com:/home/bk/mysql-4.1
  into poseidon.ndb.mysql.com:/home/tomas/mysql-4.1

  mysql-test/mysql-test-run.sh
    1.235 05/01/24 19:15:42 tomas@poseidon.ndb.mysql.com +0 -0
    Auto merged

ChangeSet
  1.2132.26.2 05/01/24 18:38:46 serg@serg.mylan +1 -0
  remove the entry from the list, before freeing

  mysys/mf_keycaches.c
    1.6 05/01/24 18:38:39 serg@serg.mylan +4 -0
    remove the entry from the list, before freeing

ChangeSet
  1.2132.17.12 05/01/24 17:10:03 kent@mysql.com +1 -0
  my_global.h:
    Bug#7145 Added cast to doublestore() and ARM

  include/my_global.h
    1.76.1.1 05/01/24 17:08:45 kent@mysql.com +1 -1
    Added cast to doublestore() and ARM

ChangeSet
  1.2132.17.11 05/01/24 16:57:57 kent@mysql.com +1 -0
  Merge kboortz@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/Users/kent/mysql/bk/mysql-4.1-perl

  mysql-test/mysql-test-run.sh
    1.234 05/01/24 16:57:51 kent@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2132.17.10 05/01/24 16:56:17 kent@mysql.com +2 -0
  mysql_client_test.test, mysql-test-run.sh:
    Let MYSQL_CLIENT_TEST be set with command line from mysql-test-run script
  mysql-test-run.sh:
    Renamed client_test to mysql_client_test
    Support --embedded-server test on installed server
  mysql_client_test.test:
    Renamed client_test to mysql_client_test
    Use env var CLIENT_TEST with full name, it differs when run with --embedded-server
    Rename: mysql-test/t/client_test.test -> mysql-test/t/mysql_client_test.test

  mysql-test/t/mysql_client_test.test
    1.11 05/01/24 16:35:13 kent@mysql.com +2 -2
    Let MYSQL_CLIENT_TEST be set with command line from mysql-test-run script

  mysql-test/mysql-test-run.sh
    1.233 05/01/24 16:35:13 kent@mysql.com +1 -1
    Let MYSQL_CLIENT_TEST be set with command line from mysql-test-run script

ChangeSet
  1.2132.23.5 05/01/24 17:17:19 bell@sanja.is.com.ua +4 -0
  fixed way of forward reference detection to support literal constant (BUG#8025)

  sql/sql_base.cc
    1.240.1.1 05/01/24 17:17:16 bell@sanja.is.com.ua +14 -0
    fill ref_pointer_array with zerows for forward reference detection.

  sql/item.cc
    1.185.1.1 05/01/24 17:17:16 bell@sanja.is.com.ua +4 -2
    now forward reference is detected via ref_pointer_array, because some literal constants are 'fixed' just after creation

  mysql-test/t/subselect.test
    1.137 05/01/24 17:17:16 bell@sanja.is.com.ua +16 -0
    Forward reference detection

  mysql-test/r/subselect.result
    1.158 05/01/24 17:17:15 bell@sanja.is.com.ua +14 -0
    Forward reference detection

ChangeSet
  1.2132.26.1 05/01/24 15:50:13 serg@serg.mylan +6 -0
  Merge serg@bk-internal.mysql.com:/home/bk/mysql-4.1/
  into serg.mylan:/usr/home/serg/Abk/mysql-4.1

  sql/table.cc
    1.123 05/01/24 15:50:05 serg@serg.mylan +0 -0
    Auto merged

  sql/sql_parse.cc
    1.419 05/01/24 15:50:05 serg@serg.mylan +0 -0
    Auto merged

  sql/slave.cc
    1.266 05/01/24 15:50:05 serg@serg.mylan +0 -0
    Auto merged

  sql/set_var.cc
    1.156 05/01/24 15:50:04 serg@serg.mylan +0 -0
    Auto merged

  sql/item.cc
    1.186 05/01/24 15:50:04 serg@serg.mylan +0 -0
    Auto merged

  mysys/mf_keycache.c
    1.48 05/01/24 15:50:04 serg@serg.mylan +0 -0
    Auto merged

ChangeSet
  1.2130.3.6 05/01/24 15:48:25 serg@serg.mylan +29 -0
  fixes/cleanups according to Coverity report

  tests/client_test.c
    1.144.1.1 05/01/24 15:48:18 serg@serg.mylan +6 -0
    fixes/cleanups according to Coverity report

  sql/tztime.cc
    1.15 05/01/24 15:48:18 serg@serg.mylan +1 -1
    fixes/cleanups according to Coverity report

  sql/table.cc
    1.121.1.1 05/01/24 15:48:18 serg@serg.mylan +7 -3
    fixes/cleanups according to Coverity report

  sql/sql_update.cc
    1.138 05/01/24 15:48:18 serg@serg.mylan +4 -5
    fixes/cleanups according to Coverity report

  sql/sql_table.cc
    1.270.1.1 05/01/24 15:48:17 serg@serg.mylan +2 -2
    fixes/cleanups according to Coverity report

  sql/sql_parse.cc
    1.417.1.1 05/01/24 15:48:17 serg@serg.mylan +13 -16
    fixes/cleanups according to Coverity report

  sql/sql_lex.cc
    1.139.1.2 05/01/24 15:48:17 serg@serg.mylan +0 -3
    fixes/cleanups according to Coverity report

  sql/sql_db.cc
    1.129 05/01/24 15:48:17 serg@serg.mylan +11 -11
    fixes/cleanups according to Coverity report

  sql/sql_cache.cc
    1.87.1.1 05/01/24 15:48:17 serg@serg.mylan +5 -5
    fixes/cleanups according to Coverity report

  sql/sql_base.cc
    1.241 05/01/24 15:48:17 serg@serg.mylan +9 -9
    fixes/cleanups according to Coverity report

  sql/sql_analyse.cc
    1.48 05/01/24 15:48:17 serg@serg.mylan +32 -27
    fixes/cleanups according to Coverity report

  sql/sql_acl.h
    1.32 05/01/24 15:48:17 serg@serg.mylan +1 -1
    fixes/cleanups according to Coverity report

  sql/sql_acl.cc
    1.156 05/01/24 15:48:17 serg@serg.mylan +9 -5
    fixes/cleanups according to Coverity report

  sql/slave.cc
    1.264.1.1 05/01/24 15:48:17 serg@serg.mylan +6 -5
    fixes/cleanups according to Coverity report

  sql/set_var.cc
    1.154.1.1 05/01/24 15:48:17 serg@serg.mylan +2 -2
    fixes/cleanups according to Coverity report

  sql/item_timefunc.cc
    1.81 05/01/24 15:48:17 serg@serg.mylan +14 -9
    fixes/cleanups according to Coverity report

  sql/item_strfunc.cc
    1.209 05/01/24 15:48:17 serg@serg.mylan +3 -0
    fixes/cleanups according to Coverity report

  sql/item_create.cc
    1.68 05/01/24 15:48:17 serg@serg.mylan +5 -8
    fixes/cleanups according to Coverity report

  sql/item.cc
    1.184.1.1 05/01/24 15:48:17 serg@serg.mylan +6 -18
    fixes/cleanups according to Coverity report

  mysys/thr_alarm.c
    1.44 05/01/24 15:48:17 serg@serg.mylan +1 -1
    fixes/cleanups according to Coverity report

  mysys/mf_keycache.c
    1.46.1.1 05/01/24 15:48:17 serg@serg.mylan +1 -0
    fixes/cleanups according to Coverity report

  myisam/sort.c
    1.42 05/01/24 15:48:16 serg@serg.mylan +3 -0
    fixes/cleanups according to Coverity report

  myisam/rt_index.c
    1.16 05/01/24 15:48:16 serg@serg.mylan +3 -4
    fixes/cleanups according to Coverity report

  myisam/mi_packrec.c
    1.26 05/01/24 15:48:16 serg@serg.mylan +0 -7
    fixes/cleanups according to Coverity report

  isam/sort.c
    1.10 05/01/24 15:48:16 serg@serg.mylan +3 -0
    fixes/cleanups according to Coverity report

  client/mysqltest.c
    1.156 05/01/24 15:48:16 serg@serg.mylan +3 -2
    fixes/cleanups according to Coverity report

  client/mysqldump.c
    1.170 05/01/24 15:48:16 serg@serg.mylan +2 -3
    fixes/cleanups according to Coverity report

  client/mysqlbinlog.cc
    1.104 05/01/24 15:48:16 serg@serg.mylan +1 -5
    fixes/cleanups according to Coverity report

  client/mysql.cc
    1.202 05/01/24 15:48:16 serg@serg.mylan +3 -10
    fixes/cleanups according to Coverity report

ChangeSet
  1.2132.23.4 05/01/24 15:56:57 bell@sanja.is.com.ua +3 -0
  check that row elements have the same dimention that SELECT list elements in comporison between rows and subqueries added (BUG#8022)

  sql/item_subselect.cc
    1.126 05/01/24 15:56:53 bell@sanja.is.com.ua +4 -0
    check that row elements have the same dimention that SELECT list elements

  mysql-test/t/subselect.test
    1.136 05/01/24 15:56:53 bell@sanja.is.com.ua +12 -0
    Comparison subquery and row with nested rows

  mysql-test/r/subselect.result
    1.157 05/01/24 15:56:52 bell@sanja.is.com.ua +8 -0
    Comparison subquery and row with nested rows

ChangeSet
  1.2132.23.3 05/01/24 14:25:44 bell@sanja.is.com.ua +7 -0
  fixed column number fetchinmg for subqueries. (BUG#8020)
  fixed cols() method call (it have to be called only after fix_fields())

  sql/sql_lex.h
    1.181 05/01/24 14:25:40 bell@sanja.is.com.ua +1 -0
    method to check that UNION is prepared

  sql/item_subselect.cc
    1.125 05/01/24 14:25:40 bell@sanja.is.com.ua +4 -2
    correct column number fetching for subqueries

  sql/item_func.h
    1.118 05/01/24 14:25:40 bell@sanja.is.com.ua +4 -0
    commant

  sql/item_func.cc
    1.230 05/01/24 14:25:40 bell@sanja.is.com.ua +16 -2
    support of allowed_arg_cols autodetection by first argument

  sql/item_cmpfunc.h
    1.102 05/01/24 14:25:40 bell@sanja.is.com.ua +6 -3
    initialization allowed_arg_cols for autodetection

  mysql-test/t/subselect.test
    1.135 05/01/24 14:25:40 bell@sanja.is.com.ua +14 -0
    Comparison subquery with * and row

  mysql-test/r/subselect.result
    1.156 05/01/24 14:25:40 bell@sanja.is.com.ua +14 -0
    Comparison subquery with * and row

ChangeSet
  1.2132.25.1 05/01/24 13:06:27 tomas@poseidon.ndb.mysql.com +3 -0
  ndb_restore.result, mysql-test-run.sh:
    added ndb_restore test
  ndb_restore.result, ndb_restore.test:
    new file

  mysql-test/r/ndb_restore.result
    1.2 05/01/24 13:05:52 tomas@poseidon.ndb.mysql.com +4 -4
    added ndb_restore test

  mysql-test/mysql-test-run.sh
    1.231.1.2 05/01/24 13:04:49 tomas@poseidon.ndb.mysql.com +2 -0
    added ndb_restore test

  mysql-test/r/ndb_restore.result
    1.1 05/01/24 13:04:23 tomas@poseidon.ndb.mysql.com +249 -0

  mysql-test/r/ndb_restore.result
    1.0 05/01/24 13:04:23 tomas@poseidon.ndb.mysql.com +0 -0
    BitKeeper file /home/tomas/mysql-4.1/mysql-test/r/ndb_restore.result

  mysql-test/t/ndb_restore.test
    1.1 05/01/24 13:04:15 tomas@poseidon.ndb.mysql.com +209 -0

  mysql-test/t/ndb_restore.test
    1.0 05/01/24 13:04:15 tomas@poseidon.ndb.mysql.com +0 -0
    BitKeeper file /home/tomas/mysql-4.1/mysql-test/t/ndb_restore.test

ChangeSet
  1.2132.24.3 05/01/24 13:27:01 ram@gw.mysql.r18.ru +2 -0
  Merge rkalimullin@bk-internal.mysql.com:/home/bk/mysql-4.1
  into gw.mysql.r18.ru:/usr/home/ram/work/4.1

ChangeSet
  1.2132.6.14 05/01/24 10:11:12 ingo@mysql.com +1 -0
  Merge mysql.com:/home/mydev/mysql-4.1
  into mysql.com:/home/mydev/mysql-4.1-4100

ChangeSet
  1.2132.24.2 05/01/24 10:47:51 tomas@poseidon.ndb.mysql.com +1 -0
  mysql-test-run.sh:
    backported access to ndb_mgm from 5.0

  mysql-test/mysql-test-run.sh
    1.231.1.1 05/01/24 10:47:06 tomas@poseidon.ndb.mysql.com +3 -0
    backported access to ndb_mgm from 5.0

ChangeSet
  1.2132.24.1 05/01/24 10:33:39 tomas@poseidon.ndb.mysql.com +2 -0
  remmoved inline in NdbRecAttr methods including memcpy

  ndb/src/ndbapi/NdbRecAttr.cpp
    1.10 05/01/24 10:33:32 tomas@poseidon.ndb.mysql.com +32 -0
    remmoved inline in NdbRecAttr methods including memcpy

  ndb/include/ndbapi/NdbRecAttr.hpp
    1.8 05/01/24 10:33:32 tomas@poseidon.ndb.mysql.com +0 -36
    remmoved inline in NdbRecAttr methods including memcpy

  sql/mysqld.cc
    1.543 05/01/24 13:26:59 ram@gw.mysql.r18.ru +0 -0
    Auto merged

  sql/mysql_priv.h
    1.336.1.2 05/01/24 13:26:59 ram@gw.mysql.r18.ru +0 -0
    Auto merged

  sql/sql_select.cc
    1.396 05/01/24 10:11:06 ingo@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1346.1.692 05/01/24 10:08:45 ingo@mysql.com +1 -0
  Merge mysql.com:/home/mydev/mysql-4.0
  into mysql.com:/home/mydev/mysql-4.0-4000

  sql/sql_select.cc
    1.152.1.137 05/01/24 10:08:42 ingo@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2132.21.2 05/01/24 13:04:52 ram@gw.mysql.r18.ru +1 -0
  Stick FN_REFLEN to PATH_MAX.

  include/my_global.h
    1.77 05/01/24 13:04:47 ram@gw.mysql.r18.ru +4 -0
    Stick FN_REFLEN to PATH_MAX.

ChangeSet
  1.2132.23.2 05/01/23 21:58:24 bell@sanja.is.com.ua +1 -0
  Merge sanja.is.com.ua:/home/bell/mysql/bk/mysql-4.1
  into sanja.is.com.ua:/home/bell/mysql/bk/work-4.1

  sql/sql_select.cc
    1.393.1.2 05/01/23 21:58:19 bell@sanja.is.com.ua +0 -0
    Auto merged

ChangeSet
  1.2132.23.1 05/01/23 12:12:50 tomas@poseidon.ndb.mysql.com +1 -0
  backported from 5.0 extra option to ndb_waiter

  ndb/tools/waiter.cpp
    1.20 05/01/23 12:12:46 tomas@poseidon.ndb.mysql.com +21 -6
    backported from 5.0 extra option to ndb_waiter

ChangeSet
  1.2132.17.8 05/01/22 02:42:54 igor@rurik.mysql.com +3 -0
  Merge rurik.mysql.com:/home/igor/dev/mysql-4.0-0
  into rurik.mysql.com:/home/igor/dev/mysql-4.1-0

  sql/sql_select.cc
    1.393.2.1 05/01/22 02:42:49 igor@rurik.mysql.com +0 -0
    Auto merged

  mysql-test/t/select_found.test
    1.21 05/01/22 02:42:49 igor@rurik.mysql.com +0 -0
    Auto merged

  mysql-test/r/select_found.result
    1.22 05/01/22 02:42:49 igor@rurik.mysql.com +0 -0
    Auto merged

ChangeSet
  1.1346.783.1 05/01/22 02:40:27 igor@rurik.mysql.com +3 -0
  select_found.result, select_found.test:
    Added a test case for bug #7945.
  sql_select.cc:
    Fixed bug #7945. If DISTINCT is used only with constants
    in a query with GROUP BY, we can apply an optimization
    that set LIMIT to 1 only in the case when there is 
    no SQL_CALC_FOUND_ROWS.

  mysql-test/r/select_found.result
    1.6.1.7 05/01/22 02:39:32 igor@rurik.mysql.com +8 -0
    Added a test case for bug #7945.

  mysql-test/t/select_found.test
    1.5.1.6 05/01/22 02:38:45 igor@rurik.mysql.com +9 -0
    Added a test case for bug #7945.

  sql/sql_select.cc
    1.152.24.1 05/01/22 02:36:56 igor@rurik.mysql.com +10 -3
    Fixed bug #7945. If DISTINCT is used only with constants
    in a query with GROUP BY, we can apply an optimization
    that set LIMIT to 1 only in the case when there is 
    no SQL_CALC_FOUND_ROWS.

ChangeSet
  1.2132.17.7 05/01/22 04:45:22 heikki@hundin.mysql.fi +1 -0
  fil0fil.c:
    Fix a race condition that could cause the assertion space->n_pending_flushes == 0 to fail in fil0fil.c, in fil_space_free(), in DROP TABLE or in ALTER TABLE

  innobase/fil/fil0fil.c
    1.46 05/01/22 04:43:35 heikki@hundin.mysql.fi +2 -1
    Fix a race condition that could cause the assertion space->n_pending_flushes == 0 to fail in fil0fil.c, in fil_space_free()

ChangeSet
  1.2132.22.1 05/01/21 17:57:44 tomas@poseidon.ndb.mysql.com +1 -0
  Bug#8070
  corrected possible unalignment in NdbRecAttr access methods

  ndb/include/ndbapi/NdbRecAttr.hpp
    1.7 05/01/21 17:57:18 tomas@poseidon.ndb.mysql.com +12 -4
    Bug#8070
    corrected possible unalignment in NdbRecAttr access methods

ChangeSet
  1.2132.17.4 05/01/21 17:59:23 heikki@hundin.mysql.fi +1 -0
  fil0fil.c:
    Fix bug #8021 :Windows error number 87 with multiple tablespaces after mysqld restart; still has to be tested on Windows that this now works

  innobase/fil/fil0fil.c
    1.45 05/01/21 17:59:00 heikki@hundin.mysql.fi +53 -25
    Fix bug #8021 :Windows error number 87 with multiple tablespaces after mysqld restart; still has to be tested on Windows that this now works

ChangeSet
  1.2132.17.3 05/01/21 17:54:50 heikki@hundin.mysql.fi +1 -0
  dict0dict.c:
    Fix bug #7831: ALTER TABLE ... ADD CONSTRAINT PRIMARY KEY ... complained about bad foreign key definition

  innobase/dict/dict0dict.c
    1.59 05/01/21 17:54:34 heikki@hundin.mysql.fi +6 -2
    Fix bug #7831: ALTER TABLE ... ADD CONSTRAINT PRIMARY KEY ... complained about bad foreign key definition

ChangeSet
  1.2132.19.2 05/01/21 16:47:51 timour@mysql.com +1 -0
  Merge mysql.com:/home/timka/mysql/src/4.1-bug-4285
  into mysql.com:/home/timka/mysql/src/4.1-dbg

  sql/sql_show.cc
    1.193 05/01/21 16:47:50 timour@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2132.21.1 05/01/21 17:51:24 ram@gw.mysql.r18.ru +2 -0
  A fix (Bug #8015: server refuses to start with long basedir path).

  sql/mysqld.cc
    1.541.2.1 05/01/21 17:51:14 ram@gw.mysql.r18.ru +1 -1
    A fix (Bug #8015: server refuses to start with long basedir path).

  sql/mysql_priv.h
    1.336.2.1 05/01/21 17:51:13 ram@gw.mysql.r18.ru +1 -1
    A fix (Bug #8015: server refuses to start with long basedir path).

ChangeSet
  1.2132.19.1 05/01/21 16:49:20 bar@mysql.com +2 -0
  Bug#7943: Wrong prefix lengths reported on UTF-8 columns
  SHOW KEYS FROM t1 now displays number of characters in Sub_part,
  not number of bytes, to be compatible with SHOW CREATE TABLE.

  sql/sql_show.cc
    1.191.1.1 05/01/21 16:49:15 bar@mysql.com +2 -1
    Bug#7943: Wrong prefix lengths reported on UTF-8 columns
    SHOW KEYS FROM t1 now displays number of characters in Sub_part,
    not number of bytes, to be compatible with SHOW CREATE TABLE.

  mysql-test/r/ctype_mb.result
    1.9 05/01/21 16:49:15 bar@mysql.com +2 -2
    Bug#7943: Wrong prefix lengths reported on UTF-8 columns
    SHOW KEYS FROM t1 now displays number of characters in Sub_part,
    not number of bytes, to be compatible with SHOW CREATE TABLE.

ChangeSet
  1.2132.18.3 05/01/21 15:14:31 ram@gw.mysql.r18.ru +1 -0
  A fix (bug #7261: Alter table loses temp table with lower_case_table_names=2).

  sql/sql_table.cc
    1.271 05/01/21 15:14:18 ram@gw.mysql.r18.ru +2 -1
    A fix (bug #7261: Alter table loses temp table with lower_case_table_names=2).

ChangeSet
  1.2132.18.2 05/01/21 08:28:23 joreland@mysql.com +1 -0
  bug#8051 - ndb, typo, more info on crash

  ndb/src/kernel/blocks/dbdih/DbdihMain.cpp
    1.19 05/01/21 08:27:05 joreland@mysql.com +2 -2
    typo

ChangeSet
  1.2132.18.1 05/01/21 07:53:02 joreland@mysql.com +1 -0
  Bug#8051 - ndb
    Make sure to ship error code in system error signal

  ndb/src/kernel/blocks/dbdih/DbdihMain.cpp
    1.18 05/01/21 07:53:00 joreland@mysql.com +4 -0
    Bug#8051 - ndb
      Make sure to ship error code in system error signal

ChangeSet
  1.2132.16.2 05/01/20 17:00:30 lenz@mysql.com +1 -0
  - fixed one missing occasion from the mysql_client_test renaming

  libmysqld/examples/Makefile.am
    1.21 05/01/20 17:00:27 lenz@mysql.com +1 -1
    - fixed a missing rename (mysql_client_test -> mysql_client_test_embedded)

ChangeSet
  1.2132.16.1 05/01/20 16:25:38 lenz@mysql.com +6 -0
  - renamed client_test -> mysql_client_test
  - renamed the tests that use the embedded server (client_test -> 
    mysql_client_test_embedded, mysqltest -> mysql_test_embedded
    and changed some Makefiles and scripts so they are installed in $bindir
    (required to be able to run the test suite against the embedded server)

  BitKeeper/etc/ignore
    1.219 05/01/20 15:23:20 lenz@mysql.com +1 -0
    Added tests/mysql_client_test to the ignore list

  tests/Makefile.am
    1.15 05/01/20 15:22:59 lenz@mysql.com +3 -3
    - renamed client_test to mysql_client_test

  scripts/make_binary_distribution.sh
    1.69 05/01/20 15:22:59 lenz@mysql.com +3 -1
    - install mysql_client_test, mysql_client_test_embedded and mysqltest_embedded
      into bin directory

  libmysqld/examples/Makefile.am
    1.20 05/01/20 15:22:59 lenz@mysql.com +9 -8
    - renamed client_test -> mysql_client_test_embedded
    - renamed mysqltest -> mysqltest_embedded
    - both will be installed in $bindir

  libmysql/libmysql.c
    1.286 05/01/20 15:22:59 lenz@mysql.com +1 -1
    - renamed client_test.c to mysql_client_test.c in a comment

  BitKeeper/etc/ignore
    1.218 05/01/20 15:22:59 lenz@mysql.com +1 -0
    Added tests/mysql_client_test to the ignore list

  mysql-test/mysql-test-run.sh
    1.232 05/01/20 15:06:09 kent@mysql.com +31 -9
    Renamed client_test to mysql_client_test
    Support --embedded-server test on installed server

  mysql-test/t/mysql_client_test.test
    1.10 05/01/20 14:44:58 kent@mysql.com +2 -3
    Renamed client_test to mysql_client_test
    Use env var CLIENT_TEST with full name, it differs when run with --embedded-server

  mysql-test/t/mysql_client_test.test
    1.9 05/01/20 14:21:05 kent@mysql.com +0 -0
    Rename: mysql-test/t/client_test.test -> mysql-test/t/mysql_client_test.test

  tests/mysql_client_test.c
    1.145 05/01/20 14:01:25 mysqldev@mysql.com +0 -0
    Rename: tests/client_test.c -> tests/mysql_client_test.c

ChangeSet
  1.2132.11.2 05/01/20 13:56:22 bell@sanja.is.com.ua +3 -0
  fixed problem with distinct select with grouping and subqueries (BUG#7946)

  sql/sql_select.cc
    1.393.1.1 05/01/20 13:56:17 bell@sanja.is.com.ua +1 -1
    used current join copy for test

  mysql-test/t/derived.test
    1.44 05/01/20 13:56:17 bell@sanja.is.com.ua +10 -0
    DISTINCT over grouped select on subquery in the FROM clause

  mysql-test/r/derived.result
    1.49 05/01/20 13:56:17 bell@sanja.is.com.ua +9 -0
    DISTINCT over grouped select on subquery in the FROM clause

ChangeSet
  1.2132.12.2 05/01/20 12:48:46 ingo@mysql.com +3 -0
  BUG#6034 - Error code 124:  Wrong medium type
  Completely recoded the bugfix for 4.1.
  This is just a merge changeset.

  sql/sql_select.cc
    1.395 05/01/20 12:48:43 ingo@mysql.com +0 -25
    BUG#6034 - Error code 124:  Wrong medium type
    Completely recoded the bugfix for 4.1.

  mysql-test/t/insert_select.test
    1.16 05/01/20 12:48:43 ingo@mysql.com +0 -15
    BUG#6034 - Error code 124:  Wrong medium type
    Replaced TYPE= by ENGINE=

  mysql-test/r/insert_select.result
    1.23 05/01/20 12:48:43 ingo@mysql.com +0 -12
    BUG#6034 - Error code 124:  Wrong medium type
    Replaced TYPE= by ENGINE=

ChangeSet
  1.2132.6.10 05/01/20 15:38:56 bar@mysql.com +3 -0
  item_cmpfunc.cc:
    Bug#7834 Illegal mix of collations in IN operator
    IN was the first function supporting 
    character set convertion.
    agg_arg_charsets() was written afterwards,
    which is more flexible.
    Now IN just reuses this function.

  mysql-test/r/func_in.result
    1.15 05/01/20 15:38:35 bar@mysql.com +8 -0

  mysql-test/t/func_in.test
    1.14 05/01/20 15:38:31 bar@mysql.com +5 -0

  sql/item_cmpfunc.cc
    1.179 05/01/20 15:36:58 bar@mysql.com +4 -55
    Bug#7834 Illegal mix of collations in IN operator
    IN was the first function supporting 
    character set convertion.
    agg_arg_charsets() was written afterwards,
    which is more flexible.
    Now IN just reuses this function.

ChangeSet
  1.2132.14.1 05/01/20 12:19:48 joreland@mysql.com +1 -0
  bug#8010 - ndb
    release connections when last op was simple read

  ndb/src/kernel/blocks/dbtc/DbtcMain.cpp
    1.47 05/01/20 12:19:46 joreland@mysql.com +4 -1
    bug#8010
      release connections when last op was simple read

ChangeSet
  1.1346.1.690 05/01/20 12:07:44 lenz@mysql.com +1 -0
  - Improved Do-rpm to perform RPM builds inside of a chrooted build
    environment (using "build" on SUSE Linux)

  Build-tools/Do-rpm
    1.31 05/01/20 12:07:41 lenz@mysql.com +159 -85
    - added functionality to perform RPM builds inside of a chrooted build
      environment (using "build" on SUSE Linux) - see "--help" for more details

ChangeSet
  1.2132.10.5 05/01/20 13:08:16 bar@mysql.com +1 -0
  errmsg.txt:
    Minor fix after character set conversion.

  sql/share/japanese-sjis/errmsg.txt
    1.2 05/01/20 13:07:40 bar@mysql.com +2 -2
    Minor fix after character set conversion.

ChangeSet
  1.2132.10.4 05/01/20 12:39:46 bar@mysql.com +1 -0
  configure.in:
    Add SJIS version of Japanese error messages.
    Windows version should include this new file,
    instead of the EUC-JP version.

  configure.in
    1.341 05/01/20 12:38:25 bar@mysql.com +1 -1
    Add SJIS version of Japanese error messages.
    Windows version should include this new file,
    instead of the EUC-JP version.

ChangeSet
  1.2132.10.3 05/01/20 12:37:02 bar@mysql.com +1 -0
  errmsg.txt:
    new file

  sql/share/japanese-sjis/errmsg.txt
    1.1 05/01/20 12:36:32 bar@mysql.com +325 -0

  sql/share/japanese-sjis/errmsg.txt
    1.0 05/01/20 12:36:32 bar@mysql.com +0 -0
    BitKeeper file /usr/home/bar/mysql-4.1/sql/share/japanese-sjis/errmsg.txt

ChangeSet
  1.2132.13.1 05/01/19 12:23:24 jimw@mysql.com +1 -0
  Warn when mysqld starts up with lower_case_table_names=2 but datadir is
  on a case-sensitive filesystem. (Bug #7887)

ChangeSet
  1.2132.12.1 05/01/19 21:16:27 ingo@mysql.com +3 -0
  BUG#6034 - Error code 124:  Wrong medium type.
  Version for 4.1. Committed for merge.
  If the result table is one of the select tables in INSERT SELECT,
  we must not disable the result tables indexes before selecting.
  mysql_execute_command() detects the match for other reasons and
  adds the flag OPTION_BUFFER_RESULT to the 'select_options'. 
  In this case the result is put into a temporary table first. 
  Hence, we can defer the preparation of the insert
  table until the result is to be used.

  sql/sql_select.cc
    1.394 05/01/19 21:16:23 ingo@mysql.com +17 -1
    BUG#6034 - Error code 124:  Wrong medium type.
    With OPTION_BUFFER_RESULT in the 'select_options',
    defer the preparation of the insert table until the 
    result is to be used.

  mysql-test/t/insert_select.test
    1.15 05/01/19 21:16:23 ingo@mysql.com +15 -0
    BUG#6034 - Error code 124:  Wrong medium type.
    The test case.

  mysql-test/r/insert_select.result
    1.22 05/01/19 21:16:23 ingo@mysql.com +12 -0
    BUG#6034 - Error code 124:  Wrong medium type.
    The test results.

ChangeSet
  1.1346.782.1 05/01/19 21:13:30 ingo@mysql.com +3 -0
  BUG#6034 - Error code 124:  Wrong medium type.
  Version for 4.0. Committed for merge.
  If the result table is one of the select tables in INSERT SELECT,
  we must not disable the result tables indexes before selecting.
  mysql_execute_command() detects the match for other reasons and
  adds the flag OPTION_BUFFER_RESULT to the 'select_options'. 
  In this case the result is put into a temporary table first. 
  Hence, we can defer the preparation of the insert
  table until the result is to be used.

  sql/sql_select.cc
    1.152.1.136 05/01/19 21:13:16 ingo@mysql.com +25 -1
    BUG#6034 - Error code 124:  Wrong medium type.
    With OPTION_BUFFER_RESULT in the 'select_options',
    defer the preparation of the insert table until the 
    result is to be used. Unfortunately, this happens
    at several places.

  mysql-test/t/insert_select.test
    1.5.1.9 05/01/19 21:13:16 ingo@mysql.com +15 -0
    BUG#6034 - Error code 124:  Wrong medium type.
    The test case.

  mysql-test/r/insert_select.result
    1.7.1.10 05/01/19 21:13:16 ingo@mysql.com +12 -0
    BUG#6034 - Error code 124:  Wrong medium type.
    The test results.

  sql/mysqld.cc
    1.541.1.1 05/01/19 12:11:32 jimw@mysql.com +11 -0
    Add warning when running with lower_case_table_names=2 and datadir is
    on a case-sensitive filesystem.

ChangeSet
  1.2117.99.2 05/01/19 10:24:51 jimw@mysql.com +8 -0
  Fix all BUILD/*max* scripts to use -DBIG_TABLES, like our real Max builds do.
  (Simpler fix than last commit -- no need to mess with base_cxxflags.)

  BUILD/compile-amd64-debug-max
    1.2 05/01/19 10:21:42 jimw@mysql.com +2 -5
    use $max_cflags, remove unnecessary base_cxxflags stuff

  BUILD/compile-ppc-max
    1.4 05/01/19 10:00:48 jimw@mysql.com +1 -3
    use $max_cflags

  BUILD/compile-ppc-debug-max
    1.4 05/01/19 10:00:45 jimw@mysql.com +2 -4
    use $max_cflags

  BUILD/compile-pentium-valgrind-max
    1.13 05/01/19 10:00:40 jimw@mysql.com +1 -1
    use $max_cflags

  BUILD/compile-pentium-max
    1.14 05/01/19 10:00:38 jimw@mysql.com +2 -5
    use $max_cflags

  BUILD/compile-pentium-debug-max-no-embedded
    1.3 05/01/19 10:00:34 jimw@mysql.com +2 -4
    use $max_cflags

  BUILD/compile-pentium-debug-max
    1.16 05/01/19 10:00:27 jimw@mysql.com +2 -4
    use $max_cflags

  BUILD/compile-amd64-max
    1.2 05/01/19 10:00:19 jimw@mysql.com +2 -6
    use $max_cflags

ChangeSet
  1.2132.6.4 05/01/19 18:32:34 joreland@mysql.com +1 -0
  ndb - make sure scan recevier pointers are aligned

  ndb/src/ndbapi/NdbScanOperation.cpp
    1.49 05/01/19 18:32:31 joreland@mysql.com +5 -5
    align pointers

ChangeSet
  1.2132.8.2 05/01/19 12:55:54 timour@mysql.com +7 -0
  Final patch for BUG#4285.
  This patch collects all previous patches into one.
  
  The main problem was due to that there is are two variables -
  dflt_key_cache and sql_key_cache with have more or less duplicate
  function. The reson for the bug was that the default value in the key
  cache hash was set to dflt_key_cache, then sql_key_cache was set to a
  new key cache object, and then dflt_key_cache was set to sql_key_cache
  which was different from the dflt_key_cache_var. After sending SIGHUP,
  the server was using the original default value for the key cache hash,
  which was different from the actual key cache object used for the
  default key cache.

  sql/sql_show.cc
    1.192 05/01/19 11:04:02 timour@mysql.com[timka] +1 -1
    Import patch 4285.diff

  sql/sql_parse.cc
    1.418 05/01/19 11:04:02 timour@mysql.com[timka] +3 -11
    Import patch 4285.diff

  sql/set_var.cc
    1.155 05/01/19 11:04:02 timour@mysql.com[timka] +2 -2
    Import patch 4285.diff

  sql/mysqld.cc
    1.542 05/01/19 11:04:02 timour@mysql.com[timka] +5 -8
    Import patch 4285.diff

  sql/mysql_priv.h
    1.336.1.1 05/01/19 11:04:02 timour@mysql.com[timka] +0 -1
    Import patch 4285.diff

  mysys/mf_keycache.c
    1.47 05/01/19 11:04:02 timour@mysql.com[timka] +35 -0
    Import patch 4285.diff

  include/keycache.h
    1.5 05/01/19 11:04:02 timour@mysql.com[timka] +4 -1
    Import patch 4285.diff

ChangeSet
  1.2132.7.1 05/01/19 10:00:41 tomas@poseidon.ndb.mysql.com +2 -0
  added possibility to add extra opts to ndbd and ndb_mgmd in mysql-test-run

  mysql-test/ndb/ndbcluster.sh
    1.38 05/01/19 10:00:25 tomas@poseidon.ndb.mysql.com +11 -2
    added possibility to add extra opts to ndbd and ndb_mgmd in mysql-test-run

  mysql-test/mysql-test-run.sh
    1.231 05/01/19 10:00:24 tomas@poseidon.ndb.mysql.com +8 -1
    added possibility to add extra opts to ndbd and ndb_mgmd in mysql-test-run

ChangeSet
  1.2132.6.2 05/01/19 09:15:34 joreland@mysql.com +14 -0
  bug#7777 - ndb compile on qnx
    remove usage of compiler supplied <new> and instead
    impl. own inlined placement new

  ndb/src/mgmapi/mgmapi_configuration.cpp
    1.3 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/vm/SimulatedBlock.hpp
    1.11 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/vm/Emulator.cpp
    1.13 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/suma/SumaInit.cpp
    1.6 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/grep/GrepInit.cpp
    1.4 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/dbtux/Dbtux.hpp
    1.36 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/dbtup/DbtupGen.cpp
    1.14 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/dbtc/DbtcInit.cpp
    1.8 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/dblqh/DblqhInit.cpp
    1.13 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/dbdih/DbdihInit.cpp
    1.6 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/cmvmi/Cmvmi.cpp
    1.16 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/src/kernel/blocks/backup/BackupInit.cpp
    1.9 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

  ndb/include/ndb_global.h.in
    1.7 05/01/19 09:15:31 joreland@mysql.com +2 -4
    remove usage <new>
    instead impl. own

  ndb/include/kernel/AttributeHeader.hpp
    1.4 05/01/19 09:15:31 joreland@mysql.com +0 -1
    remove usage <new>

ChangeSet
  1.2132.6.1 05/01/19 07:23:20 joreland@mysql.com +4 -0
  bug#7693 - ndb 
    when using shm transporter, set sigmask on each thread using pthread_sigmask

  sql/ha_ndbcluster.cc
    1.122 05/01/19 07:23:17 joreland@mysql.com +2 -2
    cast pointer to UintPtr before printout

  ndb/src/common/transporter/TransporterRegistry.cpp
    1.23 05/01/19 07:23:17 joreland@mysql.com +14 -2
    (un)block SIGUSR1 #ifdef NDB_SHM_TRANSPORTER

  ndb/src/common/portlib/NdbThread.c
    1.16 05/01/19 07:23:17 joreland@mysql.com +20 -2
    1) Create thread wrapper function
    2) block SIGUSR1 #ifdef NDB_SHM_TRANSPORTER

  configure.in
    1.340 05/01/19 07:23:17 joreland@mysql.com +5 -2
    Add more functions needed for SHM

ChangeSet
  1.2132.1.11 05/01/18 15:59:39 jimw@mysql.com +2 -0
  Fix query cache to not respond to old clients with a 4.1-protocol
  response. (Bug #6511)

  sql/sql_cache.cc
    1.88 05/01/18 15:54:38 jimw@mysql.com +4 -0
    Record whether 4.1 or old protocol is used for query

  sql/mysql_priv.h
    1.337 05/01/18 15:54:19 jimw@mysql.com +1 -0
    Add bit for storing client protocol info

ChangeSet
  1.2132.4.1 05/01/18 23:13:29 Sinisa@sinisa.nasamreza.org +3 -0
  fixing wrong value for "examined rows" when UNION's are used.

  sql/sql_union.cc
    1.137 05/01/18 23:13:18 Sinisa@sinisa.nasamreza.org +7 -4
    a patch for the wrong examined rows with UNION's

  mysql-test/t/union.test
    1.78 05/01/18 23:13:18 Sinisa@sinisa.nasamreza.org +4 -0
    test case for the wrong examined rows with UNION's

  mysql-test/r/union.result
    1.84 05/01/18 23:13:18 Sinisa@sinisa.nasamreza.org +16 -0
    result for a test case for the wrong examined rows with UNION's

ChangeSet
  1.2132.1.9 05/01/18 13:12:40 jimw@mysql.com +1 -0
  Update type_float test results after merge.

  mysql-test/r/type_float.result
    1.29 05/01/18 13:11:46 jimw@mysql.com +9 -7
    Update test results (4.1 produces a warning that 4.0 did not,
    and they were merged into the wrong position).

ChangeSet
  1.2132.1.7 05/01/18 12:25:56 jimw@mysql.com +3 -0
  Merge changed tests

  mysql-test/t/type_float.test
    1.16 05/01/18 12:25:53 jimw@mysql.com +2 -1
    Merge

  mysql-test/r/type_float.result
    1.28 05/01/18 12:25:53 jimw@mysql.com +7 -7
    Merge

  sql/field_conv.cc
    1.34 05/01/18 12:22:08 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2132.3.1 05/01/18 17:35:32 lenz@mysql.com +1 -0
  - small improvement for the logrotate config file (patch found in the SUSE
    source RPM): use "mysqladmin ping" instead of grepping the process list 
    for the mysqld binary (should be more portable than relying on the "ps"
    options

  support-files/mysql-log-rotate.sh
    1.3 05/01/18 17:35:28 lenz@mysql.com +10 -3
    - small improvement (patch found in the SUSE source RPM): use "mysqladmin ping"
      instead of grepping the process list for the mysqld binary (should be more
      portable than relying on the "ps" options

ChangeSet
  1.2132.1.5 05/01/18 17:45:49 dlenev@brandersnatch.localdomain +2 -0
  Added test for bug #7884 "Able to add invalid unique index on TIMESTAMP
  prefix", which roots were fixed in 4.0 tree.

  mysql-test/t/alter_table.test
    1.34 05/01/18 17:45:46 dlenev@mysql.com +11 -0
    Added test for bug #7884 "Able to add invalid unique index on TIMESTAMP
    prefix".

  mysql-test/r/alter_table.result
    1.45 05/01/18 17:45:46 dlenev@mysql.com +4 -0
    Added test for bug #7884 "Able to add invalid unique index on TIMESTAMP
    prefix".

ChangeSet
  1.2132.2.2 05/01/18 15:48:34 sergefp@mysql.com +3 -0
  Fix for BUG#7885

ChangeSet
  1.2132.2.1 05/01/18 17:26:04 konstantin@mysql.com +3 -0
  Cleanups in Makefile.ams

  strings/Makefile.am
    1.40 05/01/18 17:25:58 konstantin@mysql.com +0 -1
    Remove dead rule.

  regex/Makefile.am
    1.11 05/01/18 17:25:58 konstantin@mysql.com +1 -2
    Remove  explicit _DEPENDENCIES, they are not needed with automatic
     dependency tracking wich we started using several months ago.
    Don't use relative paths.

  client/Makefile.am
    1.43 05/01/18 17:25:58 konstantin@mysql.com +4 -14
    Remove  explicit _DEPENDENCIES, they are not needed with automatic
     dependency tracking wich we started using several months ago.
    Don't use relative paths in makefiles.

ChangeSet
  1.2132.1.4 05/01/18 17:23:46 dlenev@mysql.com +1 -0
  Manual merge of fix for bug  #7884 "Able to add invalid unique index on
  TIMESTAMP prefix" into 4.1 tree.

  sql/field.h
    1.122 05/01/18 17:23:44 dlenev@mysql.com +1 -1
    Manual merge.

ChangeSet
  1.1346.781.1 05/01/18 17:04:16 dlenev@mysql.com +1 -0
  Clean up in implementation of f_is_geom()/f_is_bitfield()/f_is_enum()
  macros.
  
  It does not fixes any bugs in 4.0. But it prevents from future error in
  any bugfixes that may use these macros. Also after merging into 4.1 tree
  this cleanup will fix bug #7884 "Able to add invalid unique index on
  TIMESTAMP prefix".

  sql/field.h
    1.33.1.26 05/01/18 17:04:14 dlenev@mysql.com +7 -7
    Since FIELDFLAG_INTERVAL, FIELDFLAG_BITFIELD, FIELDFLAG_BLOB and
    FIELDFLAG_GEOM flags occupy the same space as number of decimals for
    FIELDFLAG_NUMBER fields, it is safer to check in "f_is_geom()"-type
    macros that we have non-number field, like we already do in f_is_blob()
    macro.

ChangeSet
  1.2132.1.3 05/01/18 17:41:06 bar@mysql.com +13 -0
  1. Item now uses my_charset_bin by default,
  not default_charset_into. It fixes the
  problem that in some cases numbers where
  treated as CHAR(N), not as BINARY(N), e.g.
  wrong 'charsetnr' when sent to the client side.
  2. IFNULL didn't aggregate argument charsets
  and collations, so IFNULL(1,'a') produced
  a CHAR(N). Now produces a BINARY(N).
  3. SELECT PROCEDURE ANALIZE now returns
  BINARY columns, which is much better than it worked
  previously: CHAR with the default character set.
  But in the future it's worth to fix the fields
  'Field_name' and 'Optimal_fieldtype' to use UTF8,
  and 'Min_value' and 'Max_value' to inherit their charsets
  from the original items. But it is not important,
  and BINARY(N) is OK for now.
  4. Tests were fixed accordingly. No new tests were
  made, as the old onces cover everything.

  sql/item_cmpfunc.cc
    1.178 05/01/18 17:41:02 bar@mysql.com +3 -0
    IFNULL now collects arguments collations/charsets
    like other functions do.

  sql/item.cc
    1.185 05/01/18 17:41:02 bar@mysql.com +1 -1
    Item is now BINARY by default

  mysql-test/r/union.result
    1.83 05/01/18 17:41:02 bar@mysql.com +1 -1
    Test fix according to the changes

  mysql-test/r/ps_7ndb.result
    1.14 05/01/18 17:41:02 bar@mysql.com +3 -3
    Test fix according to the changes

  mysql-test/r/ps_6bdb.result
    1.21 05/01/18 17:41:02 bar@mysql.com +3 -3
    Test fix according to the changes

  mysql-test/r/ps_5merge.result
    1.20 05/01/18 17:41:02 bar@mysql.com +6 -6
    Test fix according to the changes

  mysql-test/r/ps_4heap.result
    1.20 05/01/18 17:41:02 bar@mysql.com +3 -3
    Test fix according to the changes

  mysql-test/r/ps_3innodb.result
    1.22 05/01/18 17:41:02 bar@mysql.com +3 -3
    Test fix according to the changes

  mysql-test/r/ps_2myisam.result
    1.21 05/01/18 17:41:02 bar@mysql.com +3 -3
    Test fix according to the changes

  mysql-test/r/ps_1general.result
    1.15 05/01/18 17:41:02 bar@mysql.com +6 -6
    Test fix according to the changes

  mysql-test/r/metadata.result
    1.6 05/01/18 17:41:02 bar@mysql.com +3 -3
    Test fix according to the changes

  mysql-test/r/case.result
    1.15 05/01/18 17:41:02 bar@mysql.com +6 -6
    Test fix according to the changes

  mysql-test/r/analyse.result
    1.16 05/01/18 17:41:02 bar@mysql.com +18 -18
    SELECT PROCEDURE ANALIZE now returns
    BINARY columns, which is much better than it worked
    previously: CHAR with the default character set.
    But in the future it's worth to fix the fields
    'Field_name' and 'Optimal_fieldtype' to use UTF8,
    and 'Min_value' and 'Max_value' to inherit their charsets
    from the original items. But it is not important,
    and BINARY(N) is OK for now.

ChangeSet
  1.2132.1.2 05/01/18 16:23:10 konstantin@mysql.com +1 -0
  Fix 'make distclean' goal.

  configure.in
    1.339 05/01/18 16:22:57 konstantin@mysql.com +1 -1
    Fix 'make distclean' goal.

  sql/item_subselect.cc
    1.124 05/01/18 15:47:56 sergefp@mysql.com +2 -1
    Fix for BUG#7885: In Item_subselect::fix_fields, return error if engine->prepare fails.
    Also removed redundant code line.

  mysql-test/t/subselect.test
    1.134 05/01/18 15:47:56 sergefp@mysql.com +11 -0
    Testcase for BUG#7885

  mysql-test/r/subselect.result
    1.155 05/01/18 15:47:56 sergefp@mysql.com +8 -0
    Testcase for BUG#7885

ChangeSet
  1.2122.8.2 05/01/18 11:27:38 serg@serg.mylan +3 -0
  myisam/ft_boolean_search.c
      -trunc* bug - don't increase yweaks in this case

  mysql-test/t/fulltext.test
    1.69 05/01/18 11:27:30 serg@serg.mylan +1 -0
    -trunc* bug - don't increase yweaks in this case

  mysql-test/r/fulltext.result
    1.71 05/01/18 11:27:30 serg@serg.mylan +3 -0
    -trunc* bug - don't increase yweaks in this case

  myisam/ft_boolean_search.c
    1.85 05/01/18 11:27:29 serg@serg.mylan +6 -5
    -trunc* bug - don't increase yweaks in this case

ChangeSet
  1.2130.3.4 05/01/18 10:42:29 bar@mysql.com +3 -0
  #7874: CONCAT() gives wrong results mixing latin1 field and utf8 string literals
  We should not overwrite res if it is returned from a const item.

  sql/item_strfunc.cc
    1.208 05/01/18 10:42:23 bar@mysql.com +2 -1
    #7874: CONCAT() gives wrong results mixing latin1 field and utf8 string literals
    We should not overwrite res if it is returned from a const item.

  mysql-test/t/ctype_utf8.test
    1.48 05/01/18 10:42:23 bar@mysql.com +12 -0
    #7874: CONCAT() gives wrong results mixing latin1 field and utf8 string literals
    We should not overwrite res if it is returned from a const item.

  mysql-test/r/ctype_utf8.result
    1.48 05/01/18 10:42:23 bar@mysql.com +12 -0
    #7874: CONCAT() gives wrong results mixing latin1 field and utf8 string literals
    We should not overwrite res if it is returned from a const item.

ChangeSet
  1.2130.3.3 05/01/18 03:52:15 monty@mysql.com +1 -0
  Merge mysql.com:/home/my/mysql-4.0 into mysql.com:/home/my/mysql-4.1

  sql/filesort.cc
    1.90 05/01/18 03:52:14 monty@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2130.3.2 05/01/18 03:49:39 monty@mysql.com +2 -0
  Fixed new bug that caused symlink test to fail

  mysys/my_symlink.c
    1.9 05/01/18 03:49:32 monty@mysql.com +6 -3
    More debugging

  myisam/mi_open.c
    1.82 05/01/18 03:49:32 monty@mysql.com +1 -1
    Fixed new bug that caused symlink test to fail

ChangeSet
  1.1346.780.1 05/01/17 16:13:56 jimw@mysql.com +3 -0
  Fix over-optimization that could result in an unsigned double field being
  set to a negative value. (Bug #7700)

  mysql-test/r/type_float.result
    1.8.1.4 05/01/17 16:11:19 jimw@mysql.com +7 -0
    Add test results

  mysql-test/t/type_float.test
    1.5.1.4 05/01/17 16:10:56 jimw@mysql.com +6 -0
    Add test for setting double unsigned to a negative value from a signed double

  sql/field_conv.cc
    1.6.1.7 05/01/17 16:09:46 jimw@mysql.com +1 -0
    Don't treat real fields as identical when destination is unsigned and
    the source is not.

ChangeSet
  1.1346.779.1 05/01/18 02:04:41 monty@mysql.com +1 -0
  Anoter fix for moved IO_CACHE object

  sql/filesort.cc
    1.45.1.14 05/01/18 02:04:35 monty@mysql.com +3 -0
    Anoter fix for moved IO_CACHE object

ChangeSet
  1.2130.4.1 05/01/18 01:15:02 bell@sanja.is.com.ua +1 -0
  Merge sanja.is.com.ua:/home/bell/mysql/bk/mysql-4.1
  into sanja.is.com.ua:/home/bell/mysql/bk/work-4.1

  sql/sql_lex.cc
    1.141 05/01/18 01:14:57 bell@sanja.is.com.ua +0 -0
    Auto merged

ChangeSet
  1.2122.8.1 05/01/17 22:35:53 serg@serg.mylan +2 -0
  make the code to look safe, not only be safe

  sql/log.cc
    1.159 05/01/17 22:35:46 serg@serg.mylan +2 -2
    make the code to look safe, not only be safe

  ndb/src/common/util/strdup.c
    1.5 05/01/17 22:35:46 serg@serg.mylan +2 -2
    make the code to look safe, not only be safe

ChangeSet
  1.2130.1.2 05/01/17 21:26:14 guilhem@mysql.com +1 -0
  Fix for BUG#7965 "Slave_IO_State Stuck at 'Checking Master Version'":
  Working around hang of master < 3.23.50 on SELECT @@unknown_var
  (to enable 3.23.49->4.1.10 replication)

  sql/slave.cc
    1.265 05/01/17 21:22:39 guilhem@mysql.com +5 -0
    Working around hang of master < 3.23.50 on SELECT @@unknown_var
    (to enable 3.23.49->4.1.10 replication)

ChangeSet
  1.2130.2.1 05/01/17 12:22:23 jimw@mysql.com +1 -0
  Print a warning when an old table (with no character set stored) is opened
  and the default character set is multi-byte, which will result in character
  column size changes. (Bug #6913)

  sql/table.cc
    1.122 05/01/17 12:20:37 jimw@mysql.com +12 -1
    Print a warning when an old table is opened and the
    default character set is multi-byte that warns about
    character column sizes possibly getting changed

ChangeSet
  1.2130.1.1 05/01/17 14:08:36 reggie@bob.(none) +2 -0
  Merge rburnett@bk-internal.mysql.com:/home/bk/mysql-4.1
  into bob.(none):/home/reggie/bk/mysql-4.1

  client/mysql.cc
    1.201 05/01/17 14:08:33 reggie@bob.(none) +0 -0
    Auto merged

  BitKeeper/etc/logging_ok
    1.360 05/01/17 14:08:20 reggie@bob.(none) +0 -0
    auto-union

ChangeSet
  1.2122.6.2 05/01/17 13:40:36 reggie@bob.(none) +1 -0
  Bug #7966  	query cache doesn't work properly with batch statements
  
  sql_lex.cc:
    Set query to not cacheable if we are using multistatements and there are multiple statements in this query

  sql/sql_lex.cc
    1.139.1.1 05/01/17 13:39:37 reggie@bob.(none) +1 -0
    Set query to not cacheable if we are using multistatements and there are multiple statements in this query

ChangeSet
  1.2127.6.1 05/01/17 18:53:10 lenz@mysql.com +1 -0
  Merge mysql.com:/space/my/mysql-4.0
  into mysql.com:/space/my/mysql-4.1-build

  Build-tools/Do-pkg
    1.10 05/01/17 18:53:09 lenz@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2127.5.1 05/01/17 19:52:07 bell@sanja.is.com.ua +1 -0
  backported from 5.0 patch initialization of main select for commands where subqueries are possible

  sql/sql_yacc.yy
    1.375 05/01/17 19:51:27 bell@sanja.is.com.ua +5 -1
    backported from 5.0 patch initialization of main select for commands where subqueries are possible

ChangeSet
  1.1346.1.686 05/01/17 17:22:17 lenz@mysql.com +1 -0
  - Enabled the handling of architecture extensions e.g. "-64bit" when building
    Mac OS X PKGs with Do-pkg

  Build-tools/Do-pkg
    1.6.1.1 05/01/17 17:22:14 lenz@mysql.com +1 -1
    - enable handling of architecture extensions e.g. "-64bit"

ChangeSet
  1.2127.2.3 05/01/17 19:21:01 kaa@polly.local +2 -0
  Fixed memory leak in handle_local_infile()

  BitKeeper/etc/logging_ok
    1.358.1.1 05/01/17 19:21:01 kaa@polly.local +1 -0
    Logging to logging@openlogging.org accepted

  libmysql/libmysql.c
    1.285 05/01/17 19:20:33 kaa@polly.local +1 -0
    Fixed memory leak in handle_local_infile()

ChangeSet
  1.2122.7.2 05/01/17 12:29:43 tomas@poseidon.ndb.mysql.com +1 -0
  Bug#7937

  ndb/tools/restore/Restore.hpp
    1.18 05/01/17 12:29:32 tomas@poseidon.ndb.mysql.com +19 -14
    Bug#7937

ChangeSet
  1.2127.2.1 05/01/17 12:41:59 timour@mysql.com +1 -0
  Merge mysql.com:/home/timka/mysql/src/4.1-virgin
  into mysql.com:/home/timka/mysql/src/4.1-bug-7331

  sql/sql_select.cc
    1.393 05/01/17 12:41:57 timour@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2127.1.1 05/01/17 10:38:35 bar@mysql.com +3 -0
  user_var.result, func_str.result, item_strfunc.cc:
    bug#7839 ncorrect collation for char(ascii('a'))

  mysql-test/r/user_var.result
    1.21 05/01/17 10:38:18 bar@mysql.com +2 -2
    bug#7839 ncorrect collation for char(ascii('a'))

  mysql-test/r/func_str.result
    1.81 05/01/17 10:38:13 bar@mysql.com +1 -1
    bug#7839 ncorrect collation for char(ascii('a'))

  sql/item_strfunc.cc
    1.207 05/01/17 10:37:44 bar@mysql.com +1 -0
    bug#7839 ncorrect collation for char(ascii('a'))

ChangeSet
  1.2128 05/01/17 00:09:47 paul@kite-hub.kitebird.com +1 -0
  mysqldump.c:
    Move out-of-order option.

  client/mysqldump.c
    1.169 05/01/17 00:09:07 paul@kite-hub.kitebird.com +3 -3
    Move out-of-order option.

ChangeSet
  1.2127 05/01/17 09:27:24 bar@mysql.com +1 -0
  libmysql.c:
    bug#7891: mysql_character_set_name() returns collation

  libmysql/libmysql.c
    1.284 05/01/17 09:26:53 bar@mysql.com +1 -1
    bug#7891: mysql_character_set_name() returns collation

ChangeSet
  1.2122.7.1 05/01/16 21:39:19 tomas@poseidon.ndb.mysql.com +1 -0
  Makefile.am:
    Bug#7721

  ndb/docs/Makefile.am
    1.7 05/01/16 21:38:22 tomas@poseidon.ndb.mysql.com +2 -2
    Bug#7721

ChangeSet
  1.2122.1.11 05/01/16 18:36:50 bell@sanja.is.com.ua +1 -0
  Merge sanja.is.com.ua:/home/bell/mysql/bk/mysql-4.1
  into sanja.is.com.ua:/home/bell/mysql/bk/work-4.1

  sql/sql_lex.cc
    1.140 05/01/16 18:36:46 bell@sanja.is.com.ua +0 -0
    Auto merged

ChangeSet
  1.2117.84.4 05/01/16 18:36:13 bell@sanja.is.com.ua +1 -0
  postreview changes

  sql/sql_lex.cc
    1.138.1.2 05/01/16 18:36:10 bell@sanja.is.com.ua +3 -1
    layout fixed

ChangeSet
  1.2122.1.9 05/01/16 16:38:38 serg@serg.mylan +1 -0
  initialize mysql->charset in mysql_init

  sql-common/client.c
    1.82 05/01/16 16:38:32 serg@serg.mylan +1 -0
    initialize mysql->charset in mysql_init

ChangeSet
  1.2122.6.1 05/01/15 23:19:34 reggie@bob.(none) +2 -0
  Bug #7922 	prompt \p fails on Windows for shared-memory connections
  
  Fixed bug by adding code that displays the contents of mysql.host when \p is added as part of the prompt.
  
  mysql.cc:
    Added code to display mysql.host as prompt when using shared memory

  BitKeeper/etc/logging_ok
    1.359 05/01/15 23:19:33 reggie@bob.(none) +1 -0
    Logging to logging@openlogging.org accepted

  client/mysql.cc
    1.199.1.1 05/01/15 23:16:19 reggie@bob.(none) +9 -1
    Added code to display mysql.host as prompt when using shared memory

ChangeSet
  1.2122.1.8 05/01/15 20:08:53 serg@serg.mylan +1 -0
  don't ignore errors in readlink

  myisam/mi_open.c
    1.81 05/01/15 20:08:41 serg@serg.mylan +2 -3
    don't ignore errors in readlink

ChangeSet
  1.2122.5.1 05/01/15 01:05:00 igor@rurik.mysql.com +3 -0
  func_gconcat.result, func_gconcat.test:
    Added a test case for bug #7769.
  item_sum.h:
    Fixed bug #7769: a crash for queries with group_concat and
    having when the query table was empty.
    The bug was due an unsafe dereferencing.

  mysql-test/r/func_gconcat.result
    1.33 05/01/15 01:04:32 igor@rurik.mysql.com +5 -0
    Added a test case for bug #7769.

  mysql-test/t/func_gconcat.test
    1.24 05/01/15 01:04:11 igor@rurik.mysql.com +7 -0
    Added a test case for bug #7769.

  sql/item_sum.h
    1.77 05/01/15 01:01:29 igor@rurik.mysql.com +3 -2
    Fixed bug #7769: a crash for queries with group_concat and
    having when the query table was empty.
    The bug was due an unsafe dereferencing.

ChangeSet
  1.2122.4.1 05/01/15 03:49:07 monty@mysql.com +3 -0
  Merge

  mysys/mf_iocache.c
    1.47 05/01/15 03:49:06 monty@mysql.com +0 -0
    SCCS merged

  sql/filesort.cc
    1.89 05/01/15 03:47:50 monty@mysql.com +0 -0
    Auto merged

  include/my_sys.h
    1.131 05/01/15 03:47:49 monty@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1346.1.685 05/01/15 03:47:06 monty@mysql.com +3 -0
  Fixed possible access to unintialized memory in filesort when using many buffers

  sql/filesort.cc
    1.45.1.13 05/01/15 03:47:03 monty@mysql.com +2 -0
    Tell that io_cache is moved

  mysys/mf_iocache.c
    1.37.1.3 05/01/15 03:47:03 monty@mysql.com +35 -14
    Added function to call if IO_CACHE is moved

  include/my_sys.h
    1.75.1.35 05/01/15 03:47:03 monty@mysql.com +1 -0
    Added function to call if IO_CACHE is moved

ChangeSet
  1.2122.3.2 05/01/15 01:10:40 heikki@hundin.mysql.fi +1 -0
  dict0load.c:
    Correct typo in comment

  innobase/dict/dict0load.c
    1.28 05/01/15 01:10:28 heikki@hundin.mysql.fi +1 -1
    Correct typo in comment

ChangeSet
  1.2122.3.1 05/01/15 01:06:15 heikki@hundin.mysql.fi +2 -0
  dict0load.c, dict0crea.c:
    Add diagnostic code to track corruption in mix_len; it was reported on the mailing list Jan 14, 2005

  innobase/dict/dict0load.c
    1.27 05/01/15 01:05:41 heikki@hundin.mysql.fi +17 -0
    Add diagnostic code to track corruption in mix_len; it was reported on the mailing list Jan 14, 2005

  innobase/dict/dict0crea.c
    1.26 05/01/15 01:05:41 heikki@hundin.mysql.fi +11 -0
    Add diagnostic code to track corruption in mix_len; it was reported on the mailing list Jan 14, 2005

ChangeSet
  1.2122.1.7 05/01/14 22:46:04 serg@serg.mylan +1 -0
  protect against malicious server trying to crash command-line client :)

  client/mysql.cc
    1.200 05/01/14 22:45:58 serg@serg.mylan +4 -4
    protect against malicious server trying to crash command-line client :)

ChangeSet
  1.2117.103.1 05/01/14 19:49:45 serg@serg.mylan +4 -0
  limit HEAP table size with max_heap_table_size, better estimation for mem_per_row

  sql/ha_heap.cc
    1.48 05/01/14 19:49:38 serg@serg.mylan +18 -6
    limit HEAP table size with max_heap_table_size
    better estimation for mem_per_row

  include/heap.h
    1.22 05/01/14 19:49:38 serg@serg.mylan +4 -3
    limit HEAP table size with max_heap_table_size

  heap/hp_write.c
    1.20 05/01/14 19:49:38 serg@serg.mylan +2 -1
    limit HEAP table size with max_heap_table_size

  heap/hp_create.c
    1.15 05/01/14 19:49:38 serg@serg.mylan +4 -3
    limit HEAP table size with max_heap_table_size

ChangeSet
  1.2122.1.4 05/01/14 10:40:05 jimw@mysql.com +1 -0
  Merge

  scripts/mysql_install_db.sh
    1.69 05/01/14 10:40:02 jimw@mysql.com +2 -4
    Merge changes

ChangeSet
  1.2122.1.2 05/01/14 18:20:03 lenz@mysql.com +1 -0
  - replaced obsoleted "BuildPrereq" with "BuildRequires" in the RPM spec file

  support-files/mysql.spec.sh
    1.84 05/01/14 18:19:58 lenz@mysql.com +5 -1
    - replaced obsoleted "BuildPrereq" with "BuildRequires" instead

ChangeSet
  1.2122.2.1 05/01/14 16:14:50 tomas@poseidon.ndb.mysql.com +2 -0
  bumped up ndb version
  compatible with 4.1.9

  ndb/src/common/util/version.c
    1.15 05/01/14 16:14:37 tomas@poseidon.ndb.mysql.com +1 -0
    bumped up ndb version
    compatible with 4.1.9

  configure.in
    1.338 05/01/14 16:14:36 tomas@poseidon.ndb.mysql.com +1 -1
    bumped up ndb version

ChangeSet
  1.2122.1.1 05/01/14 15:35:32 lenz@mysql.com +1 -0
  - make sure to enable "--without-ndb-debug" when both --debug and
    --with-cluster are provided. Yes, this sounds like a contradiction -
    enabling debugging in NBD enables code parts that may still reveal 
    portability issues when compiled with non-gcc compilers. (request by TomasU)

  Build-tools/Do-compile
    1.101 05/01/14 15:35:28 lenz@mysql.com +2 -1
    - make sure to enable "--without-ndb-debug" when both --debug and
      --with-cluster are provided. Yes, this sounds like a contradiction -
      enabling debugging in NBD enables code parts that may still reveal 
      portability issues when compiled with non-gcc compilers. (request by TomasU)

ChangeSet
  1.2122 05/01/14 13:37:48 marko@hundin.mysql.fi +2 -0
  Merge marko@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/marko/k/mysql-4.1

ChangeSet
  1.2117.102.1 05/01/14 16:23:32 gluh@gluh.mysql.r18.ru +1 -0
  Backport from 5.0

  strings/ctype-mb.c
    1.36 05/01/14 16:22:39 gluh@gluh.mysql.r18.ru +1 -1
    Backport from 5.0

  sql/ha_innodb.cc
    1.179 05/01/14 13:37:39 marko@hundin.mysql.fi +0 -0
    Auto merged

  innobase/os/os0file.c
    1.94 05/01/14 13:37:39 marko@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.2117.101.1 05/01/14 10:59:37 guilhem@mysql.com +1 -0
  Merge gbichot@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/mysql_src/mysql-4.1-clean

  sql/log_event.cc
    1.174 05/01/14 10:59:35 guilhem@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2117.1.65 05/01/14 10:09:01 dlenev@mysql.com +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/dlenev/src/mysql-4.1-dtbug

  sql/sql_yacc.yy
    1.374 05/01/14 10:08:57 dlenev@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2117.1.64 05/01/14 01:59:03 konstantin@mysql.com +1 -0
  fix C++ comments in C file (fixed in 5.0 already)

  strings/ctype-uca.c
    1.28 05/01/14 01:58:53 konstantin@mysql.com +2 -2
    fix C++ comments in C file

ChangeSet
  1.2117.1.62 05/01/14 00:09:15 monty@mysql.com +3 -0
  Fix bug in INSERT DELAYED with prepared statements
  The bug was that if you have two TL_WRITE_DELAYED at the same time,
  mi_lock_databases() could be done in the wrong order and we could write the wrong header to the MyISAM index file.

  sql/sql_prepare.cc
    1.144 05/01/14 00:09:12 monty@mysql.com +5 -1
    Fix bug in insert delayed with prepared statements
    The bug was that if you have two TL_WRITE_DELAYED at the same time,
    mi_lock_databases() could be done in the wrong order and we could write the wrong header to the MyISAM index file.

  sql/sql_base.cc
    1.240 05/01/14 00:09:12 monty@mysql.com +28 -0
    Fix bug in insert delayed with prepared statements

  sql/mysql_priv.h
    1.336 05/01/14 00:09:12 monty@mysql.com +1 -0
    Fix bug in insert delayed with prepared statements

ChangeSet
  1.1346.778.1 05/01/13 11:58:10 jimw@mysql.com +1 -0
  Fix mysql_install_db to look for libexecdir relative to basedir when
  it has been specified. (Bug #7347)

  scripts/mysql_install_db.sh
    1.35.2.1 05/01/13 11:56:40 jimw@mysql.com +2 -2
    When basedir is specified, look for libexecdir relative to that

ChangeSet
  1.2117.1.61 05/01/13 20:09:41 monty@mysql.com +1 -0
  Merge bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/my/mysql-4.1

  sql/sql_parse.cc
    1.417 05/01/13 20:09:40 monty@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2117.100.2 05/01/13 20:08:28 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Merge from 4.0:     Fix a theoretical hang over the adaptive hash latch in InnoDB if one runs INSERT ... SELECT ... (binlog not enabled), or a multi-table UPDATE or DELETE, and only the read tables are InnoDB type, the rest are MyISAM; this also fixes bug #7879 for InnoDB type tables

  sql/ha_innodb.cc
    1.176.1.7 05/01/13 20:07:45 heikki@hundin.mysql.fi +7 -2
    Merge from 4.0:     Fix a theoretical hang over the adaptive hash latch in InnoDB if one runs INSERT ... SELECT ... (binlog not enabled), or a multi-table UPDATE or DELETE, and only the read tables are InnoDB type, the rest are MyISAM; this also fixes bug #7879 for InnoDB type tables

ChangeSet
  1.2117.100.1 05/01/13 19:27:44 heikki@hundin.mysql.fi +2 -0
  Merge

  sql/ha_innodb.cc
    1.176.1.6 05/01/13 19:27:36 heikki@hundin.mysql.fi +2 -9
    SCCS merged

  innobase/os/os0file.c
    1.92.1.1 05/01/13 19:26:01 heikki@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.2117.97.7 05/01/13 09:24:07 jimw@mysql.com +2 -0
  Merge jwinstead2@wwwtst1.mysql.com:mysql-4.1-7235
  into mysql.com:/home/jimw/my/mysql-4.1-clean

  sql/sql_show.cc
    1.191 05/01/13 09:24:06 jimw@mysql.com +0 -0
    Auto merged

  mysql-test/r/ctype_utf8.result
    1.47 05/01/13 09:24:06 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2117.62.2 05/01/13 18:22:35 jimw@mysql.com +2 -0
  Add test cases to verify that SHOW CREATE TABLE always outputs the
  key algorithm for keys where they were explicitly specified.

  mysql-test/t/show_check.test
    1.39 05/01/13 18:21:24 jimw@mysql.com +32 -0
    Add tests for preservation of key algorithm in SHOW CREATE TABLE output

ChangeSet
  1.1346.1.683 05/01/13 19:20:49 heikki@hundin.mysql.fi +1 -0
  ha_innodb.cc:
    Fix a theoretical hang over the adaptive hash latch in InnoDB if one runs INSERT ... SELECT ... (binlog not enabled), or a multi-table UPDATE or DELETE, and only the read tables are InnoDB type, the rest are MyISAM; this also fixes bug #7879 for InnoDB type tables

  sql/ha_innodb.cc
    1.73.1.157 05/01/13 19:20:30 heikki@hundin.mysql.fi +7 -2
    Fix a theoretical hang over the adaptive hash latch in InnoDB if one runs INSERT ... SELECT ... (binlog not enabled), or a multi-table UPDATE or DELETE, and only the read tables are InnoDB type, the rest are MyISAM; this also fixes bug #7879 for InnoDB type tables

  mysql-test/r/show_check.result
    1.60 05/01/13 18:20:09 jimw@mysql.com +70 -0
    Add results

ChangeSet
  1.2117.97.5 05/01/13 09:07:21 jimw@mysql.com +1 -0
  Merge jwinstead2@wwwtst1.mysql.com:mysql-4.1-7774
  into mysql.com:/home/jimw/my/mysql-4.1-clean

  sql/field.cc
    1.206 05/01/13 09:07:20 jimw@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2117.99.1 05/01/13 09:05:23 jimw@mysql.com +9 -0
  Put flags for -max building in BUILD/SETUP.sh so they are consistent across
  all architectures, and in sync with the flags used to build the MySQL Max
  packages. Also back-port AMD64 build scripts from 5.0.

  BUILD/compile-amd64-max
    1.1 05/01/13 08:47:07 jimw@mysql.com +12 -0

  BUILD/compile-amd64-max
    1.0 05/01/13 08:47:07 jimw@mysql.com +0 -0
    BitKeeper file /home/jimw/my/mysql-4.1-build/BUILD/compile-amd64-max

  BUILD/compile-amd64-debug-max
    1.1 05/01/13 08:47:06 jimw@mysql.com +12 -0

  BUILD/compile-amd64-debug-max
    1.0 05/01/13 08:47:06 jimw@mysql.com +0 -0
    BitKeeper file /home/jimw/my/mysql-4.1-build/BUILD/compile-amd64-debug-max

  BUILD/compile-ppc-max
    1.3 05/01/13 08:46:55 jimw@mysql.com +1 -3
    Use $max_configs

  BUILD/compile-ppc-debug-max
    1.3 05/01/13 08:46:51 jimw@mysql.com +1 -1
    Use $max_configs

  BUILD/compile-pentium-valgrind-max
    1.12 05/01/13 08:46:43 jimw@mysql.com +1 -1
    Use $max_leave_isam_configs

  BUILD/compile-pentium-max
    1.13 05/01/13 08:46:38 jimw@mysql.com +1 -3
    Use $max_configs

  BUILD/compile-pentium-debug-max-no-embedded
    1.2 05/01/13 08:46:25 jimw@mysql.com +1 -1
    Use $max_no_es_configs

  BUILD/compile-pentium-debug-max
    1.15 05/01/13 08:46:19 jimw@mysql.com +1 -1
    Use $max_configs

  BUILD/SETUP.sh
    1.28 05/01/13 08:45:50 jimw@mysql.com +8 -0
    Add $max_configs (and variants) and amd64_*

ChangeSet
  1.2117.87.8 05/01/13 15:35:36 guilhem@mysql.com +1 -0
  Merge gbichot@bk-internal.mysql.com:/home/bk/mysql-4.1
  into mysql.com:/home/mysql_src/mysql-4.1-clean

  mysql-test/r/ctype_ucs.result
    1.21 05/01/13 15:35:30 guilhem@mysql.com +0 -0
    Auto merged

ChangeSet
  1.2121 05/01/13 16:15:14 marko@hundin.mysql.fi +3 -0
  InnoDB: Detect the availability of the Mac OS X fsync() work-around
  at run-time, so that an executable compiled on Mac OS X 10.2 can
  be run on Mac OS X 10.2 (without the work-around) and Mac OS X 10.3
  and later with the work-aroud enabled.

  innobase/srv/srv0start.c
    1.75 05/01/13 16:15:08 marko@hundin.mysql.fi +27 -0
    innobase_start_or_create_for_mysql(): When compiled on OS X 10.2,
    detect if the binary is running on OS X 10.3 or later, and set
    srv_have_fullfsync accordingly.

  innobase/os/os0file.c
    1.93 05/01/13 16:15:08 marko@hundin.mysql.fi +18 -6
    os_file_flush(): Use F_FULLFSYNC on Mac OS X 10.3, but not on 10.2

  innobase/include/srv0start.h
    1.12 05/01/13 16:15:08 marko@hundin.mysql.fi +4 -0
    Mac OS X: Add srv_have_fullfsync

ChangeSet
  1.2117.97.3 05/01/13 18:12:04 bar@mysql.com +34 -0
  bug#7284: strnxfrm returns different results for equal strings

  mysql-test/include/ctype_filesort.inc
    1.1 05/01/13 18:11:57 bar@mysql.com +15 -0

  strings/ctype-win1250ch.c
    1.43 05/01/13 18:11:57 bar@mysql.com +3 -1
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-utf8.c
    1.79 05/01/13 18:11:57 bar@mysql.com +3 -2
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-ucs2.c
    1.34 05/01/13 18:11:57 bar@mysql.com +6 -3
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/include/ctype_filesort.inc
    1.0 05/01/13 18:11:57 bar@mysql.com +0 -0
    BitKeeper file /usr/home/bar/mysql-4.1/mysql-test/include/ctype_filesort.inc

  strings/ctype-uca.c
    1.27 05/01/13 18:11:56 bar@mysql.com +12 -4
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-tis620.c
    1.79 05/01/13 18:11:56 bar@mysql.com +5 -1
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-sjis.c
    1.73 05/01/13 18:11:56 bar@mysql.com +3 -1
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-simple.c
    1.58 05/01/13 18:11:56 bar@mysql.com +43 -2
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-mb.c
    1.35 05/01/13 18:11:56 bar@mysql.com +6 -5
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-latin1.c
    1.38 05/01/13 18:11:56 bar@mysql.com +3 -2
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-gbk.c
    1.66 05/01/13 18:11:56 bar@mysql.com +4 -1
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-czech.c
    1.53 05/01/13 18:11:56 bar@mysql.com +5 -3
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-bin.c
    1.55 05/01/13 18:11:56 bar@mysql.com +20 -6
    bug#7284: strnxfrm returns different results for equal strings

  strings/ctype-big5.c
    1.68 05/01/13 18:11:56 bar@mysql.com +4 -1
    bug#7284: strnxfrm returns different results for equal strings

  sql/filesort.cc
    1.88 05/01/13 18:11:56 bar@mysql.com +1 -4
    bug#7284: strnxfrm returns different results for equal strings

  sql/field.cc
    1.202.1.1 05/01/13 18:11:56 bar@mysql.com +3 -9
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_utf8.test
    1.47 05/01/13 18:11:56 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_ujis.test
    1.11 05/01/13 18:11:56 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_ucs.test
    1.19 05/01/13 18:11:55 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_uca.test
    1.10 05/01/13 18:11:55 bar@mysql.com +3 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_tis620.test
    1.8 05/01/13 18:11:55 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_sjis.test
    1.5 05/01/13 18:11:55 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_latin1_de.test
    1.19 05/01/13 18:11:55 bar@mysql.com +2 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_latin1.test
    1.3 05/01/13 18:11:55 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/t/ctype_big5.test
    1.4 05/01/13 18:11:55 bar@mysql.com +6 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_utf8.result
    1.45.1.2 05/01/13 18:11:55 bar@mysql.com +20 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_ujis.result
    1.10 05/01/13 18:11:55 bar@mysql.com +20 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_ucs.result
    1.19.1.1 05/01/13 18:11:55 bar@mysql.com +21 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_uca.result
    1.12 05/01/13 18:11:55 bar@mysql.com +10 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_tis620.result
    1.8 05/01/13 18:11:55 bar@mysql.com +20 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_sjis.result
    1.5 05/01/13 18:11:55 bar@mysql.com +20 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_latin1_de.result
    1.19 05/01/13 18:11:55 bar@mysql.com +9 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_latin1.result
    1.3 05/01/13 18:11:55 bar@mysql.com +20 -0
    bug#7284: strnxfrm returns different results for equal strings

  mysql-test/r/ctype_big5.result
    1.5 05/01/13 18:11:55 bar@mysql.com +21 -0
    bug#7284: strnxfrm returns different results for equal strings

ChangeSet
  1.2117.98.1 05/01/13 14:57:51 lenz@mysql.com +1 -0
  - bumped up the version number in configure.in from 4.1.9 to 4.1.10
  - tagged ChangeSet 1.2207 as "mysql-4.1.9"

  configure.in
    1.337 05/01/13 14:57:43 lenz@mysql.com +1 -1
    - bumped up the version number from 4.1.9 to 4.1.10

ChangeSet
  1.2117.97.2 05/01/13 15:04:57 jani@ua141d10.elisa.omakaista.fi +2 -0
  Fixed a problem with a test. Time could be 0 or 1 seconds, depending
  on whether running with or without valgrind.

  mysql-test/t/ps_1general.test
    1.10 05/01/13 15:04:55 jani@ua141d10.elisa.omakaista.fi +1 -1
    Fixed a problem with a test. Time could be 0 or 1 seconds, depending
    on whether running with or without valgrind.

  mysql-test/r/ps_1general.result
    1.14 05/01/13 15:04:55 jani@ua141d10.elisa.omakaista.fi +1 -1
    Fixed a problem with a test. Time could be 0 or 1 seconds, depending
    on whether running with or without valgrind.

ChangeSet
  1.2117.97.1 05/01/13 13:07:35 lenz@mysql.com +1 -0
  - added the 4.0 shared mysqlclient libraries to the 4.1 "shared-compat" RPM

  support-files/MySQL-shared-compat.spec.sh
    1.5 05/01/13 13:07:26 lenz@mysql.com +18 -10
    - added the 4.0 shared mysqlclient libraries to the 4.1 "shared-compat" RPM

ChangeSet
  1.2117.96.1 05/01/13 11:12:00 serg@serg.mylan +1 -0
  Merge serg.mylan:/usr/home/serg/Abk/mysql-4.0
  into serg.mylan:/usr/home/serg/Abk/mysql-4.1

  scripts/mysqlaccess.sh
    1.10 05/01/13 11:11:52 serg@serg.mylan +0 -0
    Auto merged

ChangeSet
  1.2117.95.1 05/01/13 10:28:26 joreland@mysql.com +2 -0
  bug#7864 - fix ndb limit 4.5G data memory due to truncation error

  ndb/src/kernel/vm/Configuration.cpp
    1.31 05/01/13 10:28:23 joreland@mysql.com +1 -1
    compute size in 32k pages directly

  ndb/src/kernel/blocks/dbtup/DbtupGen.cpp
    1.13 05/01/13 10:28:23 joreland@mysql.com +3 -6
    remove 8k->32k conversion

ChangeSet
  1.2117.92.3 05/01/12 21:04:31 mwagner@here.mwagner.org +2 -0
  libmysqld.def, libmysql.def:
    Use the invisible tabs (!)

  libmysqld/libmysqld.def
    1.10 05/01/12 21:04:10 mwagner@here.mwagner.org +1 -1
    Use the invisible tabs (!)

  libmysql/libmysql.def
    1.34 05/01/12 21:03:29 mwagner@here.mwagner.org +1 -1
    Use the invisible tabs (!)

ChangeSet
  1.2117.92.2 05/01/12 19:56:49 mwagner@here.mwagner.org +2 -0
  libmysqld.def, libmysql.def:
    Add missing 'get_defaults_files' to fix linking error.

  libmysqld/libmysqld.def
    1.9 05/01/12 19:56:29 mwagner@here.mwagner.org +1 -0
    Add missing 'get_defaults_files' to fix linking error.

  libmysql/libmysql.def
    1.33 05/01/12 19:56:04 mwagner@here.mwagner.org +1 -0
    Add missing 'get_defaults_files' to fix linking error.

ChangeSet
  1.2117.94.1 05/01/12 17:20:43 jimw@mysql.com +1 -0
  Fix small memory leak that occured when BerkeleyDB failed to initialize.

  sql/ha_berkeley.cc
    1.146 05/01/12 16:54:36 jimw@mysql.com +2 -0
    Skip allocation of hash and lock on error

ChangeSet
  1.2117.93.2 05/01/13 00:52:19 jimw@mysql.com +1 -0
  Small fix for Field_str::store() to avoid trying to read past beginning
  of log_10 array.

  sql/field.cc
    1.205 05/01/13 00:50:34 jimw@mysql.com +1 -1
    Avoid pointless calculation for really short fields, and what could be
    an attempt to access outside the bounds of the log_10 array.

ChangeSet
  1.2117.87.7 05/01/13 00:44:13 guilhem@mysql.com +1 -0
  Fix for BUG#7850: force the transaction isolation level to REPEATABLE READ when --single-transaction

  client/mysqldump.c
    1.168 05/01/13 00:44:06 guilhem@mysql.com +7 -0
    force the transaction isolation level to REPEATABLE READ when --single-transaction

ChangeSet
  1.2117.93.1 05/01/13 00:41:45 jimw@mysql.com +4 -0
  Fix conversion of floating point values to character fields when the
  absolute value of the float is less than 1, and also fix calculation of
  length for negative values. (Bug #7774)

  mysql-test/t/type_float.test
    1.15 05/01/13 00:39:44 jimw@mysql.com +10 -0
    Add test for conversion of floats to character field

  mysql-test/r/type_float.result.es
    1.4 05/01/13 00:38:47 jimw@mysql.com +15 -0
    Add results

  mysql-test/r/type_float.result
    1.27 05/01/13 00:38:42 jimw@mysql.com +15 -0
    Add results

ChangeSet
  1.2117.92.1 05/01/13 02:13:19 konstantin@mysql.com +2 -0
  Add logging of COM_EXECUTE in the general query log.

  sql/sql_prepare.cc
    1.143 05/01/13 02:13:13 konstantin@mysql.com +4 -1
    Add logging of COM_EXECUTE in the general query log.

  sql/sql_parse.cc
    1.414.1.3 05/01/13 02:13:13 konstantin@mysql.com +1 -1
    A shorter name for COM_EXECUTE command.

  sql/field.cc
    1.204 05/01/13 00:03:26 jimw@mysql.com +10 -4
    Fix handling of negative values and fabs(values> < 1 in Field_str::store

ChangeSet
  1.1346.777.1 05/01/12 23:30:54 serg@serg.mylan +1 -0
  Symlink vulnerability fixed.
  reported by Javier Fernandez-Sanguino Pena
  and Debian Security Audit Team (http://www.debian.org/security/audit)

  scripts/mysqlaccess.sh
    1.8.1.1 05/01/12 23:30:49 serg@serg.mylan +13 -26
    Symlink vulnerability fixed.
    reported by Javier Fernandez-Sanguino Pena
    and Debian Security Audit Team (http://www.debian.org/security/audit)

ChangeSet
  1.2117.87.5 05/01/12 22:55:10 jani@a193-229-222-105.elisa-laajakaista.fi +2 -0
  Minor clean up.

  sql/sql_analyse.cc
    1.47 05/01/12 22:54:10 jani@a193-229-222-105.elisa-laajakaista.fi +7 -8
    Changed function description to standard format.

  mysql-test/t/analyse.test
    1.12 05/01/12 22:54:10 jani@a193-229-222-105.elisa-laajakaista.fi +5 -0
    Added a note about the bug that this test case tests.

ChangeSet
  1.2117.90.1 05/01/12 19:42:46 guilhem@mysql.com +4 -0
  Fix for BUG#7793 "mysqlbinlog produces incorrect queries":
  when printing SET @var in mysqlbinlog, backtick the collation (as BINARY is a reserved word)

  sql/log_event.cc
    1.172.1.1 05/01/12 19:42:39 guilhem@mysql.com +1 -1
    when printing SET @var in mysqlbinlog, backtick the collation (as BINARY is a reserved word)

  mysql-test/t/user_var.test
    1.16 05/01/12 19:42:39 guilhem@mysql.com +2 -1
    testing a variable with BINARY collation, which needs the backticks

  mysql-test/r/user_var.result
    1.20 05/01/12 19:42:39 guilhem@mysql.com +8 -5
    backticks added

  mysql-test/r/ctype_ucs.result
    1.20 05/01/12 19:42:39 guilhem@mysql.com +1 -1
    backticks added

ChangeSet
  1.2117.87.3 05/01/12 20:28:31 konstantin@mysql.com +1 -0
  A test case for Bug#6761 "mysql_list_fields doesn't work"

  tests/client_test.c
    1.144 05/01/12 20:28:26 konstantin@mysql.com +24 -0
    A test case for Bug#6761 "mysql_list_fields doesn't work"

ChangeSet
  1.2117.88.1 05/01/12 18:19:30 tulin@build.mysql.com +1 -0
  fix shm key

  ndb/src/mgmsrv/ConfigInfo.cpp
    1.51 05/01/12 18:16:13 tulin@build.mysql.com +26 -3
    fix shm key

ChangeSet
  1.2117.87.2 05/01/12 19:00:04 konstantin@mysql.com +2 -0
  Merge mysql.com:/home/kostja/work/mysql-4.0-6761
  into mysql.com:/home/kostja/work/mysql-4.1-root

  sql/sql_parse.cc
    1.414.1.2 05/01/12 19:00:03 konstantin@mysql.com +0 -0
    Auto merged

  sql/mysqld.cc
    1.541 05/01/12 19:00:03 konstantin@mysql.com +0 -0
    Auto merged

ChangeSet
  1.1346.1.680 05/01/12 17:04:45 konstantin@mysql.com +1 -0
  A fix for Bug#6761 "mysql_list_fields() does not work": test
  case will be added to client_test in 4.1

  sql/sql_parse.cc
    1.218.1.169 05/01/12 17:04:42 konstantin@mysql.com +1 -1
    A fix for bug #6761: "mysql_list_fields() does not work": init
    thd->query_length, which is used next line. Remove a stale comment.

ChangeSet
  1.1346.776.1 05/01/12 15:24:49 marko@hundin.mysql.fi +2 -0
  InnoDB: Use system-supplied tmpfile() on Netware, as there is no
  open interface for setting the "delete-on-close" flag.

  sql/ha_innodb.cc
    1.73.1.156 05/01/12 15:24:41 marko@hundin.mysql.fi +2 -0
    Remove innobase_mysql_tmpfile() on Netware.

  innobase/os/os0file.c
    1.44.1.37 05/01/12 15:24:41 marko@hundin.mysql.fi +15 -9
    Use system-supplied tmpfile() on Netware

ChangeSet
  1.2120 05/01/12 13:59:44 marko@hundin.mysql.fi +3 -0
  Merge marko@bk-internal.mysql.com:/home/bk/mysql-4.1
  into hundin.mysql.fi:/home/marko/k/mysql-4.1

ChangeSet
  1.2117.86.1 05/01/12 13:06:06 lenz@mysql.com +1 -0
  - Modified Do-compile to run the test suite with ps-protocol and against 
    the embedded server by default (if included). These additional steps can
    be skipped by providing "--skip-embedded-test" and "--skip-ps-test"

  Build-tools/Do-compile
    1.100 05/01/12 13:05:57 lenz@mysql.com +14 -14
    - enabled running the test suite with ps-protocol and against the embedded
      server by default (if included). These additional steps can be skipped
      by providing "--skip-embedded-test" and "--skip-ps-test"

  sql/ha_innodb.cc
    1.178 05/01/12 13:59:31 marko@hundin.mysql.fi +0 -0
    Auto merged

  innobase/row/row0sel.c
    1.63 05/01/12 13:59:31 marko@hundin.mysql.fi +0 -0
    Auto merged

  innobase/include/row0mysql.h
    1.32 05/01/12 13:59:30 marko@hundin.mysql.fi +0 -0
    Auto merged

ChangeSet
  1.1346.1.679 05/01/12 12:35:34 serg@serg.mylan +1 -0
  Merge bk-internal:/home/bk/mysql-4.0/
  into serg.mylan:/usr/home/serg/Abk/mysql-4.0

  sql/mysqld.cc
    1.297.1.224 05/01/12 12:35:30 serg@serg.mylan +0 -0
    Auto merged

ChangeSet
  1.2117.85.1 05/01/12 12:24:23 serg@serg.mylan +1 -0
  merged. ul.

  sql/mysqld.cc
    1.540 05/01/12 12:24:17 serg@serg.mylan +0 -1
    merged. ul.

ChangeSet
  1.1346.770.2 05/01/12 12:18:17 serg@serg.mylan +1 -0
  added missing Com_update_multi status variable

  sql/mysqld.cc
    1.297.50.1 05/01/12 12:18:13 serg@serg.mylan +1 -0
    added missing Com_update_multi status variable

ChangeSet
  1.2117.83.1 05/01/12 11:17:03 joreland@mysql.com +1 -0
  ndb - fix 64-bit problem in autotest

  ndb/test/src/CpcClient.cpp
    1.10 05/01/12 11:17:00 joreland@mysql.com +20 -22
    Fix 64-bit problem

ChangeSet
  1.2117.74.2 05/01/12 12:18:36 dlenev@brandersnatch.localdomain +3 -0
  Fix for bug #7586 "TIMEDIFF for sec+microsec not working properly".

  sql/item_timefunc.cc
    1.80 05/01/12 12:18:33 dlenev@mysql.com +10 -20
    Item_func_timediff::val_str():
     Use simplier and less error-prone implementation. Now we are counting 
     difference between time values in microseconds and convert it to time
     value (instead of using seconds and taking difference in "second_part"s 
     into account).

  mysql-test/t/func_sapdb.test
    1.6 05/01/12 12:18:33 dlenev@mysql.com +1 -0
    Added test for bug #7586 "TIMEDIFF for sec+microsec not working
    properly".

  mysql-test/r/func_sapdb.result
    1.7 05/01/12 12:18:33 dlenev@mysql.com +5 -2
    Added test for bug #7586 "TIMEDIFF for sec+microsec not working
    properly". Corrected previously wrong results of couple other
    statements.

ChangeSet
  1.2117.82.3 05/01/12 10:36:50 jan@hundin.mysql.fi +1 -0
  Take a shared record lock (LOCK_REC_NOT_GAP) for a matching record in the foreign
  key check because we can allow inserts into gaps (Support Issue #4317).

  innobase/row/row0ins.c
    1.53 05/01/12 10:36:44 jan@hundin.mysql.fi +6 -19
    Take a shared record lock (LOCK_REC_NOT_GAP) for a matching record in the foreign
    key check because we can allow inserts into gaps.

  sql/field.cc
    1.203 05/01/12 04:33:44 jimw@mysql.com +3 -2
    Skip setting use_scientific_notation to FALSE for values less than 1
    and take - into account for negative numbers.

ChangeSet
  1.2117.82.2 05/01/11 23:09:10 tomas@poseidon.ndb.mysql.com +1 -0
  ndbcluster.sh:
    increased timeouts to see if more tests get started automatically

  mysql-test/ndb/ndbcluster.sh
    1.37 05/01/11 23:08:02 tomas@poseidon.ndb.mysql.com +3 -3
    increased timeouts to see if more tests get started automatically

